var Hw=Object.defineProperty;var xp=a=>{throw TypeError(a)};var _w=(a,r,l)=>r in a?Hw(a,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[r]=l;var Qm=(a,r,l)=>_w(a,typeof r!="symbol"?r+"":r,l),Gm=(a,r,l)=>r.has(a)||xp("Cannot "+l);var Q=(a,r,l)=>(Gm(a,r,"read from private field"),l?l.call(a):r.get(a)),Ke=(a,r,l)=>r.has(a)?xp("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(a):r.set(a,l),Ue=(a,r,l,o)=>(Gm(a,r,"write to private field"),o?o.call(a,l):r.set(a,l),l),it=(a,r,l)=>(Gm(a,r,"access private method"),l);var Qc=(a,r,l,o)=>({set _(d){Ue(a,r,d,l)},get _(){return Q(a,r,o)}});function Iw(a,r){for(var l=0;l<r.length;l++){const o=r[l];if(typeof o!="string"&&!Array.isArray(o)){for(const d in o)if(d!=="default"&&!(d in a)){const h=Object.getOwnPropertyDescriptor(o,d);h&&Object.defineProperty(a,d,h.get?h:{enumerable:!0,get:()=>o[d]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))o(d);new MutationObserver(d=>{for(const h of d)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function l(d){const h={};return d.integrity&&(h.integrity=d.integrity),d.referrerPolicy&&(h.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?h.credentials="include":d.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function o(d){if(d.ep)return;d.ep=!0;const h=l(d);fetch(d.href,h)}})();function Yb(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Ym={exports:{}},Ki={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gp;function Qw(){if(gp)return Ki;gp=1;var a=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function l(o,d,h){var f=null;if(h!==void 0&&(f=""+h),d.key!==void 0&&(f=""+d.key),"key"in d){h={};for(var p in d)p!=="key"&&(h[p]=d[p])}else h=d;return d=h.ref,{$$typeof:a,type:o,key:f,ref:d!==void 0?d:null,props:h}}return Ki.Fragment=r,Ki.jsx=l,Ki.jsxs=l,Ki}var pp;function Gw(){return pp||(pp=1,Ym.exports=Qw()),Ym.exports}var e=Gw(),Vm={exports:{}},tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp;function Yw(){if(bp)return tt;bp=1;var a=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),T=Symbol.iterator;function j(B){return B===null||typeof B!="object"?null:(B=T&&B[T]||B["@@iterator"],typeof B=="function"?B:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function D(B,R,$){this.props=B,this.context=R,this.refs=S,this.updater=$||C}D.prototype.isReactComponent={},D.prototype.setState=function(B,R){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,R,"setState")},D.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function U(){}U.prototype=D.prototype;function y(B,R,$){this.props=B,this.context=R,this.refs=S,this.updater=$||C}var F=y.prototype=new U;F.constructor=y,E(F,D.prototype),F.isPureReactComponent=!0;var te=Array.isArray;function z(){}var k={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function ne(B,R,$){var W=$.ref;return{$$typeof:a,type:B,key:R,ref:W!==void 0?W:null,props:$}}function _(B,R){return ne(B.type,R,B.props)}function we(B){return typeof B=="object"&&B!==null&&B.$$typeof===a}function Y(B){var R={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function($){return R[$]})}var L=/\/+/g;function O(B,R){return typeof B=="object"&&B!==null&&B.key!=null?Y(""+B.key):R.toString(36)}function be(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(z,z):(B.status="pending",B.then(function(R){B.status==="pending"&&(B.status="fulfilled",B.value=R)},function(R){B.status==="pending"&&(B.status="rejected",B.reason=R)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function I(B,R,$,W,he){var Se=typeof B;(Se==="undefined"||Se==="boolean")&&(B=null);var Me=!1;if(B===null)Me=!0;else switch(Se){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(B.$$typeof){case a:case r:Me=!0;break;case b:return Me=B._init,I(Me(B._payload),R,$,W,he)}}if(Me)return he=he(B),Me=W===""?"."+O(B,0):W,te(he)?($="",Me!=null&&($=Me.replace(L,"$&/")+"/"),I(he,R,$,"",function(_e){return _e})):he!=null&&(we(he)&&(he=_(he,$+(he.key==null||B&&B.key===he.key?"":(""+he.key).replace(L,"$&/")+"/")+Me)),R.push(he)),1;Me=0;var fe=W===""?".":W+":";if(te(B))for(var Re=0;Re<B.length;Re++)W=B[Re],Se=fe+O(W,Re),Me+=I(W,R,$,Se,he);else if(Re=j(B),typeof Re=="function")for(B=Re.call(B),Re=0;!(W=B.next()).done;)W=W.value,Se=fe+O(W,Re++),Me+=I(W,R,$,Se,he);else if(Se==="object"){if(typeof B.then=="function")return I(be(B),R,$,W,he);throw R=String(B),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return Me}function se(B,R,$){if(B==null)return B;var W=[],he=0;return I(B,W,"","",function(Se){return R.call($,Se,he++)}),W}function de(B){if(B._status===-1){var R=B._result;R=R(),R.then(function($){(B._status===0||B._status===-1)&&(B._status=1,B._result=$)},function($){(B._status===0||B._status===-1)&&(B._status=2,B._result=$)}),B._status===-1&&(B._status=0,B._result=R)}if(B._status===1)return B._result.default;throw B._result}var V=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},je={map:se,forEach:function(B,R,$){se(B,function(){R.apply(this,arguments)},$)},count:function(B){var R=0;return se(B,function(){R++}),R},toArray:function(B){return se(B,function(R){return R})||[]},only:function(B){if(!we(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return tt.Activity=w,tt.Children=je,tt.Component=D,tt.Fragment=l,tt.Profiler=d,tt.PureComponent=y,tt.StrictMode=o,tt.Suspense=x,tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,tt.__COMPILER_RUNTIME={__proto__:null,c:function(B){return k.H.useMemoCache(B)}},tt.cache=function(B){return function(){return B.apply(null,arguments)}},tt.cacheSignal=function(){return null},tt.cloneElement=function(B,R,$){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var W=E({},B.props),he=B.key;if(R!=null)for(Se in R.key!==void 0&&(he=""+R.key),R)!K.call(R,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&R.ref===void 0||(W[Se]=R[Se]);var Se=arguments.length-2;if(Se===1)W.children=$;else if(1<Se){for(var Me=Array(Se),fe=0;fe<Se;fe++)Me[fe]=arguments[fe+2];W.children=Me}return ne(B.type,he,W)},tt.createContext=function(B){return B={$$typeof:f,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:h,_context:B},B},tt.createElement=function(B,R,$){var W,he={},Se=null;if(R!=null)for(W in R.key!==void 0&&(Se=""+R.key),R)K.call(R,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(he[W]=R[W]);var Me=arguments.length-2;if(Me===1)he.children=$;else if(1<Me){for(var fe=Array(Me),Re=0;Re<Me;Re++)fe[Re]=arguments[Re+2];he.children=fe}if(B&&B.defaultProps)for(W in Me=B.defaultProps,Me)he[W]===void 0&&(he[W]=Me[W]);return ne(B,Se,he)},tt.createRef=function(){return{current:null}},tt.forwardRef=function(B){return{$$typeof:p,render:B}},tt.isValidElement=we,tt.lazy=function(B){return{$$typeof:b,_payload:{_status:-1,_result:B},_init:de}},tt.memo=function(B,R){return{$$typeof:g,type:B,compare:R===void 0?null:R}},tt.startTransition=function(B){var R=k.T,$={};k.T=$;try{var W=B(),he=k.S;he!==null&&he($,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(z,V)}catch(Se){V(Se)}finally{R!==null&&$.types!==null&&(R.types=$.types),k.T=R}},tt.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},tt.use=function(B){return k.H.use(B)},tt.useActionState=function(B,R,$){return k.H.useActionState(B,R,$)},tt.useCallback=function(B,R){return k.H.useCallback(B,R)},tt.useContext=function(B){return k.H.useContext(B)},tt.useDebugValue=function(){},tt.useDeferredValue=function(B,R){return k.H.useDeferredValue(B,R)},tt.useEffect=function(B,R){return k.H.useEffect(B,R)},tt.useEffectEvent=function(B){return k.H.useEffectEvent(B)},tt.useId=function(){return k.H.useId()},tt.useImperativeHandle=function(B,R,$){return k.H.useImperativeHandle(B,R,$)},tt.useInsertionEffect=function(B,R){return k.H.useInsertionEffect(B,R)},tt.useLayoutEffect=function(B,R){return k.H.useLayoutEffect(B,R)},tt.useMemo=function(B,R){return k.H.useMemo(B,R)},tt.useOptimistic=function(B,R){return k.H.useOptimistic(B,R)},tt.useReducer=function(B,R,$){return k.H.useReducer(B,R,$)},tt.useRef=function(B){return k.H.useRef(B)},tt.useState=function(B){return k.H.useState(B)},tt.useSyncExternalStore=function(B,R,$){return k.H.useSyncExternalStore(B,R,$)},tt.useTransition=function(){return k.H.useTransition()},tt.version="19.2.0",tt}var yp;function bd(){return yp||(yp=1,Vm.exports=Yw()),Vm.exports}var u=bd();const ge=Yb(u),vp=Iw({__proto__:null,default:ge},[u]);var Km={exports:{}},Zi={},Zm={exports:{}},Xm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp;function Vw(){return jp||(jp=1,(function(a){function r(I,se){var de=I.length;I.push(se);e:for(;0<de;){var V=de-1>>>1,je=I[V];if(0<d(je,se))I[V]=se,I[de]=je,de=V;else break e}}function l(I){return I.length===0?null:I[0]}function o(I){if(I.length===0)return null;var se=I[0],de=I.pop();if(de!==se){I[0]=de;e:for(var V=0,je=I.length,B=je>>>1;V<B;){var R=2*(V+1)-1,$=I[R],W=R+1,he=I[W];if(0>d($,de))W<je&&0>d(he,$)?(I[V]=he,I[W]=de,V=W):(I[V]=$,I[R]=de,V=R);else if(W<je&&0>d(he,de))I[V]=he,I[W]=de,V=W;else break e}}return se}function d(I,se){var de=I.sortIndex-se.sortIndex;return de!==0?de:I.id-se.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var f=Date,p=f.now();a.unstable_now=function(){return f.now()-p}}var x=[],g=[],b=1,w=null,T=3,j=!1,C=!1,E=!1,S=!1,D=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function F(I){for(var se=l(g);se!==null;){if(se.callback===null)o(g);else if(se.startTime<=I)o(g),se.sortIndex=se.expirationTime,r(x,se);else break;se=l(g)}}function te(I){if(E=!1,F(I),!C)if(l(x)!==null)C=!0,z||(z=!0,Y());else{var se=l(g);se!==null&&be(te,se.startTime-I)}}var z=!1,k=-1,K=5,ne=-1;function _(){return S?!0:!(a.unstable_now()-ne<K)}function we(){if(S=!1,z){var I=a.unstable_now();ne=I;var se=!0;try{e:{C=!1,E&&(E=!1,U(k),k=-1),j=!0;var de=T;try{t:{for(F(I),w=l(x);w!==null&&!(w.expirationTime>I&&_());){var V=w.callback;if(typeof V=="function"){w.callback=null,T=w.priorityLevel;var je=V(w.expirationTime<=I);if(I=a.unstable_now(),typeof je=="function"){w.callback=je,F(I),se=!0;break t}w===l(x)&&o(x),F(I)}else o(x);w=l(x)}if(w!==null)se=!0;else{var B=l(g);B!==null&&be(te,B.startTime-I),se=!1}}break e}finally{w=null,T=de,j=!1}se=void 0}}finally{se?Y():z=!1}}}var Y;if(typeof y=="function")Y=function(){y(we)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,O=L.port2;L.port1.onmessage=we,Y=function(){O.postMessage(null)}}else Y=function(){D(we,0)};function be(I,se){k=D(function(){I(a.unstable_now())},se)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(I){I.callback=null},a.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<I?Math.floor(1e3/I):5},a.unstable_getCurrentPriorityLevel=function(){return T},a.unstable_next=function(I){switch(T){case 1:case 2:case 3:var se=3;break;default:se=T}var de=T;T=se;try{return I()}finally{T=de}},a.unstable_requestPaint=function(){S=!0},a.unstable_runWithPriority=function(I,se){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var de=T;T=I;try{return se()}finally{T=de}},a.unstable_scheduleCallback=function(I,se,de){var V=a.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?V+de:V):de=V,I){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=de+je,I={id:b++,callback:se,priorityLevel:I,startTime:de,expirationTime:je,sortIndex:-1},de>V?(I.sortIndex=de,r(g,I),l(x)===null&&I===l(g)&&(E?(U(k),k=-1):E=!0,be(te,de-V))):(I.sortIndex=je,r(x,I),C||j||(C=!0,z||(z=!0,Y()))),I},a.unstable_shouldYield=_,a.unstable_wrapCallback=function(I){var se=T;return function(){var de=T;T=se;try{return I.apply(this,arguments)}finally{T=de}}}})(Xm)),Xm}var wp;function Kw(){return wp||(wp=1,Zm.exports=Vw()),Zm.exports}var Jm={exports:{}},Ns={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np;function Zw(){if(Np)return Ns;Np=1;var a=bd();function r(x){var g="https://react.dev/errors/"+x;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+x+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var o={d:{f:l,r:function(){throw Error(r(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},d=Symbol.for("react.portal");function h(x,g,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:w==null?null:""+w,children:x,containerInfo:g,implementation:b}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(x,g){if(x==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ns.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Ns.createPortal=function(x,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(r(299));return h(x,g,null,b)},Ns.flushSync=function(x){var g=f.T,b=o.p;try{if(f.T=null,o.p=2,x)return x()}finally{f.T=g,o.p=b,o.d.f()}},Ns.preconnect=function(x,g){typeof x=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,o.d.C(x,g))},Ns.prefetchDNS=function(x){typeof x=="string"&&o.d.D(x)},Ns.preinit=function(x,g){if(typeof x=="string"&&g&&typeof g.as=="string"){var b=g.as,w=p(b,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,j=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?o.d.S(x,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:T,fetchPriority:j}):b==="script"&&o.d.X(x,{crossOrigin:w,integrity:T,fetchPriority:j,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ns.preinitModule=function(x,g){if(typeof x=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=p(g.as,g.crossOrigin);o.d.M(x,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&o.d.M(x)},Ns.preload=function(x,g){if(typeof x=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,w=p(b,g.crossOrigin);o.d.L(x,b,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ns.preloadModule=function(x,g){if(typeof x=="string")if(g){var b=p(g.as,g.crossOrigin);o.d.m(x,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else o.d.m(x)},Ns.requestFormReset=function(x){o.d.r(x)},Ns.unstable_batchedUpdates=function(x,g){return x(g)},Ns.useFormState=function(x,g,b){return f.H.useFormState(x,g,b)},Ns.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ns.version="19.2.0",Ns}var Sp;function Vb(){if(Sp)return Jm.exports;Sp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(r){console.error(r)}}return a(),Jm.exports=Zw(),Jm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp;function Xw(){if(Cp)return Zi;Cp=1;var a=Kw(),r=bd(),l=Vb();function o(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)s+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var s=t,n=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(n=s.return),t=s.return;while(t)}return s.tag===3?n:null}function f(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function p(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function x(t){if(h(t)!==t)throw Error(o(188))}function g(t){var s=t.alternate;if(!s){if(s=h(t),s===null)throw Error(o(188));return s!==t?null:t}for(var n=t,i=s;;){var c=n.return;if(c===null)break;var m=c.alternate;if(m===null){if(i=c.return,i!==null){n=i;continue}break}if(c.child===m.child){for(m=c.child;m;){if(m===n)return x(c),t;if(m===i)return x(c),s;m=m.sibling}throw Error(o(188))}if(n.return!==i.return)n=c,i=m;else{for(var v=!1,A=c.child;A;){if(A===n){v=!0,n=c,i=m;break}if(A===i){v=!0,i=c,n=m;break}A=A.sibling}if(!v){for(A=m.child;A;){if(A===n){v=!0,n=m,i=c;break}if(A===i){v=!0,i=m,n=c;break}A=A.sibling}if(!v)throw Error(o(189))}}if(n.alternate!==i)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?t:s}function b(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=b(t),s!==null)return s;t=t.sibling}return null}var w=Object.assign,T=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),y=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),_=Symbol.for("react.memo_cache_sentinel"),we=Symbol.iterator;function Y(t){return t===null||typeof t!="object"?null:(t=we&&t[we]||t["@@iterator"],typeof t=="function"?t:null)}var L=Symbol.for("react.client.reference");function O(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===L?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case E:return"Fragment";case D:return"Profiler";case S:return"StrictMode";case te:return"Suspense";case z:return"SuspenseList";case ne:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case C:return"Portal";case y:return t.displayName||"Context";case U:return(t._context.displayName||"Context")+".Consumer";case F:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case k:return s=t.displayName||null,s!==null?s:O(t.type)||"Memo";case K:s=t._payload,t=t._init;try{return O(t(s))}catch{}}return null}var be=Array.isArray,I=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},V=[],je=-1;function B(t){return{current:t}}function R(t){0>je||(t.current=V[je],V[je]=null,je--)}function $(t,s){je++,V[je]=t.current,t.current=s}var W=B(null),he=B(null),Se=B(null),Me=B(null);function fe(t,s){switch($(Se,s),$(he,t),$(W,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?Bg(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=Bg(s),t=Pg(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}R(W),$(W,t)}function Re(){R(W),R(he),R(Se)}function _e(t){t.memoizedState!==null&&$(Me,t);var s=W.current,n=Pg(s,t.type);s!==n&&($(he,t),$(W,n))}function Ye(t){he.current===t&&(R(W),R(he)),Me.current===t&&(R(Me),Qi._currentValue=de)}var Je,re;function ke(t){if(Je===void 0)try{throw Error()}catch(n){var s=n.stack.trim().match(/\n( *(at )?)/);Je=s&&s[1]||"",re=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Je+t+re}var Fe=!1;function Ge(t,s){if(!t||Fe)return"";Fe=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(s){var Ce=function(){throw Error()};if(Object.defineProperty(Ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ce,[])}catch(me){var ce=me}Reflect.construct(t,[],Ce)}else{try{Ce.call()}catch(me){ce=me}t.call(Ce.prototype)}}else{try{throw Error()}catch(me){ce=me}(Ce=t())&&typeof Ce.catch=="function"&&Ce.catch(function(){})}}catch(me){if(me&&ce&&typeof me.stack=="string")return[me.stack,ce.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=i.DetermineComponentFrameRoot(),v=m[0],A=m[1];if(v&&A){var H=v.split(`
`),oe=A.split(`
`);for(c=i=0;i<H.length&&!H[i].includes("DetermineComponentFrameRoot");)i++;for(;c<oe.length&&!oe[c].includes("DetermineComponentFrameRoot");)c++;if(i===H.length||c===oe.length)for(i=H.length-1,c=oe.length-1;1<=i&&0<=c&&H[i]!==oe[c];)c--;for(;1<=i&&0<=c;i--,c--)if(H[i]!==oe[c]){if(i!==1||c!==1)do if(i--,c--,0>c||H[i]!==oe[c]){var ve=`
`+H[i].replace(" at new "," at ");return t.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",t.displayName)),ve}while(1<=i&&0<=c);break}}}finally{Fe=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?ke(n):""}function Ve(t,s){switch(t.tag){case 26:case 27:case 5:return ke(t.type);case 16:return ke("Lazy");case 13:return t.child!==s&&s!==null?ke("Suspense Fallback"):ke("Suspense");case 19:return ke("SuspenseList");case 0:case 15:return Ge(t.type,!1);case 11:return Ge(t.type.render,!1);case 1:return Ge(t.type,!0);case 31:return ke("Activity");default:return""}}function q(t){try{var s="",n=null;do s+=Ve(t,n),n=t,t=t.return;while(t);return s}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var ye=Object.prototype.hasOwnProperty,De=a.unstable_scheduleCallback,N=a.unstable_cancelCallback,G=a.unstable_shouldYield,P=a.unstable_requestPaint,Te=a.unstable_now,Ae=a.unstable_getCurrentPriorityLevel,J=a.unstable_ImmediatePriority,xe=a.unstable_UserBlockingPriority,ze=a.unstable_NormalPriority,ae=a.unstable_LowPriority,$e=a.unstable_IdlePriority,Qe=a.log,Yt=a.unstable_setDisableYieldValue,Ot=null,ot=null;function Nt(t){if(typeof Qe=="function"&&Yt(t),ot&&typeof ot.setStrictMode=="function")try{ot.setStrictMode(Ot,t)}catch{}}var St=Math.clz32?Math.clz32:et,Ks=Math.log,Zs=Math.LN2;function et(t){return t>>>=0,t===0?32:31-(Ks(t)/Zs|0)|0}var cs=256,xs=262144,ds=4194304;function Ct(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ka(t,s,n){var i=t.pendingLanes;if(i===0)return 0;var c=0,m=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var A=i&134217727;return A!==0?(i=A&~m,i!==0?c=Ct(i):(v&=A,v!==0?c=Ct(v):n||(n=A&~t,n!==0&&(c=Ct(n))))):(A=i&~m,A!==0?c=Ct(A):v!==0?c=Ct(v):n||(n=i&~t,n!==0&&(c=Ct(n)))),c===0?0:s!==0&&s!==c&&(s&m)===0&&(m=c&-c,n=s&-s,m>=n||m===32&&(n&4194048)!==0)?s:c}function Xe(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function gt(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jt(){var t=ds;return ds<<=1,(ds&62914560)===0&&(ds=4194304),t}function ls(t){for(var s=[],n=0;31>n;n++)s.push(t);return s}function Vt(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Fs(t,s,n,i,c,m){var v=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var A=t.entanglements,H=t.expirationTimes,oe=t.hiddenUpdates;for(n=v&~n;0<n;){var ve=31-St(n),Ce=1<<ve;A[ve]=0,H[ve]=-1;var ce=oe[ve];if(ce!==null)for(oe[ve]=null,ve=0;ve<ce.length;ve++){var me=ce[ve];me!==null&&(me.lane&=-536870913)}n&=~Ce}i!==0&&X(t,i,0),m!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=m&~(v&~s))}function X(t,s,n){t.pendingLanes|=s,t.suspendedLanes&=~s;var i=31-St(s);t.entangledLanes|=s,t.entanglements[i]=t.entanglements[i]|1073741824|n&261930}function Ee(t,s){var n=t.entangledLanes|=s;for(t=t.entanglements;n;){var i=31-St(n),c=1<<i;c&s|t[i]&s&&(t[i]|=s),n&=~c}}function st(t,s){var n=s&-s;return n=(n&42)!==0?1:us(n),(n&(t.suspendedLanes|s))!==0?0:n}function us(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ts(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ea(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:op(t.type))}function qa(t,s){var n=se.p;try{return se.p=t,s()}finally{se.p=n}}var la=Math.random().toString(36).slice(2),Ht="__reactFiber$"+la,Kt="__reactProps$"+la,$a="__reactContainer$"+la,ll="__reactEvents$"+la,zd="__reactListeners$"+la,Mo="__reactHandles$"+la,ii="__reactResources$"+la,M="__reactMarker$"+la;function le(t){delete t[Ht],delete t[Kt],delete t[ll],delete t[zd],delete t[Mo]}function Oe(t){var s=t[Ht];if(s)return s;for(var n=t.parentNode;n;){if(s=n[$a]||n[Ht]){if(n=s.alternate,s.child!==null||n!==null&&n.child!==null)for(t=Gg(t);t!==null;){if(n=t[Ht])return n;t=Gg(t)}return s}t=n,n=t.parentNode}return null}function Le(t){if(t=t[Ht]||t[$a]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function Pe(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(o(33))}function kt(t){var s=t[ii];return s||(s=t[ii]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function He(t){t[M]=!0}var lt=new Set,ms={};function gs(t,s){Xs(t,s),Xs(t+"Capture",s)}function Xs(t,s){for(ms[t]=s,t=0;t<s.length;t++)lt.add(s[t])}var yn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),E0={},T0={};function Ov(t){return ye.call(T0,t)?!0:ye.call(E0,t)?!1:yn.test(t)?T0[t]=!0:(E0[t]=!0,!1)}function Fo(t,s,n){if(Ov(s))if(n===null)t.removeAttribute(s);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var i=s.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+n)}}function Oo(t,s,n){if(n===null)t.removeAttribute(s);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+n)}}function er(t,s,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(s,n,""+i)}}function ia(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function A0(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Lv(t,s,n){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,m=i.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return c.call(this)},set:function(v){n=""+v,m.call(this,v)}}),Object.defineProperty(t,s,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(v){n=""+v},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Bd(t){if(!t._valueTracker){var s=A0(t)?"checked":"value";t._valueTracker=Lv(t,s,""+t[s])}}function R0(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var n=s.getValue(),i="";return t&&(i=A0(t)?t.checked?"true":"false":t.value),t=i,t!==n?(s.setValue(t),!0):!1}function Lo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Uv=/[\n"\\]/g;function oa(t){return t.replace(Uv,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Pd(t,s,n,i,c,m,v,A){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),s!=null?v==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+ia(s)):t.value!==""+ia(s)&&(t.value=""+ia(s)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),s!=null?qd(t,v,ia(s)):n!=null?qd(t,v,ia(n)):i!=null&&t.removeAttribute("value"),c==null&&m!=null&&(t.defaultChecked=!!m),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+ia(A):t.removeAttribute("name")}function D0(t,s,n,i,c,m,v,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),s!=null||n!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){Bd(t);return}n=n!=null?""+ia(n):"",s=s!=null?""+ia(s):n,A||s===t.value||(t.value=s),t.defaultValue=s}i=i??c,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=A?t.checked:!!i,t.defaultChecked=!!i,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Bd(t)}function qd(t,s,n){s==="number"&&Lo(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function il(t,s,n,i){if(t=t.options,s){s={};for(var c=0;c<n.length;c++)s["$"+n[c]]=!0;for(n=0;n<t.length;n++)c=s.hasOwnProperty("$"+t[n].value),t[n].selected!==c&&(t[n].selected=c),c&&i&&(t[n].defaultSelected=!0)}else{for(n=""+ia(n),s=null,c=0;c<t.length;c++){if(t[c].value===n){t[c].selected=!0,i&&(t[c].defaultSelected=!0);return}s!==null||t[c].disabled||(s=t[c])}s!==null&&(s.selected=!0)}}function M0(t,s,n){if(s!=null&&(s=""+ia(s),s!==t.value&&(t.value=s),n==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=n!=null?""+ia(n):""}function F0(t,s,n,i){if(s==null){if(i!=null){if(n!=null)throw Error(o(92));if(be(i)){if(1<i.length)throw Error(o(93));i=i[0]}n=i}n==null&&(n=""),s=n}n=ia(s),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i),Bd(t)}function ol(t,s){if(s){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=s;return}}t.textContent=s}var zv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function O0(t,s,n){var i=s.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":i?t.setProperty(s,n):typeof n!="number"||n===0||zv.has(s)?s==="float"?t.cssFloat=n:t[s]=(""+n).trim():t[s]=n+"px"}function L0(t,s,n){if(s!=null&&typeof s!="object")throw Error(o(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||s!=null&&s.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var c in s)i=s[c],s.hasOwnProperty(c)&&n[c]!==i&&O0(t,c,i)}else for(var m in s)s.hasOwnProperty(m)&&O0(t,m,s[m])}function $d(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Uo(t){return Pv.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function tr(){}var Hd=null;function _d(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cl=null,dl=null;function U0(t){var s=Le(t);if(s&&(t=s.stateNode)){var n=t[Kt]||null;e:switch(t=s.stateNode,s.type){case"input":if(Pd(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),s=n.name,n.type==="radio"&&s!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+oa(""+s)+'"][type="radio"]'),s=0;s<n.length;s++){var i=n[s];if(i!==t&&i.form===t.form){var c=i[Kt]||null;if(!c)throw Error(o(90));Pd(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(s=0;s<n.length;s++)i=n[s],i.form===t.form&&R0(i)}break e;case"textarea":M0(t,n.value,n.defaultValue);break e;case"select":s=n.value,s!=null&&il(t,!!n.multiple,s,!1)}}}var Id=!1;function z0(t,s,n){if(Id)return t(s,n);Id=!0;try{var i=t(s);return i}finally{if(Id=!1,(cl!==null||dl!==null)&&(Nc(),cl&&(s=cl,t=dl,dl=cl=null,U0(s),t)))for(s=0;s<t.length;s++)U0(t[s])}}function oi(t,s){var n=t.stateNode;if(n===null)return null;var i=n[Kt]||null;if(i===null)return null;n=i[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(o(231,s,typeof n));return n}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qd=!1;if(sr)try{var ci={};Object.defineProperty(ci,"passive",{get:function(){Qd=!0}}),window.addEventListener("test",ci,ci),window.removeEventListener("test",ci,ci)}catch{Qd=!1}var Fr=null,Gd=null,zo=null;function B0(){if(zo)return zo;var t,s=Gd,n=s.length,i,c="value"in Fr?Fr.value:Fr.textContent,m=c.length;for(t=0;t<n&&s[t]===c[t];t++);var v=n-t;for(i=1;i<=v&&s[n-i]===c[m-i];i++);return zo=c.slice(t,1<i?1-i:void 0)}function Bo(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Po(){return!0}function P0(){return!1}function Os(t){function s(n,i,c,m,v){this._reactName=n,this._targetInst=c,this.type=i,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(n=t[A],this[A]=n?n(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Po:P0,this.isPropagationStopped=P0,this}return w(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Po)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Po)},persist:function(){},isPersistent:Po}),s}var vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qo=Os(vn),di=w({},vn,{view:0,detail:0}),qv=Os(di),Yd,Vd,ui,$o=w({},di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ui&&(ui&&t.type==="mousemove"?(Yd=t.screenX-ui.screenX,Vd=t.screenY-ui.screenY):Vd=Yd=0,ui=t),Yd)},movementY:function(t){return"movementY"in t?t.movementY:Vd}}),q0=Os($o),$v=w({},$o,{dataTransfer:0}),Hv=Os($v),_v=w({},di,{relatedTarget:0}),Kd=Os(_v),Iv=w({},vn,{animationName:0,elapsedTime:0,pseudoElement:0}),Qv=Os(Iv),Gv=w({},vn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yv=Os(Gv),Vv=w({},vn,{data:0}),$0=Os(Vv),Kv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jv(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Xv[t])?!!s[t]:!1}function Zd(){return Jv}var Wv=w({},di,{key:function(t){if(t.key){var s=Kv[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Bo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Zv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zd,charCode:function(t){return t.type==="keypress"?Bo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ej=Os(Wv),tj=w({},$o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),H0=Os(tj),sj=w({},di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zd}),aj=Os(sj),rj=w({},vn,{propertyName:0,elapsedTime:0,pseudoElement:0}),nj=Os(rj),lj=w({},$o,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ij=Os(lj),oj=w({},vn,{newState:0,oldState:0}),cj=Os(oj),dj=[9,13,27,32],Xd=sr&&"CompositionEvent"in window,mi=null;sr&&"documentMode"in document&&(mi=document.documentMode);var uj=sr&&"TextEvent"in window&&!mi,_0=sr&&(!Xd||mi&&8<mi&&11>=mi),I0=" ",Q0=!1;function G0(t,s){switch(t){case"keyup":return dj.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Y0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ul=!1;function mj(t,s){switch(t){case"compositionend":return Y0(s);case"keypress":return s.which!==32?null:(Q0=!0,I0);case"textInput":return t=s.data,t===I0&&Q0?null:t;default:return null}}function hj(t,s){if(ul)return t==="compositionend"||!Xd&&G0(t,s)?(t=B0(),zo=Gd=Fr=null,ul=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _0&&s.locale!=="ko"?null:s.data;default:return null}}var fj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function V0(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!fj[t.type]:s==="textarea"}function K0(t,s,n,i){cl?dl?dl.push(i):dl=[i]:cl=i,s=Rc(s,"onChange"),0<s.length&&(n=new qo("onChange","change",null,n,i),t.push({event:n,listeners:s}))}var hi=null,fi=null;function xj(t){Mg(t,0)}function Ho(t){var s=Pe(t);if(R0(s))return t}function Z0(t,s){if(t==="change")return s}var X0=!1;if(sr){var Jd;if(sr){var Wd="oninput"in document;if(!Wd){var J0=document.createElement("div");J0.setAttribute("oninput","return;"),Wd=typeof J0.oninput=="function"}Jd=Wd}else Jd=!1;X0=Jd&&(!document.documentMode||9<document.documentMode)}function W0(){hi&&(hi.detachEvent("onpropertychange",ef),fi=hi=null)}function ef(t){if(t.propertyName==="value"&&Ho(fi)){var s=[];K0(s,fi,t,_d(t)),z0(xj,s)}}function gj(t,s,n){t==="focusin"?(W0(),hi=s,fi=n,hi.attachEvent("onpropertychange",ef)):t==="focusout"&&W0()}function pj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ho(fi)}function bj(t,s){if(t==="click")return Ho(s)}function yj(t,s){if(t==="input"||t==="change")return Ho(s)}function vj(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Js=typeof Object.is=="function"?Object.is:vj;function xi(t,s){if(Js(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var n=Object.keys(t),i=Object.keys(s);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var c=n[i];if(!ye.call(s,c)||!Js(t[c],s[c]))return!1}return!0}function tf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sf(t,s){var n=tf(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=s&&i>=s)return{node:n,offset:s-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tf(n)}}function af(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?af(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function rf(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Lo(t.document);s instanceof t.HTMLIFrameElement;){try{var n=typeof s.contentWindow.location.href=="string"}catch{n=!1}if(n)t=s.contentWindow;else break;s=Lo(t.document)}return s}function eu(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var jj=sr&&"documentMode"in document&&11>=document.documentMode,ml=null,tu=null,gi=null,su=!1;function nf(t,s,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;su||ml==null||ml!==Lo(i)||(i=ml,"selectionStart"in i&&eu(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),gi&&xi(gi,i)||(gi=i,i=Rc(tu,"onSelect"),0<i.length&&(s=new qo("onSelect","select",null,s,n),t.push({event:s,listeners:i}),s.target=ml)))}function jn(t,s){var n={};return n[t.toLowerCase()]=s.toLowerCase(),n["Webkit"+t]="webkit"+s,n["Moz"+t]="moz"+s,n}var hl={animationend:jn("Animation","AnimationEnd"),animationiteration:jn("Animation","AnimationIteration"),animationstart:jn("Animation","AnimationStart"),transitionrun:jn("Transition","TransitionRun"),transitionstart:jn("Transition","TransitionStart"),transitioncancel:jn("Transition","TransitionCancel"),transitionend:jn("Transition","TransitionEnd")},au={},lf={};sr&&(lf=document.createElement("div").style,"AnimationEvent"in window||(delete hl.animationend.animation,delete hl.animationiteration.animation,delete hl.animationstart.animation),"TransitionEvent"in window||delete hl.transitionend.transition);function wn(t){if(au[t])return au[t];if(!hl[t])return t;var s=hl[t],n;for(n in s)if(s.hasOwnProperty(n)&&n in lf)return au[t]=s[n];return t}var of=wn("animationend"),cf=wn("animationiteration"),df=wn("animationstart"),wj=wn("transitionrun"),Nj=wn("transitionstart"),Sj=wn("transitioncancel"),uf=wn("transitionend"),mf=new Map,ru="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ru.push("scrollEnd");function Ta(t,s){mf.set(t,s),gs(s,[t])}var _o=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ca=[],fl=0,nu=0;function Io(){for(var t=fl,s=nu=fl=0;s<t;){var n=ca[s];ca[s++]=null;var i=ca[s];ca[s++]=null;var c=ca[s];ca[s++]=null;var m=ca[s];if(ca[s++]=null,i!==null&&c!==null){var v=i.pending;v===null?c.next=c:(c.next=v.next,v.next=c),i.pending=c}m!==0&&hf(n,c,m)}}function Qo(t,s,n,i){ca[fl++]=t,ca[fl++]=s,ca[fl++]=n,ca[fl++]=i,nu|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function lu(t,s,n,i){return Qo(t,s,n,i),Go(t)}function Nn(t,s){return Qo(t,null,null,s),Go(t)}function hf(t,s,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var c=!1,m=t.return;m!==null;)m.childLanes|=n,i=m.alternate,i!==null&&(i.childLanes|=n),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(c=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,c&&s!==null&&(c=31-St(n),t=m.hiddenUpdates,i=t[c],i===null?t[c]=[s]:i.push(s),s.lane=n|536870912),m):null}function Go(t){if(50<Bi)throw Bi=0,xm=null,Error(o(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var xl={};function Cj(t,s,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ws(t,s,n,i){return new Cj(t,s,n,i)}function iu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ar(t,s){var n=t.alternate;return n===null?(n=Ws(t.tag,s,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=s,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,s=t.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function ff(t,s){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,s=n.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function Yo(t,s,n,i,c,m){var v=0;if(i=t,typeof t=="function")iu(t)&&(v=1);else if(typeof t=="string")v=Rw(t,n,W.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ne:return t=Ws(31,n,s,c),t.elementType=ne,t.lanes=m,t;case E:return Sn(n.children,c,m,s);case S:v=8,c|=24;break;case D:return t=Ws(12,n,s,c|2),t.elementType=D,t.lanes=m,t;case te:return t=Ws(13,n,s,c),t.elementType=te,t.lanes=m,t;case z:return t=Ws(19,n,s,c),t.elementType=z,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case y:v=10;break e;case U:v=9;break e;case F:v=11;break e;case k:v=14;break e;case K:v=16,i=null;break e}v=29,n=Error(o(130,t===null?"null":typeof t,"")),i=null}return s=Ws(v,n,s,c),s.elementType=t,s.type=i,s.lanes=m,s}function Sn(t,s,n,i){return t=Ws(7,t,i,s),t.lanes=n,t}function ou(t,s,n){return t=Ws(6,t,null,s),t.lanes=n,t}function xf(t){var s=Ws(18,null,null,0);return s.stateNode=t,s}function cu(t,s,n){return s=Ws(4,t.children!==null?t.children:[],t.key,s),s.lanes=n,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var gf=new WeakMap;function da(t,s){if(typeof t=="object"&&t!==null){var n=gf.get(t);return n!==void 0?n:(s={value:t,source:s,stack:q(s)},gf.set(t,s),s)}return{value:t,source:s,stack:q(s)}}var gl=[],pl=0,Vo=null,pi=0,ua=[],ma=0,Or=null,Ha=1,_a="";function rr(t,s){gl[pl++]=pi,gl[pl++]=Vo,Vo=t,pi=s}function pf(t,s,n){ua[ma++]=Ha,ua[ma++]=_a,ua[ma++]=Or,Or=t;var i=Ha;t=_a;var c=32-St(i)-1;i&=~(1<<c),n+=1;var m=32-St(s)+c;if(30<m){var v=c-c%5;m=(i&(1<<v)-1).toString(32),i>>=v,c-=v,Ha=1<<32-St(s)+c|n<<c|i,_a=m+t}else Ha=1<<m|n<<c|i,_a=t}function du(t){t.return!==null&&(rr(t,1),pf(t,1,0))}function uu(t){for(;t===Vo;)Vo=gl[--pl],gl[pl]=null,pi=gl[--pl],gl[pl]=null;for(;t===Or;)Or=ua[--ma],ua[ma]=null,_a=ua[--ma],ua[ma]=null,Ha=ua[--ma],ua[ma]=null}function bf(t,s){ua[ma++]=Ha,ua[ma++]=_a,ua[ma++]=Or,Ha=s.id,_a=s.overflow,Or=t}var ps=null,Bt=null,ht=!1,Lr=null,ha=!1,mu=Error(o(519));function Ur(t){var s=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bi(da(s,t)),mu}function yf(t){var s=t.stateNode,n=t.type,i=t.memoizedProps;switch(s[Ht]=t,s[Kt]=i,n){case"dialog":dt("cancel",s),dt("close",s);break;case"iframe":case"object":case"embed":dt("load",s);break;case"video":case"audio":for(n=0;n<qi.length;n++)dt(qi[n],s);break;case"source":dt("error",s);break;case"img":case"image":case"link":dt("error",s),dt("load",s);break;case"details":dt("toggle",s);break;case"input":dt("invalid",s),D0(s,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":dt("invalid",s);break;case"textarea":dt("invalid",s),F0(s,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||s.textContent===""+n||i.suppressHydrationWarning===!0||Ug(s.textContent,n)?(i.popover!=null&&(dt("beforetoggle",s),dt("toggle",s)),i.onScroll!=null&&dt("scroll",s),i.onScrollEnd!=null&&dt("scrollend",s),i.onClick!=null&&(s.onclick=tr),s=!0):s=!1,s||Ur(t,!0)}function vf(t){for(ps=t.return;ps;)switch(ps.tag){case 5:case 31:case 13:ha=!1;return;case 27:case 3:ha=!0;return;default:ps=ps.return}}function bl(t){if(t!==ps)return!1;if(!ht)return vf(t),ht=!0,!1;var s=t.tag,n;if((n=s!==3&&s!==27)&&((n=s===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Rm(t.type,t.memoizedProps)),n=!n),n&&Bt&&Ur(t),vf(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));Bt=Qg(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));Bt=Qg(t)}else s===27?(s=Bt,Zr(t.type)?(t=Lm,Lm=null,Bt=t):Bt=s):Bt=ps?xa(t.stateNode.nextSibling):null;return!0}function Cn(){Bt=ps=null,ht=!1}function hu(){var t=Lr;return t!==null&&(Bs===null?Bs=t:Bs.push.apply(Bs,t),Lr=null),t}function bi(t){Lr===null?Lr=[t]:Lr.push(t)}var fu=B(null),kn=null,nr=null;function zr(t,s,n){$(fu,s._currentValue),s._currentValue=n}function lr(t){t._currentValue=fu.current,R(fu)}function xu(t,s,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,i!==null&&(i.childLanes|=s)):i!==null&&(i.childLanes&s)!==s&&(i.childLanes|=s),t===n)break;t=t.return}}function gu(t,s,n,i){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var m=c.dependencies;if(m!==null){var v=c.child;m=m.firstContext;e:for(;m!==null;){var A=m;m=c;for(var H=0;H<s.length;H++)if(A.context===s[H]){m.lanes|=n,A=m.alternate,A!==null&&(A.lanes|=n),xu(m.return,n,t),i||(v=null);break e}m=A.next}}else if(c.tag===18){if(v=c.return,v===null)throw Error(o(341));v.lanes|=n,m=v.alternate,m!==null&&(m.lanes|=n),xu(v,n,t),v=null}else v=c.child;if(v!==null)v.return=c;else for(v=c;v!==null;){if(v===t){v=null;break}if(c=v.sibling,c!==null){c.return=v.return,v=c;break}v=v.return}c=v}}function yl(t,s,n,i){t=null;for(var c=s,m=!1;c!==null;){if(!m){if((c.flags&524288)!==0)m=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var v=c.alternate;if(v===null)throw Error(o(387));if(v=v.memoizedProps,v!==null){var A=c.type;Js(c.pendingProps.value,v.value)||(t!==null?t.push(A):t=[A])}}else if(c===Me.current){if(v=c.alternate,v===null)throw Error(o(387));v.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Qi):t=[Qi])}c=c.return}t!==null&&gu(s,t,n,i),s.flags|=262144}function Ko(t){for(t=t.firstContext;t!==null;){if(!Js(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function En(t){kn=t,nr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function bs(t){return jf(kn,t)}function Zo(t,s){return kn===null&&En(t),jf(t,s)}function jf(t,s){var n=s._currentValue;if(s={context:s,memoizedValue:n,next:null},nr===null){if(t===null)throw Error(o(308));nr=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else nr=nr.next=s;return n}var kj=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){s.aborted=!0,t.forEach(function(n){return n()})}},Ej=a.unstable_scheduleCallback,Tj=a.unstable_NormalPriority,es={$$typeof:y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pu(){return{controller:new kj,data:new Map,refCount:0}}function yi(t){t.refCount--,t.refCount===0&&Ej(Tj,function(){t.controller.abort()})}var vi=null,bu=0,vl=0,jl=null;function Aj(t,s){if(vi===null){var n=vi=[];bu=0,vl=jm(),jl={status:"pending",value:void 0,then:function(i){n.push(i)}}}return bu++,s.then(wf,wf),s}function wf(){if(--bu===0&&vi!==null){jl!==null&&(jl.status="fulfilled");var t=vi;vi=null,vl=0,jl=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function Rj(t,s){var n=[],i={status:"pending",value:null,reason:null,then:function(c){n.push(c)}};return t.then(function(){i.status="fulfilled",i.value=s;for(var c=0;c<n.length;c++)(0,n[c])(s)},function(c){for(i.status="rejected",i.reason=c,c=0;c<n.length;c++)(0,n[c])(void 0)}),i}var Nf=I.S;I.S=function(t,s){lg=Te(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Aj(t,s),Nf!==null&&Nf(t,s)};var Tn=B(null);function yu(){var t=Tn.current;return t!==null?t:Lt.pooledCache}function Xo(t,s){s===null?$(Tn,Tn.current):$(Tn,s.pool)}function Sf(){var t=yu();return t===null?null:{parent:es._currentValue,pool:t}}var wl=Error(o(460)),vu=Error(o(474)),Jo=Error(o(542)),Wo={then:function(){}};function Cf(t){return t=t.status,t==="fulfilled"||t==="rejected"}function kf(t,s,n){switch(n=t[n],n===void 0?t.push(s):n!==s&&(s.then(tr,tr),s=n),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Tf(t),t;default:if(typeof s.status=="string")s.then(tr,tr);else{if(t=Lt,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=s,t.status="pending",t.then(function(i){if(s.status==="pending"){var c=s;c.status="fulfilled",c.value=i}},function(i){if(s.status==="pending"){var c=s;c.status="rejected",c.reason=i}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Tf(t),t}throw Rn=s,wl}}function An(t){try{var s=t._init;return s(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Rn=n,wl):n}}var Rn=null;function Ef(){if(Rn===null)throw Error(o(459));var t=Rn;return Rn=null,t}function Tf(t){if(t===wl||t===Jo)throw Error(o(483))}var Nl=null,ji=0;function ec(t){var s=ji;return ji+=1,Nl===null&&(Nl=[]),kf(Nl,t,s)}function wi(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function tc(t,s){throw s.$$typeof===T?Error(o(525)):(t=Object.prototype.toString.call(s),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function Af(t){function s(ee,Z){if(t){var ie=ee.deletions;ie===null?(ee.deletions=[Z],ee.flags|=16):ie.push(Z)}}function n(ee,Z){if(!t)return null;for(;Z!==null;)s(ee,Z),Z=Z.sibling;return null}function i(ee){for(var Z=new Map;ee!==null;)ee.key!==null?Z.set(ee.key,ee):Z.set(ee.index,ee),ee=ee.sibling;return Z}function c(ee,Z){return ee=ar(ee,Z),ee.index=0,ee.sibling=null,ee}function m(ee,Z,ie){return ee.index=ie,t?(ie=ee.alternate,ie!==null?(ie=ie.index,ie<Z?(ee.flags|=67108866,Z):ie):(ee.flags|=67108866,Z)):(ee.flags|=1048576,Z)}function v(ee){return t&&ee.alternate===null&&(ee.flags|=67108866),ee}function A(ee,Z,ie,Ne){return Z===null||Z.tag!==6?(Z=ou(ie,ee.mode,Ne),Z.return=ee,Z):(Z=c(Z,ie),Z.return=ee,Z)}function H(ee,Z,ie,Ne){var Ze=ie.type;return Ze===E?ve(ee,Z,ie.props.children,Ne,ie.key):Z!==null&&(Z.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===K&&An(Ze)===Z.type)?(Z=c(Z,ie.props),wi(Z,ie),Z.return=ee,Z):(Z=Yo(ie.type,ie.key,ie.props,null,ee.mode,Ne),wi(Z,ie),Z.return=ee,Z)}function oe(ee,Z,ie,Ne){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==ie.containerInfo||Z.stateNode.implementation!==ie.implementation?(Z=cu(ie,ee.mode,Ne),Z.return=ee,Z):(Z=c(Z,ie.children||[]),Z.return=ee,Z)}function ve(ee,Z,ie,Ne,Ze){return Z===null||Z.tag!==7?(Z=Sn(ie,ee.mode,Ne,Ze),Z.return=ee,Z):(Z=c(Z,ie),Z.return=ee,Z)}function Ce(ee,Z,ie){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=ou(""+Z,ee.mode,ie),Z.return=ee,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case j:return ie=Yo(Z.type,Z.key,Z.props,null,ee.mode,ie),wi(ie,Z),ie.return=ee,ie;case C:return Z=cu(Z,ee.mode,ie),Z.return=ee,Z;case K:return Z=An(Z),Ce(ee,Z,ie)}if(be(Z)||Y(Z))return Z=Sn(Z,ee.mode,ie,null),Z.return=ee,Z;if(typeof Z.then=="function")return Ce(ee,ec(Z),ie);if(Z.$$typeof===y)return Ce(ee,Zo(ee,Z),ie);tc(ee,Z)}return null}function ce(ee,Z,ie,Ne){var Ze=Z!==null?Z.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return Ze!==null?null:A(ee,Z,""+ie,Ne);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case j:return ie.key===Ze?H(ee,Z,ie,Ne):null;case C:return ie.key===Ze?oe(ee,Z,ie,Ne):null;case K:return ie=An(ie),ce(ee,Z,ie,Ne)}if(be(ie)||Y(ie))return Ze!==null?null:ve(ee,Z,ie,Ne,null);if(typeof ie.then=="function")return ce(ee,Z,ec(ie),Ne);if(ie.$$typeof===y)return ce(ee,Z,Zo(ee,ie),Ne);tc(ee,ie)}return null}function me(ee,Z,ie,Ne,Ze){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return ee=ee.get(ie)||null,A(Z,ee,""+Ne,Ze);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case j:return ee=ee.get(Ne.key===null?ie:Ne.key)||null,H(Z,ee,Ne,Ze);case C:return ee=ee.get(Ne.key===null?ie:Ne.key)||null,oe(Z,ee,Ne,Ze);case K:return Ne=An(Ne),me(ee,Z,ie,Ne,Ze)}if(be(Ne)||Y(Ne))return ee=ee.get(ie)||null,ve(Z,ee,Ne,Ze,null);if(typeof Ne.then=="function")return me(ee,Z,ie,ec(Ne),Ze);if(Ne.$$typeof===y)return me(ee,Z,ie,Zo(Z,Ne),Ze);tc(Z,Ne)}return null}function Be(ee,Z,ie,Ne){for(var Ze=null,bt=null,Ie=Z,nt=Z=0,mt=null;Ie!==null&&nt<ie.length;nt++){Ie.index>nt?(mt=Ie,Ie=null):mt=Ie.sibling;var yt=ce(ee,Ie,ie[nt],Ne);if(yt===null){Ie===null&&(Ie=mt);break}t&&Ie&&yt.alternate===null&&s(ee,Ie),Z=m(yt,Z,nt),bt===null?Ze=yt:bt.sibling=yt,bt=yt,Ie=mt}if(nt===ie.length)return n(ee,Ie),ht&&rr(ee,nt),Ze;if(Ie===null){for(;nt<ie.length;nt++)Ie=Ce(ee,ie[nt],Ne),Ie!==null&&(Z=m(Ie,Z,nt),bt===null?Ze=Ie:bt.sibling=Ie,bt=Ie);return ht&&rr(ee,nt),Ze}for(Ie=i(Ie);nt<ie.length;nt++)mt=me(Ie,ee,nt,ie[nt],Ne),mt!==null&&(t&&mt.alternate!==null&&Ie.delete(mt.key===null?nt:mt.key),Z=m(mt,Z,nt),bt===null?Ze=mt:bt.sibling=mt,bt=mt);return t&&Ie.forEach(function(tn){return s(ee,tn)}),ht&&rr(ee,nt),Ze}function We(ee,Z,ie,Ne){if(ie==null)throw Error(o(151));for(var Ze=null,bt=null,Ie=Z,nt=Z=0,mt=null,yt=ie.next();Ie!==null&&!yt.done;nt++,yt=ie.next()){Ie.index>nt?(mt=Ie,Ie=null):mt=Ie.sibling;var tn=ce(ee,Ie,yt.value,Ne);if(tn===null){Ie===null&&(Ie=mt);break}t&&Ie&&tn.alternate===null&&s(ee,Ie),Z=m(tn,Z,nt),bt===null?Ze=tn:bt.sibling=tn,bt=tn,Ie=mt}if(yt.done)return n(ee,Ie),ht&&rr(ee,nt),Ze;if(Ie===null){for(;!yt.done;nt++,yt=ie.next())yt=Ce(ee,yt.value,Ne),yt!==null&&(Z=m(yt,Z,nt),bt===null?Ze=yt:bt.sibling=yt,bt=yt);return ht&&rr(ee,nt),Ze}for(Ie=i(Ie);!yt.done;nt++,yt=ie.next())yt=me(Ie,ee,nt,yt.value,Ne),yt!==null&&(t&&yt.alternate!==null&&Ie.delete(yt.key===null?nt:yt.key),Z=m(yt,Z,nt),bt===null?Ze=yt:bt.sibling=yt,bt=yt);return t&&Ie.forEach(function($w){return s(ee,$w)}),ht&&rr(ee,nt),Ze}function Ft(ee,Z,ie,Ne){if(typeof ie=="object"&&ie!==null&&ie.type===E&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case j:e:{for(var Ze=ie.key;Z!==null;){if(Z.key===Ze){if(Ze=ie.type,Ze===E){if(Z.tag===7){n(ee,Z.sibling),Ne=c(Z,ie.props.children),Ne.return=ee,ee=Ne;break e}}else if(Z.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===K&&An(Ze)===Z.type){n(ee,Z.sibling),Ne=c(Z,ie.props),wi(Ne,ie),Ne.return=ee,ee=Ne;break e}n(ee,Z);break}else s(ee,Z);Z=Z.sibling}ie.type===E?(Ne=Sn(ie.props.children,ee.mode,Ne,ie.key),Ne.return=ee,ee=Ne):(Ne=Yo(ie.type,ie.key,ie.props,null,ee.mode,Ne),wi(Ne,ie),Ne.return=ee,ee=Ne)}return v(ee);case C:e:{for(Ze=ie.key;Z!==null;){if(Z.key===Ze)if(Z.tag===4&&Z.stateNode.containerInfo===ie.containerInfo&&Z.stateNode.implementation===ie.implementation){n(ee,Z.sibling),Ne=c(Z,ie.children||[]),Ne.return=ee,ee=Ne;break e}else{n(ee,Z);break}else s(ee,Z);Z=Z.sibling}Ne=cu(ie,ee.mode,Ne),Ne.return=ee,ee=Ne}return v(ee);case K:return ie=An(ie),Ft(ee,Z,ie,Ne)}if(be(ie))return Be(ee,Z,ie,Ne);if(Y(ie)){if(Ze=Y(ie),typeof Ze!="function")throw Error(o(150));return ie=Ze.call(ie),We(ee,Z,ie,Ne)}if(typeof ie.then=="function")return Ft(ee,Z,ec(ie),Ne);if(ie.$$typeof===y)return Ft(ee,Z,Zo(ee,ie),Ne);tc(ee,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,Z!==null&&Z.tag===6?(n(ee,Z.sibling),Ne=c(Z,ie),Ne.return=ee,ee=Ne):(n(ee,Z),Ne=ou(ie,ee.mode,Ne),Ne.return=ee,ee=Ne),v(ee)):n(ee,Z)}return function(ee,Z,ie,Ne){try{ji=0;var Ze=Ft(ee,Z,ie,Ne);return Nl=null,Ze}catch(Ie){if(Ie===wl||Ie===Jo)throw Ie;var bt=Ws(29,Ie,null,ee.mode);return bt.lanes=Ne,bt.return=ee,bt}finally{}}}var Dn=Af(!0),Rf=Af(!1),Br=!1;function ju(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wu(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Pr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function qr(t,s,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,(wt&2)!==0){var c=i.pending;return c===null?s.next=s:(s.next=c.next,c.next=s),i.pending=s,s=Go(t),hf(t,null,n),s}return Qo(t,i,s,n),Go(t)}function Ni(t,s,n){if(s=s.updateQueue,s!==null&&(s=s.shared,(n&4194048)!==0)){var i=s.lanes;i&=t.pendingLanes,n|=i,s.lanes=n,Ee(t,n)}}function Nu(t,s){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var c=null,m=null;if(n=n.firstBaseUpdate,n!==null){do{var v={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};m===null?c=m=v:m=m.next=v,n=n.next}while(n!==null);m===null?c=m=s:m=m.next=s}else c=m=s;n={baseState:i.baseState,firstBaseUpdate:c,lastBaseUpdate:m,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=s:t.next=s,n.lastBaseUpdate=s}var Su=!1;function Si(){if(Su){var t=jl;if(t!==null)throw t}}function Ci(t,s,n,i){Su=!1;var c=t.updateQueue;Br=!1;var m=c.firstBaseUpdate,v=c.lastBaseUpdate,A=c.shared.pending;if(A!==null){c.shared.pending=null;var H=A,oe=H.next;H.next=null,v===null?m=oe:v.next=oe,v=H;var ve=t.alternate;ve!==null&&(ve=ve.updateQueue,A=ve.lastBaseUpdate,A!==v&&(A===null?ve.firstBaseUpdate=oe:A.next=oe,ve.lastBaseUpdate=H))}if(m!==null){var Ce=c.baseState;v=0,ve=oe=H=null,A=m;do{var ce=A.lane&-536870913,me=ce!==A.lane;if(me?(ut&ce)===ce:(i&ce)===ce){ce!==0&&ce===vl&&(Su=!0),ve!==null&&(ve=ve.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Be=t,We=A;ce=s;var Ft=n;switch(We.tag){case 1:if(Be=We.payload,typeof Be=="function"){Ce=Be.call(Ft,Ce,ce);break e}Ce=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=We.payload,ce=typeof Be=="function"?Be.call(Ft,Ce,ce):Be,ce==null)break e;Ce=w({},Ce,ce);break e;case 2:Br=!0}}ce=A.callback,ce!==null&&(t.flags|=64,me&&(t.flags|=8192),me=c.callbacks,me===null?c.callbacks=[ce]:me.push(ce))}else me={lane:ce,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ve===null?(oe=ve=me,H=Ce):ve=ve.next=me,v|=ce;if(A=A.next,A===null){if(A=c.shared.pending,A===null)break;me=A,A=me.next,me.next=null,c.lastBaseUpdate=me,c.shared.pending=null}}while(!0);ve===null&&(H=Ce),c.baseState=H,c.firstBaseUpdate=oe,c.lastBaseUpdate=ve,m===null&&(c.shared.lanes=0),Qr|=v,t.lanes=v,t.memoizedState=Ce}}function Df(t,s){if(typeof t!="function")throw Error(o(191,t));t.call(s)}function Mf(t,s){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)Df(n[t],s)}var Sl=B(null),sc=B(0);function Ff(t,s){t=xr,$(sc,t),$(Sl,s),xr=t|s.baseLanes}function Cu(){$(sc,xr),$(Sl,Sl.current)}function ku(){xr=sc.current,R(Sl),R(sc)}var ea=B(null),fa=null;function $r(t){var s=t.alternate;$(Zt,Zt.current&1),$(ea,t),fa===null&&(s===null||Sl.current!==null||s.memoizedState!==null)&&(fa=t)}function Eu(t){$(Zt,Zt.current),$(ea,t),fa===null&&(fa=t)}function Of(t){t.tag===22?($(Zt,Zt.current),$(ea,t),fa===null&&(fa=t)):Hr()}function Hr(){$(Zt,Zt.current),$(ea,ea.current)}function ta(t){R(ea),fa===t&&(fa=null),R(Zt)}var Zt=B(0);function ac(t){for(var s=t;s!==null;){if(s.tag===13){var n=s.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Fm(n)||Om(n)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ir=0,at=null,Dt=null,ts=null,rc=!1,Cl=!1,Mn=!1,nc=0,ki=0,kl=null,Dj=0;function _t(){throw Error(o(321))}function Tu(t,s){if(s===null)return!1;for(var n=0;n<s.length&&n<t.length;n++)if(!Js(t[n],s[n]))return!1;return!0}function Au(t,s,n,i,c,m){return ir=m,at=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,I.H=t===null||t.memoizedState===null?px:Iu,Mn=!1,m=n(i,c),Mn=!1,Cl&&(m=Uf(s,n,i,c)),Lf(t),m}function Lf(t){I.H=Ai;var s=Dt!==null&&Dt.next!==null;if(ir=0,ts=Dt=at=null,rc=!1,ki=0,kl=null,s)throw Error(o(300));t===null||ss||(t=t.dependencies,t!==null&&Ko(t)&&(ss=!0))}function Uf(t,s,n,i){at=t;var c=0;do{if(Cl&&(kl=null),ki=0,Cl=!1,25<=c)throw Error(o(301));if(c+=1,ts=Dt=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}I.H=bx,m=s(n,i)}while(Cl);return m}function Mj(){var t=I.H,s=t.useState()[0];return s=typeof s.then=="function"?Ei(s):s,t=t.useState()[0],(Dt!==null?Dt.memoizedState:null)!==t&&(at.flags|=1024),s}function Ru(){var t=nc!==0;return nc=0,t}function Du(t,s,n){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~n}function Mu(t){if(rc){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}rc=!1}ir=0,ts=Dt=at=null,Cl=!1,ki=nc=0,kl=null}function As(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ts===null?at.memoizedState=ts=t:ts=ts.next=t,ts}function Xt(){if(Dt===null){var t=at.alternate;t=t!==null?t.memoizedState:null}else t=Dt.next;var s=ts===null?at.memoizedState:ts.next;if(s!==null)ts=s,Dt=t;else{if(t===null)throw at.alternate===null?Error(o(467)):Error(o(310));Dt=t,t={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},ts===null?at.memoizedState=ts=t:ts=ts.next=t}return ts}function lc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ei(t){var s=ki;return ki+=1,kl===null&&(kl=[]),t=kf(kl,t,s),s=at,(ts===null?s.memoizedState:ts.next)===null&&(s=s.alternate,I.H=s===null||s.memoizedState===null?px:Iu),t}function ic(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ei(t);if(t.$$typeof===y)return bs(t)}throw Error(o(438,String(t)))}function Fu(t){var s=null,n=at.updateQueue;if(n!==null&&(s=n.memoCache),s==null){var i=at.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(s={data:i.data.map(function(c){return c.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),n===null&&(n=lc(),at.updateQueue=n),n.memoCache=s,n=s.data[s.index],n===void 0)for(n=s.data[s.index]=Array(t),i=0;i<t;i++)n[i]=_;return s.index++,n}function or(t,s){return typeof s=="function"?s(t):s}function oc(t){var s=Xt();return Ou(s,Dt,t)}function Ou(t,s,n){var i=t.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=n;var c=t.baseQueue,m=i.pending;if(m!==null){if(c!==null){var v=c.next;c.next=m.next,m.next=v}s.baseQueue=c=m,i.pending=null}if(m=t.baseState,c===null)t.memoizedState=m;else{s=c.next;var A=v=null,H=null,oe=s,ve=!1;do{var Ce=oe.lane&-536870913;if(Ce!==oe.lane?(ut&Ce)===Ce:(ir&Ce)===Ce){var ce=oe.revertLane;if(ce===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),Ce===vl&&(ve=!0);else if((ir&ce)===ce){oe=oe.next,ce===vl&&(ve=!0);continue}else Ce={lane:0,revertLane:oe.revertLane,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},H===null?(A=H=Ce,v=m):H=H.next=Ce,at.lanes|=ce,Qr|=ce;Ce=oe.action,Mn&&n(m,Ce),m=oe.hasEagerState?oe.eagerState:n(m,Ce)}else ce={lane:Ce,revertLane:oe.revertLane,gesture:oe.gesture,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},H===null?(A=H=ce,v=m):H=H.next=ce,at.lanes|=Ce,Qr|=Ce;oe=oe.next}while(oe!==null&&oe!==s);if(H===null?v=m:H.next=A,!Js(m,t.memoizedState)&&(ss=!0,ve&&(n=jl,n!==null)))throw n;t.memoizedState=m,t.baseState=v,t.baseQueue=H,i.lastRenderedState=m}return c===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function Lu(t){var s=Xt(),n=s.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=t;var i=n.dispatch,c=n.pending,m=s.memoizedState;if(c!==null){n.pending=null;var v=c=c.next;do m=t(m,v.action),v=v.next;while(v!==c);Js(m,s.memoizedState)||(ss=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),n.lastRenderedState=m}return[m,i]}function zf(t,s,n){var i=at,c=Xt(),m=ht;if(m){if(n===void 0)throw Error(o(407));n=n()}else n=s();var v=!Js((Dt||c).memoizedState,n);if(v&&(c.memoizedState=n,ss=!0),c=c.queue,Bu(qf.bind(null,i,c,t),[t]),c.getSnapshot!==s||v||ts!==null&&ts.memoizedState.tag&1){if(i.flags|=2048,El(9,{destroy:void 0},Pf.bind(null,i,c,n,s),null),Lt===null)throw Error(o(349));m||(ir&127)!==0||Bf(i,s,n)}return n}function Bf(t,s,n){t.flags|=16384,t={getSnapshot:s,value:n},s=at.updateQueue,s===null?(s=lc(),at.updateQueue=s,s.stores=[t]):(n=s.stores,n===null?s.stores=[t]:n.push(t))}function Pf(t,s,n,i){s.value=n,s.getSnapshot=i,$f(s)&&Hf(t)}function qf(t,s,n){return n(function(){$f(s)&&Hf(t)})}function $f(t){var s=t.getSnapshot;t=t.value;try{var n=s();return!Js(t,n)}catch{return!0}}function Hf(t){var s=Nn(t,2);s!==null&&Ps(s,t,2)}function Uu(t){var s=As();if(typeof t=="function"){var n=t;if(t=n(),Mn){Nt(!0);try{n()}finally{Nt(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:t},s}function _f(t,s,n,i){return t.baseState=n,Ou(t,Dt,typeof i=="function"?i:or)}function Fj(t,s,n,i,c){if(uc(t))throw Error(o(485));if(t=s.action,t!==null){var m={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){m.listeners.push(v)}};I.T!==null?n(!0):m.isTransition=!1,i(m),n=s.pending,n===null?(m.next=s.pending=m,If(s,m)):(m.next=n.next,s.pending=n.next=m)}}function If(t,s){var n=s.action,i=s.payload,c=t.state;if(s.isTransition){var m=I.T,v={};I.T=v;try{var A=n(c,i),H=I.S;H!==null&&H(v,A),Qf(t,s,A)}catch(oe){zu(t,s,oe)}finally{m!==null&&v.types!==null&&(m.types=v.types),I.T=m}}else try{m=n(c,i),Qf(t,s,m)}catch(oe){zu(t,s,oe)}}function Qf(t,s,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Gf(t,s,i)},function(i){return zu(t,s,i)}):Gf(t,s,n)}function Gf(t,s,n){s.status="fulfilled",s.value=n,Yf(s),t.state=n,s=t.pending,s!==null&&(n=s.next,n===s?t.pending=null:(n=n.next,s.next=n,If(t,n)))}function zu(t,s,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do s.status="rejected",s.reason=n,Yf(s),s=s.next;while(s!==i)}t.action=null}function Yf(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Vf(t,s){return s}function Kf(t,s){if(ht){var n=Lt.formState;if(n!==null){e:{var i=at;if(ht){if(Bt){t:{for(var c=Bt,m=ha;c.nodeType!==8;){if(!m){c=null;break t}if(c=xa(c.nextSibling),c===null){c=null;break t}}m=c.data,c=m==="F!"||m==="F"?c:null}if(c){Bt=xa(c.nextSibling),i=c.data==="F!";break e}}Ur(i)}i=!1}i&&(s=n[0])}}return n=As(),n.memoizedState=n.baseState=s,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vf,lastRenderedState:s},n.queue=i,n=fx.bind(null,at,i),i.dispatch=n,i=Uu(!1),m=_u.bind(null,at,!1,i.queue),i=As(),c={state:s,dispatch:null,action:t,pending:null},i.queue=c,n=Fj.bind(null,at,c,m,n),c.dispatch=n,i.memoizedState=t,[s,n,!1]}function Zf(t){var s=Xt();return Xf(s,Dt,t)}function Xf(t,s,n){if(s=Ou(t,s,Vf)[0],t=oc(or)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var i=Ei(s)}catch(v){throw v===wl?Jo:v}else i=s;s=Xt();var c=s.queue,m=c.dispatch;return n!==s.memoizedState&&(at.flags|=2048,El(9,{destroy:void 0},Oj.bind(null,c,n),null)),[i,m,t]}function Oj(t,s){t.action=s}function Jf(t){var s=Xt(),n=Dt;if(n!==null)return Xf(s,n,t);Xt(),s=s.memoizedState,n=Xt();var i=n.queue.dispatch;return n.memoizedState=t,[s,i,!1]}function El(t,s,n,i){return t={tag:t,create:n,deps:i,inst:s,next:null},s=at.updateQueue,s===null&&(s=lc(),at.updateQueue=s),n=s.lastEffect,n===null?s.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,s.lastEffect=t),t}function Wf(){return Xt().memoizedState}function cc(t,s,n,i){var c=As();at.flags|=t,c.memoizedState=El(1|s,{destroy:void 0},n,i===void 0?null:i)}function dc(t,s,n,i){var c=Xt();i=i===void 0?null:i;var m=c.memoizedState.inst;Dt!==null&&i!==null&&Tu(i,Dt.memoizedState.deps)?c.memoizedState=El(s,m,n,i):(at.flags|=t,c.memoizedState=El(1|s,m,n,i))}function ex(t,s){cc(8390656,8,t,s)}function Bu(t,s){dc(2048,8,t,s)}function Lj(t){at.flags|=4;var s=at.updateQueue;if(s===null)s=lc(),at.updateQueue=s,s.events=[t];else{var n=s.events;n===null?s.events=[t]:n.push(t)}}function tx(t){var s=Xt().memoizedState;return Lj({ref:s,nextImpl:t}),function(){if((wt&2)!==0)throw Error(o(440));return s.impl.apply(void 0,arguments)}}function sx(t,s){return dc(4,2,t,s)}function ax(t,s){return dc(4,4,t,s)}function rx(t,s){if(typeof s=="function"){t=t();var n=s(t);return function(){typeof n=="function"?n():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function nx(t,s,n){n=n!=null?n.concat([t]):null,dc(4,4,rx.bind(null,s,t),n)}function Pu(){}function lx(t,s){var n=Xt();s=s===void 0?null:s;var i=n.memoizedState;return s!==null&&Tu(s,i[1])?i[0]:(n.memoizedState=[t,s],t)}function ix(t,s){var n=Xt();s=s===void 0?null:s;var i=n.memoizedState;if(s!==null&&Tu(s,i[1]))return i[0];if(i=t(),Mn){Nt(!0);try{t()}finally{Nt(!1)}}return n.memoizedState=[i,s],i}function qu(t,s,n){return n===void 0||(ir&1073741824)!==0&&(ut&261930)===0?t.memoizedState=s:(t.memoizedState=n,t=og(),at.lanes|=t,Qr|=t,n)}function ox(t,s,n,i){return Js(n,s)?n:Sl.current!==null?(t=qu(t,n,i),Js(t,s)||(ss=!0),t):(ir&42)===0||(ir&1073741824)!==0&&(ut&261930)===0?(ss=!0,t.memoizedState=n):(t=og(),at.lanes|=t,Qr|=t,s)}function cx(t,s,n,i,c){var m=se.p;se.p=m!==0&&8>m?m:8;var v=I.T,A={};I.T=A,_u(t,!1,s,n);try{var H=c(),oe=I.S;if(oe!==null&&oe(A,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ve=Rj(H,i);Ti(t,s,ve,ra(t))}else Ti(t,s,i,ra(t))}catch(Ce){Ti(t,s,{then:function(){},status:"rejected",reason:Ce},ra())}finally{se.p=m,v!==null&&A.types!==null&&(v.types=A.types),I.T=v}}function Uj(){}function $u(t,s,n,i){if(t.tag!==5)throw Error(o(476));var c=dx(t).queue;cx(t,c,s,de,n===null?Uj:function(){return ux(t),n(i)})}function dx(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:de},next:null};var n={};return s.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:n},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function ux(t){var s=dx(t);s.next===null&&(s=t.alternate.memoizedState),Ti(t,s.next.queue,{},ra())}function Hu(){return bs(Qi)}function mx(){return Xt().memoizedState}function hx(){return Xt().memoizedState}function zj(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var n=ra();t=Pr(n);var i=qr(s,t,n);i!==null&&(Ps(i,s,n),Ni(i,s,n)),s={cache:pu()},t.payload=s;return}s=s.return}}function Bj(t,s,n){var i=ra();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},uc(t)?xx(s,n):(n=lu(t,s,n,i),n!==null&&(Ps(n,t,i),gx(n,s,i)))}function fx(t,s,n){var i=ra();Ti(t,s,n,i)}function Ti(t,s,n,i){var c={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(uc(t))xx(s,c);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var v=s.lastRenderedState,A=m(v,n);if(c.hasEagerState=!0,c.eagerState=A,Js(A,v))return Qo(t,s,c,0),Lt===null&&Io(),!1}catch{}finally{}if(n=lu(t,s,c,i),n!==null)return Ps(n,t,i),gx(n,s,i),!0}return!1}function _u(t,s,n,i){if(i={lane:2,revertLane:jm(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},uc(t)){if(s)throw Error(o(479))}else s=lu(t,n,i,2),s!==null&&Ps(s,t,2)}function uc(t){var s=t.alternate;return t===at||s!==null&&s===at}function xx(t,s){Cl=rc=!0;var n=t.pending;n===null?s.next=s:(s.next=n.next,n.next=s),t.pending=s}function gx(t,s,n){if((n&4194048)!==0){var i=s.lanes;i&=t.pendingLanes,n|=i,s.lanes=n,Ee(t,n)}}var Ai={readContext:bs,use:ic,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t};Ai.useEffectEvent=_t;var px={readContext:bs,use:ic,useCallback:function(t,s){return As().memoizedState=[t,s===void 0?null:s],t},useContext:bs,useEffect:ex,useImperativeHandle:function(t,s,n){n=n!=null?n.concat([t]):null,cc(4194308,4,rx.bind(null,s,t),n)},useLayoutEffect:function(t,s){return cc(4194308,4,t,s)},useInsertionEffect:function(t,s){cc(4,2,t,s)},useMemo:function(t,s){var n=As();s=s===void 0?null:s;var i=t();if(Mn){Nt(!0);try{t()}finally{Nt(!1)}}return n.memoizedState=[i,s],i},useReducer:function(t,s,n){var i=As();if(n!==void 0){var c=n(s);if(Mn){Nt(!0);try{n(s)}finally{Nt(!1)}}}else c=s;return i.memoizedState=i.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},i.queue=t,t=t.dispatch=Bj.bind(null,at,t),[i.memoizedState,t]},useRef:function(t){var s=As();return t={current:t},s.memoizedState=t},useState:function(t){t=Uu(t);var s=t.queue,n=fx.bind(null,at,s);return s.dispatch=n,[t.memoizedState,n]},useDebugValue:Pu,useDeferredValue:function(t,s){var n=As();return qu(n,t,s)},useTransition:function(){var t=Uu(!1);return t=cx.bind(null,at,t.queue,!0,!1),As().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,n){var i=at,c=As();if(ht){if(n===void 0)throw Error(o(407));n=n()}else{if(n=s(),Lt===null)throw Error(o(349));(ut&127)!==0||Bf(i,s,n)}c.memoizedState=n;var m={value:n,getSnapshot:s};return c.queue=m,ex(qf.bind(null,i,m,t),[t]),i.flags|=2048,El(9,{destroy:void 0},Pf.bind(null,i,m,n,s),null),n},useId:function(){var t=As(),s=Lt.identifierPrefix;if(ht){var n=_a,i=Ha;n=(i&~(1<<32-St(i)-1)).toString(32)+n,s="_"+s+"R_"+n,n=nc++,0<n&&(s+="H"+n.toString(32)),s+="_"}else n=Dj++,s="_"+s+"r_"+n.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:Hu,useFormState:Kf,useActionState:Kf,useOptimistic:function(t){var s=As();s.memoizedState=s.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=n,s=_u.bind(null,at,!0,n),n.dispatch=s,[t,s]},useMemoCache:Fu,useCacheRefresh:function(){return As().memoizedState=zj.bind(null,at)},useEffectEvent:function(t){var s=As(),n={impl:t};return s.memoizedState=n,function(){if((wt&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}},Iu={readContext:bs,use:ic,useCallback:lx,useContext:bs,useEffect:Bu,useImperativeHandle:nx,useInsertionEffect:sx,useLayoutEffect:ax,useMemo:ix,useReducer:oc,useRef:Wf,useState:function(){return oc(or)},useDebugValue:Pu,useDeferredValue:function(t,s){var n=Xt();return ox(n,Dt.memoizedState,t,s)},useTransition:function(){var t=oc(or)[0],s=Xt().memoizedState;return[typeof t=="boolean"?t:Ei(t),s]},useSyncExternalStore:zf,useId:mx,useHostTransitionStatus:Hu,useFormState:Zf,useActionState:Zf,useOptimistic:function(t,s){var n=Xt();return _f(n,Dt,t,s)},useMemoCache:Fu,useCacheRefresh:hx};Iu.useEffectEvent=tx;var bx={readContext:bs,use:ic,useCallback:lx,useContext:bs,useEffect:Bu,useImperativeHandle:nx,useInsertionEffect:sx,useLayoutEffect:ax,useMemo:ix,useReducer:Lu,useRef:Wf,useState:function(){return Lu(or)},useDebugValue:Pu,useDeferredValue:function(t,s){var n=Xt();return Dt===null?qu(n,t,s):ox(n,Dt.memoizedState,t,s)},useTransition:function(){var t=Lu(or)[0],s=Xt().memoizedState;return[typeof t=="boolean"?t:Ei(t),s]},useSyncExternalStore:zf,useId:mx,useHostTransitionStatus:Hu,useFormState:Jf,useActionState:Jf,useOptimistic:function(t,s){var n=Xt();return Dt!==null?_f(n,Dt,t,s):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Fu,useCacheRefresh:hx};bx.useEffectEvent=tx;function Qu(t,s,n,i){s=t.memoizedState,n=n(i,s),n=n==null?s:w({},s,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Gu={enqueueSetState:function(t,s,n){t=t._reactInternals;var i=ra(),c=Pr(i);c.payload=s,n!=null&&(c.callback=n),s=qr(t,c,i),s!==null&&(Ps(s,t,i),Ni(s,t,i))},enqueueReplaceState:function(t,s,n){t=t._reactInternals;var i=ra(),c=Pr(i);c.tag=1,c.payload=s,n!=null&&(c.callback=n),s=qr(t,c,i),s!==null&&(Ps(s,t,i),Ni(s,t,i))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var n=ra(),i=Pr(n);i.tag=2,s!=null&&(i.callback=s),s=qr(t,i,n),s!==null&&(Ps(s,t,n),Ni(s,t,n))}};function yx(t,s,n,i,c,m,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,m,v):s.prototype&&s.prototype.isPureReactComponent?!xi(n,i)||!xi(c,m):!0}function vx(t,s,n,i){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(n,i),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(n,i),s.state!==t&&Gu.enqueueReplaceState(s,s.state,null)}function Fn(t,s){var n=s;if("ref"in s){n={};for(var i in s)i!=="ref"&&(n[i]=s[i])}if(t=t.defaultProps){n===s&&(n=w({},n));for(var c in t)n[c]===void 0&&(n[c]=t[c])}return n}function jx(t){_o(t)}function wx(t){console.error(t)}function Nx(t){_o(t)}function mc(t,s){try{var n=t.onUncaughtError;n(s.value,{componentStack:s.stack})}catch(i){setTimeout(function(){throw i})}}function Sx(t,s,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Yu(t,s,n){return n=Pr(n),n.tag=3,n.payload={element:null},n.callback=function(){mc(t,s)},n}function Cx(t){return t=Pr(t),t.tag=3,t}function kx(t,s,n,i){var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var m=i.value;t.payload=function(){return c(m)},t.callback=function(){Sx(s,n,i)}}var v=n.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Sx(s,n,i),typeof c!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var A=i.stack;this.componentDidCatch(i.value,{componentStack:A!==null?A:""})})}function Pj(t,s,n,i,c){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(s=n.alternate,s!==null&&yl(s,n,c,!0),n=ea.current,n!==null){switch(n.tag){case 31:case 13:return fa===null?Sc():n.alternate===null&&It===0&&(It=3),n.flags&=-257,n.flags|=65536,n.lanes=c,i===Wo?n.flags|=16384:(s=n.updateQueue,s===null?n.updateQueue=new Set([i]):s.add(i),bm(t,i,c)),!1;case 22:return n.flags|=65536,i===Wo?n.flags|=16384:(s=n.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=s):(n=s.retryQueue,n===null?s.retryQueue=new Set([i]):n.add(i)),bm(t,i,c)),!1}throw Error(o(435,n.tag))}return bm(t,i,c),Sc(),!1}if(ht)return s=ea.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=c,i!==mu&&(t=Error(o(422),{cause:i}),bi(da(t,n)))):(i!==mu&&(s=Error(o(423),{cause:i}),bi(da(s,n))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,i=da(i,n),c=Yu(t.stateNode,i,c),Nu(t,c),It!==4&&(It=2)),!1;var m=Error(o(520),{cause:i});if(m=da(m,n),zi===null?zi=[m]:zi.push(m),It!==4&&(It=2),s===null)return!0;i=da(i,n),n=s;do{switch(n.tag){case 3:return n.flags|=65536,t=c&-c,n.lanes|=t,t=Yu(n.stateNode,i,t),Nu(n,t),!1;case 1:if(s=n.type,m=n.stateNode,(n.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Gr===null||!Gr.has(m))))return n.flags|=65536,c&=-c,n.lanes|=c,c=Cx(c),kx(c,t,n,i),Nu(n,c),!1}n=n.return}while(n!==null);return!1}var Vu=Error(o(461)),ss=!1;function ys(t,s,n,i){s.child=t===null?Rf(s,null,n,i):Dn(s,t.child,n,i)}function Ex(t,s,n,i,c){n=n.render;var m=s.ref;if("ref"in i){var v={};for(var A in i)A!=="ref"&&(v[A]=i[A])}else v=i;return En(s),i=Au(t,s,n,v,m,c),A=Ru(),t!==null&&!ss?(Du(t,s,c),cr(t,s,c)):(ht&&A&&du(s),s.flags|=1,ys(t,s,i,c),s.child)}function Tx(t,s,n,i,c){if(t===null){var m=n.type;return typeof m=="function"&&!iu(m)&&m.defaultProps===void 0&&n.compare===null?(s.tag=15,s.type=m,Ax(t,s,m,i,c)):(t=Yo(n.type,null,i,s,s.mode,c),t.ref=s.ref,t.return=s,s.child=t)}if(m=t.child,!sm(t,c)){var v=m.memoizedProps;if(n=n.compare,n=n!==null?n:xi,n(v,i)&&t.ref===s.ref)return cr(t,s,c)}return s.flags|=1,t=ar(m,i),t.ref=s.ref,t.return=s,s.child=t}function Ax(t,s,n,i,c){if(t!==null){var m=t.memoizedProps;if(xi(m,i)&&t.ref===s.ref)if(ss=!1,s.pendingProps=i=m,sm(t,c))(t.flags&131072)!==0&&(ss=!0);else return s.lanes=t.lanes,cr(t,s,c)}return Ku(t,s,n,i,c)}function Rx(t,s,n,i){var c=i.children,m=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|n:n,t!==null){for(i=s.child=t.child,c=0;i!==null;)c=c|i.lanes|i.childLanes,i=i.sibling;i=c&~m}else i=0,s.child=null;return Dx(t,s,m,n,i)}if((n&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&Xo(s,m!==null?m.cachePool:null),m!==null?Ff(s,m):Cu(),Of(s);else return i=s.lanes=536870912,Dx(t,s,m!==null?m.baseLanes|n:n,n,i)}else m!==null?(Xo(s,m.cachePool),Ff(s,m),Hr(),s.memoizedState=null):(t!==null&&Xo(s,null),Cu(),Hr());return ys(t,s,c,n),s.child}function Ri(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Dx(t,s,n,i,c){var m=yu();return m=m===null?null:{parent:es._currentValue,pool:m},s.memoizedState={baseLanes:n,cachePool:m},t!==null&&Xo(s,null),Cu(),Of(s),t!==null&&yl(t,s,i,!0),s.childLanes=c,null}function hc(t,s){return s=xc({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function Mx(t,s,n){return Dn(s,t.child,null,n),t=hc(s,s.pendingProps),t.flags|=2,ta(s),s.memoizedState=null,t}function qj(t,s,n){var i=s.pendingProps,c=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(ht){if(i.mode==="hidden")return t=hc(s,i),s.lanes=536870912,Ri(null,t);if(Eu(s),(t=Bt)?(t=Ig(t,ha),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Or!==null?{id:Ha,overflow:_a}:null,retryLane:536870912,hydrationErrors:null},n=xf(t),n.return=s,s.child=n,ps=s,Bt=null)):t=null,t===null)throw Ur(s);return s.lanes=536870912,null}return hc(s,i)}var m=t.memoizedState;if(m!==null){var v=m.dehydrated;if(Eu(s),c)if(s.flags&256)s.flags&=-257,s=Mx(t,s,n);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(o(558));else if(ss||yl(t,s,n,!1),c=(n&t.childLanes)!==0,ss||c){if(i=Lt,i!==null&&(v=st(i,n),v!==0&&v!==m.retryLane))throw m.retryLane=v,Nn(t,v),Ps(i,t,v),Vu;Sc(),s=Mx(t,s,n)}else t=m.treeContext,Bt=xa(v.nextSibling),ps=s,ht=!0,Lr=null,ha=!1,t!==null&&bf(s,t),s=hc(s,i),s.flags|=4096;return s}return t=ar(t.child,{mode:i.mode,children:i.children}),t.ref=s.ref,s.child=t,t.return=s,t}function fc(t,s){var n=s.ref;if(n===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(o(284));(t===null||t.ref!==n)&&(s.flags|=4194816)}}function Ku(t,s,n,i,c){return En(s),n=Au(t,s,n,i,void 0,c),i=Ru(),t!==null&&!ss?(Du(t,s,c),cr(t,s,c)):(ht&&i&&du(s),s.flags|=1,ys(t,s,n,c),s.child)}function Fx(t,s,n,i,c,m){return En(s),s.updateQueue=null,n=Uf(s,i,n,c),Lf(t),i=Ru(),t!==null&&!ss?(Du(t,s,m),cr(t,s,m)):(ht&&i&&du(s),s.flags|=1,ys(t,s,n,m),s.child)}function Ox(t,s,n,i,c){if(En(s),s.stateNode===null){var m=xl,v=n.contextType;typeof v=="object"&&v!==null&&(m=bs(v)),m=new n(i,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Gu,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=i,m.state=s.memoizedState,m.refs={},ju(s),v=n.contextType,m.context=typeof v=="object"&&v!==null?bs(v):xl,m.state=s.memoizedState,v=n.getDerivedStateFromProps,typeof v=="function"&&(Qu(s,n,v,i),m.state=s.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(v=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),v!==m.state&&Gu.enqueueReplaceState(m,m.state,null),Ci(s,i,m,c),Si(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),i=!0}else if(t===null){m=s.stateNode;var A=s.memoizedProps,H=Fn(n,A);m.props=H;var oe=m.context,ve=n.contextType;v=xl,typeof ve=="object"&&ve!==null&&(v=bs(ve));var Ce=n.getDerivedStateFromProps;ve=typeof Ce=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,ve||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||oe!==v)&&vx(s,m,i,v),Br=!1;var ce=s.memoizedState;m.state=ce,Ci(s,i,m,c),Si(),oe=s.memoizedState,A||ce!==oe||Br?(typeof Ce=="function"&&(Qu(s,n,Ce,i),oe=s.memoizedState),(H=Br||yx(s,n,H,i,ce,oe,v))?(ve||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=i,s.memoizedState=oe),m.props=i,m.state=oe,m.context=v,i=H):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),i=!1)}else{m=s.stateNode,wu(t,s),v=s.memoizedProps,ve=Fn(n,v),m.props=ve,Ce=s.pendingProps,ce=m.context,oe=n.contextType,H=xl,typeof oe=="object"&&oe!==null&&(H=bs(oe)),A=n.getDerivedStateFromProps,(oe=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==Ce||ce!==H)&&vx(s,m,i,H),Br=!1,ce=s.memoizedState,m.state=ce,Ci(s,i,m,c),Si();var me=s.memoizedState;v!==Ce||ce!==me||Br||t!==null&&t.dependencies!==null&&Ko(t.dependencies)?(typeof A=="function"&&(Qu(s,n,A,i),me=s.memoizedState),(ve=Br||yx(s,n,ve,i,ce,me,H)||t!==null&&t.dependencies!==null&&Ko(t.dependencies))?(oe||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(i,me,H),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(i,me,H)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===t.memoizedProps&&ce===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&ce===t.memoizedState||(s.flags|=1024),s.memoizedProps=i,s.memoizedState=me),m.props=i,m.state=me,m.context=H,i=ve):(typeof m.componentDidUpdate!="function"||v===t.memoizedProps&&ce===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&ce===t.memoizedState||(s.flags|=1024),i=!1)}return m=i,fc(t,s),i=(s.flags&128)!==0,m||i?(m=s.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,t!==null&&i?(s.child=Dn(s,t.child,null,c),s.child=Dn(s,null,n,c)):ys(t,s,n,c),s.memoizedState=m.state,t=s.child):t=cr(t,s,c),t}function Lx(t,s,n,i){return Cn(),s.flags|=256,ys(t,s,n,i),s.child}var Zu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xu(t){return{baseLanes:t,cachePool:Sf()}}function Ju(t,s,n){return t=t!==null?t.childLanes&~n:0,s&&(t|=aa),t}function Ux(t,s,n){var i=s.pendingProps,c=!1,m=(s.flags&128)!==0,v;if((v=m)||(v=t!==null&&t.memoizedState===null?!1:(Zt.current&2)!==0),v&&(c=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,t===null){if(ht){if(c?$r(s):Hr(),(t=Bt)?(t=Ig(t,ha),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Or!==null?{id:Ha,overflow:_a}:null,retryLane:536870912,hydrationErrors:null},n=xf(t),n.return=s,s.child=n,ps=s,Bt=null)):t=null,t===null)throw Ur(s);return Om(t)?s.lanes=32:s.lanes=536870912,null}var A=i.children;return i=i.fallback,c?(Hr(),c=s.mode,A=xc({mode:"hidden",children:A},c),i=Sn(i,c,n,null),A.return=s,i.return=s,A.sibling=i,s.child=A,i=s.child,i.memoizedState=Xu(n),i.childLanes=Ju(t,v,n),s.memoizedState=Zu,Ri(null,i)):($r(s),Wu(s,A))}var H=t.memoizedState;if(H!==null&&(A=H.dehydrated,A!==null)){if(m)s.flags&256?($r(s),s.flags&=-257,s=em(t,s,n)):s.memoizedState!==null?(Hr(),s.child=t.child,s.flags|=128,s=null):(Hr(),A=i.fallback,c=s.mode,i=xc({mode:"visible",children:i.children},c),A=Sn(A,c,n,null),A.flags|=2,i.return=s,A.return=s,i.sibling=A,s.child=i,Dn(s,t.child,null,n),i=s.child,i.memoizedState=Xu(n),i.childLanes=Ju(t,v,n),s.memoizedState=Zu,s=Ri(null,i));else if($r(s),Om(A)){if(v=A.nextSibling&&A.nextSibling.dataset,v)var oe=v.dgst;v=oe,i=Error(o(419)),i.stack="",i.digest=v,bi({value:i,source:null,stack:null}),s=em(t,s,n)}else if(ss||yl(t,s,n,!1),v=(n&t.childLanes)!==0,ss||v){if(v=Lt,v!==null&&(i=st(v,n),i!==0&&i!==H.retryLane))throw H.retryLane=i,Nn(t,i),Ps(v,t,i),Vu;Fm(A)||Sc(),s=em(t,s,n)}else Fm(A)?(s.flags|=192,s.child=t.child,s=null):(t=H.treeContext,Bt=xa(A.nextSibling),ps=s,ht=!0,Lr=null,ha=!1,t!==null&&bf(s,t),s=Wu(s,i.children),s.flags|=4096);return s}return c?(Hr(),A=i.fallback,c=s.mode,H=t.child,oe=H.sibling,i=ar(H,{mode:"hidden",children:i.children}),i.subtreeFlags=H.subtreeFlags&65011712,oe!==null?A=ar(oe,A):(A=Sn(A,c,n,null),A.flags|=2),A.return=s,i.return=s,i.sibling=A,s.child=i,Ri(null,i),i=s.child,A=t.child.memoizedState,A===null?A=Xu(n):(c=A.cachePool,c!==null?(H=es._currentValue,c=c.parent!==H?{parent:H,pool:H}:c):c=Sf(),A={baseLanes:A.baseLanes|n,cachePool:c}),i.memoizedState=A,i.childLanes=Ju(t,v,n),s.memoizedState=Zu,Ri(t.child,i)):($r(s),n=t.child,t=n.sibling,n=ar(n,{mode:"visible",children:i.children}),n.return=s,n.sibling=null,t!==null&&(v=s.deletions,v===null?(s.deletions=[t],s.flags|=16):v.push(t)),s.child=n,s.memoizedState=null,n)}function Wu(t,s){return s=xc({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function xc(t,s){return t=Ws(22,t,null,s),t.lanes=0,t}function em(t,s,n){return Dn(s,t.child,null,n),t=Wu(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function zx(t,s,n){t.lanes|=s;var i=t.alternate;i!==null&&(i.lanes|=s),xu(t.return,s,n)}function tm(t,s,n,i,c,m){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:c,treeForkCount:m}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=i,v.tail=n,v.tailMode=c,v.treeForkCount=m)}function Bx(t,s,n){var i=s.pendingProps,c=i.revealOrder,m=i.tail;i=i.children;var v=Zt.current,A=(v&2)!==0;if(A?(v=v&1|2,s.flags|=128):v&=1,$(Zt,v),ys(t,s,i,n),i=ht?pi:0,!A&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zx(t,n,s);else if(t.tag===19)zx(t,n,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(n=s.child,c=null;n!==null;)t=n.alternate,t!==null&&ac(t)===null&&(c=n),n=n.sibling;n=c,n===null?(c=s.child,s.child=null):(c=n.sibling,n.sibling=null),tm(s,!1,c,n,m,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,c=s.child,s.child=null;c!==null;){if(t=c.alternate,t!==null&&ac(t)===null){s.child=c;break}t=c.sibling,c.sibling=n,n=c,c=t}tm(s,!0,n,null,m,i);break;case"together":tm(s,!1,null,null,void 0,i);break;default:s.memoizedState=null}return s.child}function cr(t,s,n){if(t!==null&&(s.dependencies=t.dependencies),Qr|=s.lanes,(n&s.childLanes)===0)if(t!==null){if(yl(t,s,n,!1),(n&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(o(153));if(s.child!==null){for(t=s.child,n=ar(t,t.pendingProps),s.child=n,n.return=s;t.sibling!==null;)t=t.sibling,n=n.sibling=ar(t,t.pendingProps),n.return=s;n.sibling=null}return s.child}function sm(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Ko(t)))}function $j(t,s,n){switch(s.tag){case 3:fe(s,s.stateNode.containerInfo),zr(s,es,t.memoizedState.cache),Cn();break;case 27:case 5:_e(s);break;case 4:fe(s,s.stateNode.containerInfo);break;case 10:zr(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Eu(s),null;break;case 13:var i=s.memoizedState;if(i!==null)return i.dehydrated!==null?($r(s),s.flags|=128,null):(n&s.child.childLanes)!==0?Ux(t,s,n):($r(s),t=cr(t,s,n),t!==null?t.sibling:null);$r(s);break;case 19:var c=(t.flags&128)!==0;if(i=(n&s.childLanes)!==0,i||(yl(t,s,n,!1),i=(n&s.childLanes)!==0),c){if(i)return Bx(t,s,n);s.flags|=128}if(c=s.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),$(Zt,Zt.current),i)break;return null;case 22:return s.lanes=0,Rx(t,s,n,s.pendingProps);case 24:zr(s,es,t.memoizedState.cache)}return cr(t,s,n)}function Px(t,s,n){if(t!==null)if(t.memoizedProps!==s.pendingProps)ss=!0;else{if(!sm(t,n)&&(s.flags&128)===0)return ss=!1,$j(t,s,n);ss=(t.flags&131072)!==0}else ss=!1,ht&&(s.flags&1048576)!==0&&pf(s,pi,s.index);switch(s.lanes=0,s.tag){case 16:e:{var i=s.pendingProps;if(t=An(s.elementType),s.type=t,typeof t=="function")iu(t)?(i=Fn(t,i),s.tag=1,s=Ox(null,s,t,i,n)):(s.tag=0,s=Ku(null,s,t,i,n));else{if(t!=null){var c=t.$$typeof;if(c===F){s.tag=11,s=Ex(null,s,t,i,n);break e}else if(c===k){s.tag=14,s=Tx(null,s,t,i,n);break e}}throw s=O(t)||t,Error(o(306,s,""))}}return s;case 0:return Ku(t,s,s.type,s.pendingProps,n);case 1:return i=s.type,c=Fn(i,s.pendingProps),Ox(t,s,i,c,n);case 3:e:{if(fe(s,s.stateNode.containerInfo),t===null)throw Error(o(387));i=s.pendingProps;var m=s.memoizedState;c=m.element,wu(t,s),Ci(s,i,null,n);var v=s.memoizedState;if(i=v.cache,zr(s,es,i),i!==m.cache&&gu(s,[es],n,!0),Si(),i=v.element,m.isDehydrated)if(m={element:i,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=Lx(t,s,i,n);break e}else if(i!==c){c=da(Error(o(424)),s),bi(c),s=Lx(t,s,i,n);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Bt=xa(t.firstChild),ps=s,ht=!0,Lr=null,ha=!0,n=Rf(s,null,i,n),s.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Cn(),i===c){s=cr(t,s,n);break e}ys(t,s,i,n)}s=s.child}return s;case 26:return fc(t,s),t===null?(n=Zg(s.type,null,s.pendingProps,null))?s.memoizedState=n:ht||(n=s.type,t=s.pendingProps,i=Dc(Se.current).createElement(n),i[Ht]=s,i[Kt]=t,vs(i,n,t),He(i),s.stateNode=i):s.memoizedState=Zg(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return _e(s),t===null&&ht&&(i=s.stateNode=Yg(s.type,s.pendingProps,Se.current),ps=s,ha=!0,c=Bt,Zr(s.type)?(Lm=c,Bt=xa(i.firstChild)):Bt=c),ys(t,s,s.pendingProps.children,n),fc(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&ht&&((c=i=Bt)&&(i=pw(i,s.type,s.pendingProps,ha),i!==null?(s.stateNode=i,ps=s,Bt=xa(i.firstChild),ha=!1,c=!0):c=!1),c||Ur(s)),_e(s),c=s.type,m=s.pendingProps,v=t!==null?t.memoizedProps:null,i=m.children,Rm(c,m)?i=null:v!==null&&Rm(c,v)&&(s.flags|=32),s.memoizedState!==null&&(c=Au(t,s,Mj,null,null,n),Qi._currentValue=c),fc(t,s),ys(t,s,i,n),s.child;case 6:return t===null&&ht&&((t=n=Bt)&&(n=bw(n,s.pendingProps,ha),n!==null?(s.stateNode=n,ps=s,Bt=null,t=!0):t=!1),t||Ur(s)),null;case 13:return Ux(t,s,n);case 4:return fe(s,s.stateNode.containerInfo),i=s.pendingProps,t===null?s.child=Dn(s,null,i,n):ys(t,s,i,n),s.child;case 11:return Ex(t,s,s.type,s.pendingProps,n);case 7:return ys(t,s,s.pendingProps,n),s.child;case 8:return ys(t,s,s.pendingProps.children,n),s.child;case 12:return ys(t,s,s.pendingProps.children,n),s.child;case 10:return i=s.pendingProps,zr(s,s.type,i.value),ys(t,s,i.children,n),s.child;case 9:return c=s.type._context,i=s.pendingProps.children,En(s),c=bs(c),i=i(c),s.flags|=1,ys(t,s,i,n),s.child;case 14:return Tx(t,s,s.type,s.pendingProps,n);case 15:return Ax(t,s,s.type,s.pendingProps,n);case 19:return Bx(t,s,n);case 31:return qj(t,s,n);case 22:return Rx(t,s,n,s.pendingProps);case 24:return En(s),i=bs(es),t===null?(c=yu(),c===null&&(c=Lt,m=pu(),c.pooledCache=m,m.refCount++,m!==null&&(c.pooledCacheLanes|=n),c=m),s.memoizedState={parent:i,cache:c},ju(s),zr(s,es,c)):((t.lanes&n)!==0&&(wu(t,s),Ci(s,null,null,n),Si()),c=t.memoizedState,m=s.memoizedState,c.parent!==i?(c={parent:i,cache:i},s.memoizedState=c,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=c),zr(s,es,i)):(i=m.cache,zr(s,es,i),i!==c.cache&&gu(s,[es],n,!0))),ys(t,s,s.pendingProps.children,n),s.child;case 29:throw s.pendingProps}throw Error(o(156,s.tag))}function dr(t){t.flags|=4}function am(t,s,n,i,c){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(mg())t.flags|=8192;else throw Rn=Wo,vu}else t.flags&=-16777217}function qx(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!tp(s))if(mg())t.flags|=8192;else throw Rn=Wo,vu}function gc(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?jt():536870912,t.lanes|=s,Dl|=s)}function Di(t,s){if(!ht)switch(t.tailMode){case"hidden":s=t.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Pt(t){var s=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(s)for(var c=t.child;c!==null;)n|=c.lanes|c.childLanes,i|=c.subtreeFlags&65011712,i|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)n|=c.lanes|c.childLanes,i|=c.subtreeFlags,i|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=i,t.childLanes=n,s}function Hj(t,s,n){var i=s.pendingProps;switch(uu(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(s),null;case 1:return Pt(s),null;case 3:return n=s.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),s.memoizedState.cache!==i&&(s.flags|=2048),lr(es),Re(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(bl(s)?dr(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,hu())),Pt(s),null;case 26:var c=s.type,m=s.memoizedState;return t===null?(dr(s),m!==null?(Pt(s),qx(s,m)):(Pt(s),am(s,c,null,i,n))):m?m!==t.memoizedState?(dr(s),Pt(s),qx(s,m)):(Pt(s),s.flags&=-16777217):(t=t.memoizedProps,t!==i&&dr(s),Pt(s),am(s,c,t,i,n)),null;case 27:if(Ye(s),n=Se.current,c=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==i&&dr(s);else{if(!i){if(s.stateNode===null)throw Error(o(166));return Pt(s),null}t=W.current,bl(s)?yf(s):(t=Yg(c,i,n),s.stateNode=t,dr(s))}return Pt(s),null;case 5:if(Ye(s),c=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==i&&dr(s);else{if(!i){if(s.stateNode===null)throw Error(o(166));return Pt(s),null}if(m=W.current,bl(s))yf(s);else{var v=Dc(Se.current);switch(m){case 1:m=v.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:m=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":m=v.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":m=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":m=v.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof i.is=="string"?v.createElement("select",{is:i.is}):v.createElement("select"),i.multiple?m.multiple=!0:i.size&&(m.size=i.size);break;default:m=typeof i.is=="string"?v.createElement(c,{is:i.is}):v.createElement(c)}}m[Ht]=s,m[Kt]=i;e:for(v=s.child;v!==null;){if(v.tag===5||v.tag===6)m.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===s)break e;for(;v.sibling===null;){if(v.return===null||v.return===s)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}s.stateNode=m;e:switch(vs(m,c,i),c){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&dr(s)}}return Pt(s),am(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,n),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==i&&dr(s);else{if(typeof i!="string"&&s.stateNode===null)throw Error(o(166));if(t=Se.current,bl(s)){if(t=s.stateNode,n=s.memoizedProps,i=null,c=ps,c!==null)switch(c.tag){case 27:case 5:i=c.memoizedProps}t[Ht]=s,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||Ug(t.nodeValue,n)),t||Ur(s,!0)}else t=Dc(t).createTextNode(i),t[Ht]=s,s.stateNode=t}return Pt(s),null;case 31:if(n=s.memoizedState,t===null||t.memoizedState!==null){if(i=bl(s),n!==null){if(t===null){if(!i)throw Error(o(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(557));t[Ht]=s}else Cn(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Pt(s),t=!1}else n=hu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return s.flags&256?(ta(s),s):(ta(s),null);if((s.flags&128)!==0)throw Error(o(558))}return Pt(s),null;case 13:if(i=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=bl(s),i!==null&&i.dehydrated!==null){if(t===null){if(!c)throw Error(o(318));if(c=s.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));c[Ht]=s}else Cn(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Pt(s),c=!1}else c=hu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return s.flags&256?(ta(s),s):(ta(s),null)}return ta(s),(s.flags&128)!==0?(s.lanes=n,s):(n=i!==null,t=t!==null&&t.memoizedState!==null,n&&(i=s.child,c=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(c=i.alternate.memoizedState.cachePool.pool),m=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(m=i.memoizedState.cachePool.pool),m!==c&&(i.flags|=2048)),n!==t&&n&&(s.child.flags|=8192),gc(s,s.updateQueue),Pt(s),null);case 4:return Re(),t===null&&Cm(s.stateNode.containerInfo),Pt(s),null;case 10:return lr(s.type),Pt(s),null;case 19:if(R(Zt),i=s.memoizedState,i===null)return Pt(s),null;if(c=(s.flags&128)!==0,m=i.rendering,m===null)if(c)Di(i,!1);else{if(It!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(m=ac(t),m!==null){for(s.flags|=128,Di(i,!1),t=m.updateQueue,s.updateQueue=t,gc(s,t),s.subtreeFlags=0,t=n,n=s.child;n!==null;)ff(n,t),n=n.sibling;return $(Zt,Zt.current&1|2),ht&&rr(s,i.treeForkCount),s.child}t=t.sibling}i.tail!==null&&Te()>jc&&(s.flags|=128,c=!0,Di(i,!1),s.lanes=4194304)}else{if(!c)if(t=ac(m),t!==null){if(s.flags|=128,c=!0,t=t.updateQueue,s.updateQueue=t,gc(s,t),Di(i,!0),i.tail===null&&i.tailMode==="hidden"&&!m.alternate&&!ht)return Pt(s),null}else 2*Te()-i.renderingStartTime>jc&&n!==536870912&&(s.flags|=128,c=!0,Di(i,!1),s.lanes=4194304);i.isBackwards?(m.sibling=s.child,s.child=m):(t=i.last,t!==null?t.sibling=m:s.child=m,i.last=m)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Te(),t.sibling=null,n=Zt.current,$(Zt,c?n&1|2:n&1),ht&&rr(s,i.treeForkCount),t):(Pt(s),null);case 22:case 23:return ta(s),ku(),i=s.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(s.flags|=8192):i&&(s.flags|=8192),i?(n&536870912)!==0&&(s.flags&128)===0&&(Pt(s),s.subtreeFlags&6&&(s.flags|=8192)):Pt(s),n=s.updateQueue,n!==null&&gc(s,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==n&&(s.flags|=2048),t!==null&&R(Tn),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),s.memoizedState.cache!==n&&(s.flags|=2048),lr(es),Pt(s),null;case 25:return null;case 30:return null}throw Error(o(156,s.tag))}function _j(t,s){switch(uu(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return lr(es),Re(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Ye(s),null;case 31:if(s.memoizedState!==null){if(ta(s),s.alternate===null)throw Error(o(340));Cn()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(ta(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(o(340));Cn()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return R(Zt),null;case 4:return Re(),null;case 10:return lr(s.type),null;case 22:case 23:return ta(s),ku(),t!==null&&R(Tn),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return lr(es),null;case 25:return null;default:return null}}function $x(t,s){switch(uu(s),s.tag){case 3:lr(es),Re();break;case 26:case 27:case 5:Ye(s);break;case 4:Re();break;case 31:s.memoizedState!==null&&ta(s);break;case 13:ta(s);break;case 19:R(Zt);break;case 10:lr(s.type);break;case 22:case 23:ta(s),ku(),t!==null&&R(Tn);break;case 24:lr(es)}}function Mi(t,s){try{var n=s.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var c=i.next;n=c;do{if((n.tag&t)===t){i=void 0;var m=n.create,v=n.inst;i=m(),v.destroy=i}n=n.next}while(n!==c)}}catch(A){At(s,s.return,A)}}function _r(t,s,n){try{var i=s.updateQueue,c=i!==null?i.lastEffect:null;if(c!==null){var m=c.next;i=m;do{if((i.tag&t)===t){var v=i.inst,A=v.destroy;if(A!==void 0){v.destroy=void 0,c=s;var H=n,oe=A;try{oe()}catch(ve){At(c,H,ve)}}}i=i.next}while(i!==m)}}catch(ve){At(s,s.return,ve)}}function Hx(t){var s=t.updateQueue;if(s!==null){var n=t.stateNode;try{Mf(s,n)}catch(i){At(t,t.return,i)}}}function _x(t,s,n){n.props=Fn(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){At(t,s,i)}}function Fi(t,s){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(c){At(t,s,c)}}function Ia(t,s){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(c){At(t,s,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(c){At(t,s,c)}else n.current=null}function Ix(t){var s=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(c){At(t,t.return,c)}}function rm(t,s,n){try{var i=t.stateNode;uw(i,t.type,n,s),i[Kt]=s}catch(c){At(t,t.return,c)}}function Qx(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Zr(t.type)||t.tag===4}function nm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Qx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Zr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lm(t,s,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,s?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,s):(s=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.appendChild(t),n=n._reactRootContainer,n!=null||s.onclick!==null||(s.onclick=tr));else if(i!==4&&(i===27&&Zr(t.type)&&(n=t.stateNode,s=null),t=t.child,t!==null))for(lm(t,s,n),t=t.sibling;t!==null;)lm(t,s,n),t=t.sibling}function pc(t,s,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,s?n.insertBefore(t,s):n.appendChild(t);else if(i!==4&&(i===27&&Zr(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(pc(t,s,n),t=t.sibling;t!==null;)pc(t,s,n),t=t.sibling}function Gx(t){var s=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,c=s.attributes;c.length;)s.removeAttributeNode(c[0]);vs(s,i,n),s[Ht]=t,s[Kt]=n}catch(m){At(t,t.return,m)}}var ur=!1,as=!1,im=!1,Yx=typeof WeakSet=="function"?WeakSet:Set,hs=null;function Ij(t,s){if(t=t.containerInfo,Tm=Bc,t=rf(t),eu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var c=i.anchorOffset,m=i.focusNode;i=i.focusOffset;try{n.nodeType,m.nodeType}catch{n=null;break e}var v=0,A=-1,H=-1,oe=0,ve=0,Ce=t,ce=null;t:for(;;){for(var me;Ce!==n||c!==0&&Ce.nodeType!==3||(A=v+c),Ce!==m||i!==0&&Ce.nodeType!==3||(H=v+i),Ce.nodeType===3&&(v+=Ce.nodeValue.length),(me=Ce.firstChild)!==null;)ce=Ce,Ce=me;for(;;){if(Ce===t)break t;if(ce===n&&++oe===c&&(A=v),ce===m&&++ve===i&&(H=v),(me=Ce.nextSibling)!==null)break;Ce=ce,ce=Ce.parentNode}Ce=me}n=A===-1||H===-1?null:{start:A,end:H}}else n=null}n=n||{start:0,end:0}}else n=null;for(Am={focusedElem:t,selectionRange:n},Bc=!1,hs=s;hs!==null;)if(s=hs,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,hs=t;else for(;hs!==null;){switch(s=hs,m=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)c=t[n],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,n=s,c=m.memoizedProps,m=m.memoizedState,i=n.stateNode;try{var Be=Fn(n.type,c);t=i.getSnapshotBeforeUpdate(Be,m),i.__reactInternalSnapshotBeforeUpdate=t}catch(We){At(n,n.return,We)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,n=t.nodeType,n===9)Mm(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Mm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=s.sibling,t!==null){t.return=s.return,hs=t;break}hs=s.return}}function Vx(t,s,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:hr(t,n),i&4&&Mi(5,n);break;case 1:if(hr(t,n),i&4)if(t=n.stateNode,s===null)try{t.componentDidMount()}catch(v){At(n,n.return,v)}else{var c=Fn(n.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(c,s,t.__reactInternalSnapshotBeforeUpdate)}catch(v){At(n,n.return,v)}}i&64&&Hx(n),i&512&&Fi(n,n.return);break;case 3:if(hr(t,n),i&64&&(t=n.updateQueue,t!==null)){if(s=null,n.child!==null)switch(n.child.tag){case 27:case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}try{Mf(t,s)}catch(v){At(n,n.return,v)}}break;case 27:s===null&&i&4&&Gx(n);case 26:case 5:hr(t,n),s===null&&i&4&&Ix(n),i&512&&Fi(n,n.return);break;case 12:hr(t,n);break;case 31:hr(t,n),i&4&&Xx(t,n);break;case 13:hr(t,n),i&4&&Jx(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=Wj.bind(null,n),yw(t,n))));break;case 22:if(i=n.memoizedState!==null||ur,!i){s=s!==null&&s.memoizedState!==null||as,c=ur;var m=as;ur=i,(as=s)&&!m?fr(t,n,(n.subtreeFlags&8772)!==0):hr(t,n),ur=c,as=m}break;case 30:break;default:hr(t,n)}}function Kx(t){var s=t.alternate;s!==null&&(t.alternate=null,Kx(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&le(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var qt=null,Ls=!1;function mr(t,s,n){for(n=n.child;n!==null;)Zx(t,s,n),n=n.sibling}function Zx(t,s,n){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(Ot,n)}catch{}switch(n.tag){case 26:as||Ia(n,s),mr(t,s,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:as||Ia(n,s);var i=qt,c=Ls;Zr(n.type)&&(qt=n.stateNode,Ls=!1),mr(t,s,n),Hi(n.stateNode),qt=i,Ls=c;break;case 5:as||Ia(n,s);case 6:if(i=qt,c=Ls,qt=null,mr(t,s,n),qt=i,Ls=c,qt!==null)if(Ls)try{(qt.nodeType===9?qt.body:qt.nodeName==="HTML"?qt.ownerDocument.body:qt).removeChild(n.stateNode)}catch(m){At(n,s,m)}else try{qt.removeChild(n.stateNode)}catch(m){At(n,s,m)}break;case 18:qt!==null&&(Ls?(t=qt,Hg(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Pl(t)):Hg(qt,n.stateNode));break;case 4:i=qt,c=Ls,qt=n.stateNode.containerInfo,Ls=!0,mr(t,s,n),qt=i,Ls=c;break;case 0:case 11:case 14:case 15:_r(2,n,s),as||_r(4,n,s),mr(t,s,n);break;case 1:as||(Ia(n,s),i=n.stateNode,typeof i.componentWillUnmount=="function"&&_x(n,s,i)),mr(t,s,n);break;case 21:mr(t,s,n);break;case 22:as=(i=as)||n.memoizedState!==null,mr(t,s,n),as=i;break;default:mr(t,s,n)}}function Xx(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Pl(t)}catch(n){At(s,s.return,n)}}}function Jx(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Pl(t)}catch(n){At(s,s.return,n)}}function Qj(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new Yx),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new Yx),s;default:throw Error(o(435,t.tag))}}function bc(t,s){var n=Qj(t);s.forEach(function(i){if(!n.has(i)){n.add(i);var c=ew.bind(null,t,i);i.then(c,c)}})}function Us(t,s){var n=s.deletions;if(n!==null)for(var i=0;i<n.length;i++){var c=n[i],m=t,v=s,A=v;e:for(;A!==null;){switch(A.tag){case 27:if(Zr(A.type)){qt=A.stateNode,Ls=!1;break e}break;case 5:qt=A.stateNode,Ls=!1;break e;case 3:case 4:qt=A.stateNode.containerInfo,Ls=!0;break e}A=A.return}if(qt===null)throw Error(o(160));Zx(m,v,c),qt=null,Ls=!1,m=c.alternate,m!==null&&(m.return=null),c.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Wx(s,t),s=s.sibling}var Aa=null;function Wx(t,s){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Us(s,t),zs(t),i&4&&(_r(3,t,t.return),Mi(3,t),_r(5,t,t.return));break;case 1:Us(s,t),zs(t),i&512&&(as||n===null||Ia(n,n.return)),i&64&&ur&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var c=Aa;if(Us(s,t),zs(t),i&512&&(as||n===null||Ia(n,n.return)),i&4){var m=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,c=c.ownerDocument||c;t:switch(i){case"title":m=c.getElementsByTagName("title")[0],(!m||m[M]||m[Ht]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=c.createElement(i),c.head.insertBefore(m,c.querySelector("head > title"))),vs(m,i,n),m[Ht]=t,He(m),i=m;break e;case"link":var v=Wg("link","href",c).get(i+(n.href||""));if(v){for(var A=0;A<v.length;A++)if(m=v[A],m.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&m.getAttribute("rel")===(n.rel==null?null:n.rel)&&m.getAttribute("title")===(n.title==null?null:n.title)&&m.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){v.splice(A,1);break t}}m=c.createElement(i),vs(m,i,n),c.head.appendChild(m);break;case"meta":if(v=Wg("meta","content",c).get(i+(n.content||""))){for(A=0;A<v.length;A++)if(m=v[A],m.getAttribute("content")===(n.content==null?null:""+n.content)&&m.getAttribute("name")===(n.name==null?null:n.name)&&m.getAttribute("property")===(n.property==null?null:n.property)&&m.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&m.getAttribute("charset")===(n.charSet==null?null:n.charSet)){v.splice(A,1);break t}}m=c.createElement(i),vs(m,i,n),c.head.appendChild(m);break;default:throw Error(o(468,i))}m[Ht]=t,He(m),i=m}t.stateNode=i}else ep(c,t.type,t.stateNode);else t.stateNode=Jg(c,i,t.memoizedProps);else m!==i?(m===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):m.count--,i===null?ep(c,t.type,t.stateNode):Jg(c,i,t.memoizedProps)):i===null&&t.stateNode!==null&&rm(t,t.memoizedProps,n.memoizedProps)}break;case 27:Us(s,t),zs(t),i&512&&(as||n===null||Ia(n,n.return)),n!==null&&i&4&&rm(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Us(s,t),zs(t),i&512&&(as||n===null||Ia(n,n.return)),t.flags&32){c=t.stateNode;try{ol(c,"")}catch(Be){At(t,t.return,Be)}}i&4&&t.stateNode!=null&&(c=t.memoizedProps,rm(t,c,n!==null?n.memoizedProps:c)),i&1024&&(im=!0);break;case 6:if(Us(s,t),zs(t),i&4){if(t.stateNode===null)throw Error(o(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(Be){At(t,t.return,Be)}}break;case 3:if(Oc=null,c=Aa,Aa=Mc(s.containerInfo),Us(s,t),Aa=c,zs(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Pl(s.containerInfo)}catch(Be){At(t,t.return,Be)}im&&(im=!1,eg(t));break;case 4:i=Aa,Aa=Mc(t.stateNode.containerInfo),Us(s,t),zs(t),Aa=i;break;case 12:Us(s,t),zs(t);break;case 31:Us(s,t),zs(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,bc(t,i)));break;case 13:Us(s,t),zs(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(vc=Te()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,bc(t,i)));break;case 22:c=t.memoizedState!==null;var H=n!==null&&n.memoizedState!==null,oe=ur,ve=as;if(ur=oe||c,as=ve||H,Us(s,t),as=ve,ur=oe,zs(t),i&8192)e:for(s=t.stateNode,s._visibility=c?s._visibility&-2:s._visibility|1,c&&(n===null||H||ur||as||On(t)),n=null,s=t;;){if(s.tag===5||s.tag===26){if(n===null){H=n=s;try{if(m=H.stateNode,c)v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{A=H.stateNode;var Ce=H.memoizedProps.style,ce=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null;A.style.display=ce==null||typeof ce=="boolean"?"":(""+ce).trim()}}catch(Be){At(H,H.return,Be)}}}else if(s.tag===6){if(n===null){H=s;try{H.stateNode.nodeValue=c?"":H.memoizedProps}catch(Be){At(H,H.return,Be)}}}else if(s.tag===18){if(n===null){H=s;try{var me=H.stateNode;c?_g(me,!0):_g(H.stateNode,!1)}catch(Be){At(H,H.return,Be)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;n===s&&(n=null),s=s.return}n===s&&(n=null),s.sibling.return=s.return,s=s.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,bc(t,n))));break;case 19:Us(s,t),zs(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,bc(t,i)));break;case 30:break;case 21:break;default:Us(s,t),zs(t)}}function zs(t){var s=t.flags;if(s&2){try{for(var n,i=t.return;i!==null;){if(Qx(i)){n=i;break}i=i.return}if(n==null)throw Error(o(160));switch(n.tag){case 27:var c=n.stateNode,m=nm(t);pc(t,m,c);break;case 5:var v=n.stateNode;n.flags&32&&(ol(v,""),n.flags&=-33);var A=nm(t);pc(t,A,v);break;case 3:case 4:var H=n.stateNode.containerInfo,oe=nm(t);lm(t,oe,H);break;default:throw Error(o(161))}}catch(ve){At(t,t.return,ve)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function eg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;eg(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function hr(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Vx(t,s.alternate,s),s=s.sibling}function On(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:_r(4,s,s.return),On(s);break;case 1:Ia(s,s.return);var n=s.stateNode;typeof n.componentWillUnmount=="function"&&_x(s,s.return,n),On(s);break;case 27:Hi(s.stateNode);case 26:case 5:Ia(s,s.return),On(s);break;case 22:s.memoizedState===null&&On(s);break;case 30:On(s);break;default:On(s)}t=t.sibling}}function fr(t,s,n){for(n=n&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var i=s.alternate,c=t,m=s,v=m.flags;switch(m.tag){case 0:case 11:case 15:fr(c,m,n),Mi(4,m);break;case 1:if(fr(c,m,n),i=m,c=i.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(oe){At(i,i.return,oe)}if(i=m,c=i.updateQueue,c!==null){var A=i.stateNode;try{var H=c.shared.hiddenCallbacks;if(H!==null)for(c.shared.hiddenCallbacks=null,c=0;c<H.length;c++)Df(H[c],A)}catch(oe){At(i,i.return,oe)}}n&&v&64&&Hx(m),Fi(m,m.return);break;case 27:Gx(m);case 26:case 5:fr(c,m,n),n&&i===null&&v&4&&Ix(m),Fi(m,m.return);break;case 12:fr(c,m,n);break;case 31:fr(c,m,n),n&&v&4&&Xx(c,m);break;case 13:fr(c,m,n),n&&v&4&&Jx(c,m);break;case 22:m.memoizedState===null&&fr(c,m,n),Fi(m,m.return);break;case 30:break;default:fr(c,m,n)}s=s.sibling}}function om(t,s){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&yi(n))}function cm(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&yi(t))}function Ra(t,s,n,i){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)tg(t,s,n,i),s=s.sibling}function tg(t,s,n,i){var c=s.flags;switch(s.tag){case 0:case 11:case 15:Ra(t,s,n,i),c&2048&&Mi(9,s);break;case 1:Ra(t,s,n,i);break;case 3:Ra(t,s,n,i),c&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&yi(t)));break;case 12:if(c&2048){Ra(t,s,n,i),t=s.stateNode;try{var m=s.memoizedProps,v=m.id,A=m.onPostCommit;typeof A=="function"&&A(v,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(H){At(s,s.return,H)}}else Ra(t,s,n,i);break;case 31:Ra(t,s,n,i);break;case 13:Ra(t,s,n,i);break;case 23:break;case 22:m=s.stateNode,v=s.alternate,s.memoizedState!==null?m._visibility&2?Ra(t,s,n,i):Oi(t,s):m._visibility&2?Ra(t,s,n,i):(m._visibility|=2,Tl(t,s,n,i,(s.subtreeFlags&10256)!==0||!1)),c&2048&&om(v,s);break;case 24:Ra(t,s,n,i),c&2048&&cm(s.alternate,s);break;default:Ra(t,s,n,i)}}function Tl(t,s,n,i,c){for(c=c&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=t,v=s,A=n,H=i,oe=v.flags;switch(v.tag){case 0:case 11:case 15:Tl(m,v,A,H,c),Mi(8,v);break;case 23:break;case 22:var ve=v.stateNode;v.memoizedState!==null?ve._visibility&2?Tl(m,v,A,H,c):Oi(m,v):(ve._visibility|=2,Tl(m,v,A,H,c)),c&&oe&2048&&om(v.alternate,v);break;case 24:Tl(m,v,A,H,c),c&&oe&2048&&cm(v.alternate,v);break;default:Tl(m,v,A,H,c)}s=s.sibling}}function Oi(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var n=t,i=s,c=i.flags;switch(i.tag){case 22:Oi(n,i),c&2048&&om(i.alternate,i);break;case 24:Oi(n,i),c&2048&&cm(i.alternate,i);break;default:Oi(n,i)}s=s.sibling}}var Li=8192;function Al(t,s,n){if(t.subtreeFlags&Li)for(t=t.child;t!==null;)sg(t,s,n),t=t.sibling}function sg(t,s,n){switch(t.tag){case 26:Al(t,s,n),t.flags&Li&&t.memoizedState!==null&&Dw(n,Aa,t.memoizedState,t.memoizedProps);break;case 5:Al(t,s,n);break;case 3:case 4:var i=Aa;Aa=Mc(t.stateNode.containerInfo),Al(t,s,n),Aa=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Li,Li=16777216,Al(t,s,n),Li=i):Al(t,s,n));break;default:Al(t,s,n)}}function ag(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function Ui(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var n=0;n<s.length;n++){var i=s[n];hs=i,ng(i,t)}ag(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)rg(t),t=t.sibling}function rg(t){switch(t.tag){case 0:case 11:case 15:Ui(t),t.flags&2048&&_r(9,t,t.return);break;case 3:Ui(t);break;case 12:Ui(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,yc(t)):Ui(t);break;default:Ui(t)}}function yc(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var n=0;n<s.length;n++){var i=s[n];hs=i,ng(i,t)}ag(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:_r(8,s,s.return),yc(s);break;case 22:n=s.stateNode,n._visibility&2&&(n._visibility&=-3,yc(s));break;default:yc(s)}t=t.sibling}}function ng(t,s){for(;hs!==null;){var n=hs;switch(n.tag){case 0:case 11:case 15:_r(8,n,s);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:yi(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,hs=i;else e:for(n=t;hs!==null;){i=hs;var c=i.sibling,m=i.return;if(Kx(i),i===n){hs=null;break e}if(c!==null){c.return=m,hs=c;break e}hs=m}}}var Gj={getCacheForType:function(t){var s=bs(es),n=s.data.get(t);return n===void 0&&(n=t(),s.data.set(t,n)),n},cacheSignal:function(){return bs(es).controller.signal}},Yj=typeof WeakMap=="function"?WeakMap:Map,wt=0,Lt=null,ct=null,ut=0,Tt=0,sa=null,Ir=!1,Rl=!1,dm=!1,xr=0,It=0,Qr=0,Ln=0,um=0,aa=0,Dl=0,zi=null,Bs=null,mm=!1,vc=0,lg=0,jc=1/0,wc=null,Gr=null,is=0,Yr=null,Ml=null,gr=0,hm=0,fm=null,ig=null,Bi=0,xm=null;function ra(){return(wt&2)!==0&&ut!==0?ut&-ut:I.T!==null?jm():Ea()}function og(){if(aa===0)if((ut&536870912)===0||ht){var t=xs;xs<<=1,(xs&3932160)===0&&(xs=262144),aa=t}else aa=536870912;return t=ea.current,t!==null&&(t.flags|=32),aa}function Ps(t,s,n){(t===Lt&&(Tt===2||Tt===9)||t.cancelPendingCommit!==null)&&(Fl(t,0),Vr(t,ut,aa,!1)),Vt(t,n),((wt&2)===0||t!==Lt)&&(t===Lt&&((wt&2)===0&&(Ln|=n),It===4&&Vr(t,ut,aa,!1)),Qa(t))}function cg(t,s,n){if((wt&6)!==0)throw Error(o(327));var i=!n&&(s&127)===0&&(s&t.expiredLanes)===0||Xe(t,s),c=i?Zj(t,s):pm(t,s,!0),m=i;do{if(c===0){Rl&&!i&&Vr(t,s,0,!1);break}else{if(n=t.current.alternate,m&&!Vj(n)){c=pm(t,s,!1),m=!1;continue}if(c===2){if(m=s,t.errorRecoveryDisabledLanes&m)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;e:{var A=t;c=zi;var H=A.current.memoizedState.isDehydrated;if(H&&(Fl(A,v).flags|=256),v=pm(A,v,!1),v!==2){if(dm&&!H){A.errorRecoveryDisabledLanes|=m,Ln|=m,c=4;break e}m=Bs,Bs=c,m!==null&&(Bs===null?Bs=m:Bs.push.apply(Bs,m))}c=v}if(m=!1,c!==2)continue}}if(c===1){Fl(t,0),Vr(t,s,0,!0);break}e:{switch(i=t,m=c,m){case 0:case 1:throw Error(o(345));case 4:if((s&4194048)!==s)break;case 6:Vr(i,s,aa,!Ir);break e;case 2:Bs=null;break;case 3:case 5:break;default:throw Error(o(329))}if((s&62914560)===s&&(c=vc+300-Te(),10<c)){if(Vr(i,s,aa,!Ir),ka(i,0,!0)!==0)break e;gr=s,i.timeoutHandle=qg(dg.bind(null,i,n,Bs,wc,mm,s,aa,Ln,Dl,Ir,m,"Throttled",-0,0),c);break e}dg(i,n,Bs,wc,mm,s,aa,Ln,Dl,Ir,m,null,-0,0)}}break}while(!0);Qa(t)}function dg(t,s,n,i,c,m,v,A,H,oe,ve,Ce,ce,me){if(t.timeoutHandle=-1,Ce=s.subtreeFlags,Ce&8192||(Ce&16785408)===16785408){Ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:tr},sg(s,m,Ce);var Be=(m&62914560)===m?vc-Te():(m&4194048)===m?lg-Te():0;if(Be=Mw(Ce,Be),Be!==null){gr=m,t.cancelPendingCommit=Be(bg.bind(null,t,s,m,n,i,c,v,A,H,ve,Ce,null,ce,me)),Vr(t,m,v,!oe);return}}bg(t,s,m,n,i,c,v,A,H)}function Vj(t){for(var s=t;;){var n=s.tag;if((n===0||n===11||n===15)&&s.flags&16384&&(n=s.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var c=n[i],m=c.getSnapshot;c=c.value;try{if(!Js(m(),c))return!1}catch{return!1}}if(n=s.child,s.subtreeFlags&16384&&n!==null)n.return=s,s=n;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Vr(t,s,n,i){s&=~um,s&=~Ln,t.suspendedLanes|=s,t.pingedLanes&=~s,i&&(t.warmLanes|=s),i=t.expirationTimes;for(var c=s;0<c;){var m=31-St(c),v=1<<m;i[m]=-1,c&=~v}n!==0&&X(t,n,s)}function Nc(){return(wt&6)===0?(Pi(0),!1):!0}function gm(){if(ct!==null){if(Tt===0)var t=ct.return;else t=ct,nr=kn=null,Mu(t),Nl=null,ji=0,t=ct;for(;t!==null;)$x(t.alternate,t),t=t.return;ct=null}}function Fl(t,s){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,fw(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),gr=0,gm(),Lt=t,ct=n=ar(t.current,null),ut=s,Tt=0,sa=null,Ir=!1,Rl=Xe(t,s),dm=!1,Dl=aa=um=Ln=Qr=It=0,Bs=zi=null,mm=!1,(s&8)!==0&&(s|=s&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=s;0<i;){var c=31-St(i),m=1<<c;s|=t[c],i&=~m}return xr=s,Io(),n}function ug(t,s){at=null,I.H=Ai,s===wl||s===Jo?(s=Ef(),Tt=3):s===vu?(s=Ef(),Tt=4):Tt=s===Vu?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,sa=s,ct===null&&(It=1,mc(t,da(s,t.current)))}function mg(){var t=ea.current;return t===null?!0:(ut&4194048)===ut?fa===null:(ut&62914560)===ut||(ut&536870912)!==0?t===fa:!1}function hg(){var t=I.H;return I.H=Ai,t===null?Ai:t}function fg(){var t=I.A;return I.A=Gj,t}function Sc(){It=4,Ir||(ut&4194048)!==ut&&ea.current!==null||(Rl=!0),(Qr&134217727)===0&&(Ln&134217727)===0||Lt===null||Vr(Lt,ut,aa,!1)}function pm(t,s,n){var i=wt;wt|=2;var c=hg(),m=fg();(Lt!==t||ut!==s)&&(wc=null,Fl(t,s)),s=!1;var v=It;e:do try{if(Tt!==0&&ct!==null){var A=ct,H=sa;switch(Tt){case 8:gm(),v=6;break e;case 3:case 2:case 9:case 6:ea.current===null&&(s=!0);var oe=Tt;if(Tt=0,sa=null,Ol(t,A,H,oe),n&&Rl){v=0;break e}break;default:oe=Tt,Tt=0,sa=null,Ol(t,A,H,oe)}}Kj(),v=It;break}catch(ve){ug(t,ve)}while(!0);return s&&t.shellSuspendCounter++,nr=kn=null,wt=i,I.H=c,I.A=m,ct===null&&(Lt=null,ut=0,Io()),v}function Kj(){for(;ct!==null;)xg(ct)}function Zj(t,s){var n=wt;wt|=2;var i=hg(),c=fg();Lt!==t||ut!==s?(wc=null,jc=Te()+500,Fl(t,s)):Rl=Xe(t,s);e:do try{if(Tt!==0&&ct!==null){s=ct;var m=sa;t:switch(Tt){case 1:Tt=0,sa=null,Ol(t,s,m,1);break;case 2:case 9:if(Cf(m)){Tt=0,sa=null,gg(s);break}s=function(){Tt!==2&&Tt!==9||Lt!==t||(Tt=7),Qa(t)},m.then(s,s);break e;case 3:Tt=7;break e;case 4:Tt=5;break e;case 7:Cf(m)?(Tt=0,sa=null,gg(s)):(Tt=0,sa=null,Ol(t,s,m,7));break;case 5:var v=null;switch(ct.tag){case 26:v=ct.memoizedState;case 5:case 27:var A=ct;if(v?tp(v):A.stateNode.complete){Tt=0,sa=null;var H=A.sibling;if(H!==null)ct=H;else{var oe=A.return;oe!==null?(ct=oe,Cc(oe)):ct=null}break t}}Tt=0,sa=null,Ol(t,s,m,5);break;case 6:Tt=0,sa=null,Ol(t,s,m,6);break;case 8:gm(),It=6;break e;default:throw Error(o(462))}}Xj();break}catch(ve){ug(t,ve)}while(!0);return nr=kn=null,I.H=i,I.A=c,wt=n,ct!==null?0:(Lt=null,ut=0,Io(),It)}function Xj(){for(;ct!==null&&!G();)xg(ct)}function xg(t){var s=Px(t.alternate,t,xr);t.memoizedProps=t.pendingProps,s===null?Cc(t):ct=s}function gg(t){var s=t,n=s.alternate;switch(s.tag){case 15:case 0:s=Fx(n,s,s.pendingProps,s.type,void 0,ut);break;case 11:s=Fx(n,s,s.pendingProps,s.type.render,s.ref,ut);break;case 5:Mu(s);default:$x(n,s),s=ct=ff(s,xr),s=Px(n,s,xr)}t.memoizedProps=t.pendingProps,s===null?Cc(t):ct=s}function Ol(t,s,n,i){nr=kn=null,Mu(s),Nl=null,ji=0;var c=s.return;try{if(Pj(t,c,s,n,ut)){It=1,mc(t,da(n,t.current)),ct=null;return}}catch(m){if(c!==null)throw ct=c,m;It=1,mc(t,da(n,t.current)),ct=null;return}s.flags&32768?(ht||i===1?t=!0:Rl||(ut&536870912)!==0?t=!1:(Ir=t=!0,(i===2||i===9||i===3||i===6)&&(i=ea.current,i!==null&&i.tag===13&&(i.flags|=16384))),pg(s,t)):Cc(s)}function Cc(t){var s=t;do{if((s.flags&32768)!==0){pg(s,Ir);return}t=s.return;var n=Hj(s.alternate,s,xr);if(n!==null){ct=n;return}if(s=s.sibling,s!==null){ct=s;return}ct=s=t}while(s!==null);It===0&&(It=5)}function pg(t,s){do{var n=_j(t.alternate,t);if(n!==null){n.flags&=32767,ct=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!s&&(t=t.sibling,t!==null)){ct=t;return}ct=t=n}while(t!==null);It=6,ct=null}function bg(t,s,n,i,c,m,v,A,H){t.cancelPendingCommit=null;do kc();while(is!==0);if((wt&6)!==0)throw Error(o(327));if(s!==null){if(s===t.current)throw Error(o(177));if(m=s.lanes|s.childLanes,m|=nu,Fs(t,n,m,v,A,H),t===Lt&&(ct=Lt=null,ut=0),Ml=s,Yr=t,gr=n,hm=m,fm=c,ig=i,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,tw(ze,function(){return Ng(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||i){i=I.T,I.T=null,c=se.p,se.p=2,v=wt,wt|=4;try{Ij(t,s,n)}finally{wt=v,se.p=c,I.T=i}}is=1,yg(),vg(),jg()}}function yg(){if(is===1){is=0;var t=Yr,s=Ml,n=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||n){n=I.T,I.T=null;var i=se.p;se.p=2;var c=wt;wt|=4;try{Wx(s,t);var m=Am,v=rf(t.containerInfo),A=m.focusedElem,H=m.selectionRange;if(v!==A&&A&&A.ownerDocument&&af(A.ownerDocument.documentElement,A)){if(H!==null&&eu(A)){var oe=H.start,ve=H.end;if(ve===void 0&&(ve=oe),"selectionStart"in A)A.selectionStart=oe,A.selectionEnd=Math.min(ve,A.value.length);else{var Ce=A.ownerDocument||document,ce=Ce&&Ce.defaultView||window;if(ce.getSelection){var me=ce.getSelection(),Be=A.textContent.length,We=Math.min(H.start,Be),Ft=H.end===void 0?We:Math.min(H.end,Be);!me.extend&&We>Ft&&(v=Ft,Ft=We,We=v);var ee=sf(A,We),Z=sf(A,Ft);if(ee&&Z&&(me.rangeCount!==1||me.anchorNode!==ee.node||me.anchorOffset!==ee.offset||me.focusNode!==Z.node||me.focusOffset!==Z.offset)){var ie=Ce.createRange();ie.setStart(ee.node,ee.offset),me.removeAllRanges(),We>Ft?(me.addRange(ie),me.extend(Z.node,Z.offset)):(ie.setEnd(Z.node,Z.offset),me.addRange(ie))}}}}for(Ce=[],me=A;me=me.parentNode;)me.nodeType===1&&Ce.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<Ce.length;A++){var Ne=Ce[A];Ne.element.scrollLeft=Ne.left,Ne.element.scrollTop=Ne.top}}Bc=!!Tm,Am=Tm=null}finally{wt=c,se.p=i,I.T=n}}t.current=s,is=2}}function vg(){if(is===2){is=0;var t=Yr,s=Ml,n=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||n){n=I.T,I.T=null;var i=se.p;se.p=2;var c=wt;wt|=4;try{Vx(t,s.alternate,s)}finally{wt=c,se.p=i,I.T=n}}is=3}}function jg(){if(is===4||is===3){is=0,P();var t=Yr,s=Ml,n=gr,i=ig;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?is=5:(is=0,Ml=Yr=null,wg(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Gr=null),Ts(n),s=s.stateNode,ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(Ot,s,void 0,(s.current.flags&128)===128)}catch{}if(i!==null){s=I.T,c=se.p,se.p=2,I.T=null;try{for(var m=t.onRecoverableError,v=0;v<i.length;v++){var A=i[v];m(A.value,{componentStack:A.stack})}}finally{I.T=s,se.p=c}}(gr&3)!==0&&kc(),Qa(t),c=t.pendingLanes,(n&261930)!==0&&(c&42)!==0?t===xm?Bi++:(Bi=0,xm=t):Bi=0,Pi(0)}}function wg(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,yi(s)))}function kc(){return yg(),vg(),jg(),Ng()}function Ng(){if(is!==5)return!1;var t=Yr,s=hm;hm=0;var n=Ts(gr),i=I.T,c=se.p;try{se.p=32>n?32:n,I.T=null,n=fm,fm=null;var m=Yr,v=gr;if(is=0,Ml=Yr=null,gr=0,(wt&6)!==0)throw Error(o(331));var A=wt;if(wt|=4,rg(m.current),tg(m,m.current,v,n),wt=A,Pi(0,!1),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(Ot,m)}catch{}return!0}finally{se.p=c,I.T=i,wg(t,s)}}function Sg(t,s,n){s=da(n,s),s=Yu(t.stateNode,s,2),t=qr(t,s,2),t!==null&&(Vt(t,2),Qa(t))}function At(t,s,n){if(t.tag===3)Sg(t,t,n);else for(;s!==null;){if(s.tag===3){Sg(s,t,n);break}else if(s.tag===1){var i=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Gr===null||!Gr.has(i))){t=da(n,t),n=Cx(2),i=qr(s,n,2),i!==null&&(kx(n,i,s,t),Vt(i,2),Qa(i));break}}s=s.return}}function bm(t,s,n){var i=t.pingCache;if(i===null){i=t.pingCache=new Yj;var c=new Set;i.set(s,c)}else c=i.get(s),c===void 0&&(c=new Set,i.set(s,c));c.has(n)||(dm=!0,c.add(n),t=Jj.bind(null,t,s,n),s.then(t,t))}function Jj(t,s,n){var i=t.pingCache;i!==null&&i.delete(s),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Lt===t&&(ut&n)===n&&(It===4||It===3&&(ut&62914560)===ut&&300>Te()-vc?(wt&2)===0&&Fl(t,0):um|=n,Dl===ut&&(Dl=0)),Qa(t)}function Cg(t,s){s===0&&(s=jt()),t=Nn(t,s),t!==null&&(Vt(t,s),Qa(t))}function Wj(t){var s=t.memoizedState,n=0;s!==null&&(n=s.retryLane),Cg(t,n)}function ew(t,s){var n=0;switch(t.tag){case 31:case 13:var i=t.stateNode,c=t.memoizedState;c!==null&&(n=c.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(o(314))}i!==null&&i.delete(s),Cg(t,n)}function tw(t,s){return De(t,s)}var Ec=null,Ll=null,ym=!1,Tc=!1,vm=!1,Kr=0;function Qa(t){t!==Ll&&t.next===null&&(Ll===null?Ec=Ll=t:Ll=Ll.next=t),Tc=!0,ym||(ym=!0,aw())}function Pi(t,s){if(!vm&&Tc){vm=!0;do for(var n=!1,i=Ec;i!==null;){if(t!==0){var c=i.pendingLanes;if(c===0)var m=0;else{var v=i.suspendedLanes,A=i.pingedLanes;m=(1<<31-St(42|t)+1)-1,m&=c&~(v&~A),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(n=!0,Ag(i,m))}else m=ut,m=ka(i,i===Lt?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(m&3)===0||Xe(i,m)||(n=!0,Ag(i,m));i=i.next}while(n);vm=!1}}function sw(){kg()}function kg(){Tc=ym=!1;var t=0;Kr!==0&&hw()&&(t=Kr);for(var s=Te(),n=null,i=Ec;i!==null;){var c=i.next,m=Eg(i,s);m===0?(i.next=null,n===null?Ec=c:n.next=c,c===null&&(Ll=n)):(n=i,(t!==0||(m&3)!==0)&&(Tc=!0)),i=c}is!==0&&is!==5||Pi(t),Kr!==0&&(Kr=0)}function Eg(t,s){for(var n=t.suspendedLanes,i=t.pingedLanes,c=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var v=31-St(m),A=1<<v,H=c[v];H===-1?((A&n)===0||(A&i)!==0)&&(c[v]=gt(A,s)):H<=s&&(t.expiredLanes|=A),m&=~A}if(s=Lt,n=ut,n=ka(t,t===s?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===s&&(Tt===2||Tt===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&N(i),t.callbackNode=null,t.callbackPriority=0;if((n&3)===0||Xe(t,n)){if(s=n&-n,s===t.callbackPriority)return s;switch(i!==null&&N(i),Ts(n)){case 2:case 8:n=xe;break;case 32:n=ze;break;case 268435456:n=$e;break;default:n=ze}return i=Tg.bind(null,t),n=De(n,i),t.callbackPriority=s,t.callbackNode=n,s}return i!==null&&i!==null&&N(i),t.callbackPriority=2,t.callbackNode=null,2}function Tg(t,s){if(is!==0&&is!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(kc()&&t.callbackNode!==n)return null;var i=ut;return i=ka(t,t===Lt?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(cg(t,i,s),Eg(t,Te()),t.callbackNode!=null&&t.callbackNode===n?Tg.bind(null,t):null)}function Ag(t,s){if(kc())return null;cg(t,s,!0)}function aw(){xw(function(){(wt&6)!==0?De(J,sw):kg()})}function jm(){if(Kr===0){var t=vl;t===0&&(t=cs,cs<<=1,(cs&261888)===0&&(cs=256)),Kr=t}return Kr}function Rg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Uo(""+t)}function Dg(t,s){var n=s.ownerDocument.createElement("input");return n.name=s.name,n.value=s.value,t.id&&n.setAttribute("form",t.id),s.parentNode.insertBefore(n,s),t=new FormData(t),n.parentNode.removeChild(n),t}function rw(t,s,n,i,c){if(s==="submit"&&n&&n.stateNode===c){var m=Rg((c[Kt]||null).action),v=i.submitter;v&&(s=(s=v[Kt]||null)?Rg(s.formAction):v.getAttribute("formAction"),s!==null&&(m=s,v=null));var A=new qo("action","action",null,i,c);t.push({event:A,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Kr!==0){var H=v?Dg(c,v):new FormData(c);$u(n,{pending:!0,data:H,method:c.method,action:m},null,H)}}else typeof m=="function"&&(A.preventDefault(),H=v?Dg(c,v):new FormData(c),$u(n,{pending:!0,data:H,method:c.method,action:m},m,H))},currentTarget:c}]})}}for(var wm=0;wm<ru.length;wm++){var Nm=ru[wm],nw=Nm.toLowerCase(),lw=Nm[0].toUpperCase()+Nm.slice(1);Ta(nw,"on"+lw)}Ta(of,"onAnimationEnd"),Ta(cf,"onAnimationIteration"),Ta(df,"onAnimationStart"),Ta("dblclick","onDoubleClick"),Ta("focusin","onFocus"),Ta("focusout","onBlur"),Ta(wj,"onTransitionRun"),Ta(Nj,"onTransitionStart"),Ta(Sj,"onTransitionCancel"),Ta(uf,"onTransitionEnd"),Xs("onMouseEnter",["mouseout","mouseover"]),Xs("onMouseLeave",["mouseout","mouseover"]),Xs("onPointerEnter",["pointerout","pointerover"]),Xs("onPointerLeave",["pointerout","pointerover"]),gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gs("onBeforeInput",["compositionend","keypress","textInput","paste"]),gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qi));function Mg(t,s){s=(s&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],c=i.event;i=i.listeners;e:{var m=void 0;if(s)for(var v=i.length-1;0<=v;v--){var A=i[v],H=A.instance,oe=A.currentTarget;if(A=A.listener,H!==m&&c.isPropagationStopped())break e;m=A,c.currentTarget=oe;try{m(c)}catch(ve){_o(ve)}c.currentTarget=null,m=H}else for(v=0;v<i.length;v++){if(A=i[v],H=A.instance,oe=A.currentTarget,A=A.listener,H!==m&&c.isPropagationStopped())break e;m=A,c.currentTarget=oe;try{m(c)}catch(ve){_o(ve)}c.currentTarget=null,m=H}}}}function dt(t,s){var n=s[ll];n===void 0&&(n=s[ll]=new Set);var i=t+"__bubble";n.has(i)||(Fg(s,t,2,!1),n.add(i))}function Sm(t,s,n){var i=0;s&&(i|=4),Fg(n,t,i,s)}var Ac="_reactListening"+Math.random().toString(36).slice(2);function Cm(t){if(!t[Ac]){t[Ac]=!0,lt.forEach(function(n){n!=="selectionchange"&&(iw.has(n)||Sm(n,!1,t),Sm(n,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Ac]||(s[Ac]=!0,Sm("selectionchange",!1,s))}}function Fg(t,s,n,i){switch(op(s)){case 2:var c=Lw;break;case 8:c=Uw;break;default:c=qm}n=c.bind(null,s,n,t),c=void 0,!Qd||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(c=!0),i?c!==void 0?t.addEventListener(s,n,{capture:!0,passive:c}):t.addEventListener(s,n,!0):c!==void 0?t.addEventListener(s,n,{passive:c}):t.addEventListener(s,n,!1)}function km(t,s,n,i,c){var m=i;if((s&1)===0&&(s&2)===0&&i!==null)e:for(;;){if(i===null)return;var v=i.tag;if(v===3||v===4){var A=i.stateNode.containerInfo;if(A===c)break;if(v===4)for(v=i.return;v!==null;){var H=v.tag;if((H===3||H===4)&&v.stateNode.containerInfo===c)return;v=v.return}for(;A!==null;){if(v=Oe(A),v===null)return;if(H=v.tag,H===5||H===6||H===26||H===27){i=m=v;continue e}A=A.parentNode}}i=i.return}z0(function(){var oe=m,ve=_d(n),Ce=[];e:{var ce=mf.get(t);if(ce!==void 0){var me=qo,Be=t;switch(t){case"keypress":if(Bo(n)===0)break e;case"keydown":case"keyup":me=ej;break;case"focusin":Be="focus",me=Kd;break;case"focusout":Be="blur",me=Kd;break;case"beforeblur":case"afterblur":me=Kd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=q0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=Hv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=aj;break;case of:case cf:case df:me=Qv;break;case uf:me=nj;break;case"scroll":case"scrollend":me=qv;break;case"wheel":me=ij;break;case"copy":case"cut":case"paste":me=Yv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=H0;break;case"toggle":case"beforetoggle":me=cj}var We=(s&4)!==0,Ft=!We&&(t==="scroll"||t==="scrollend"),ee=We?ce!==null?ce+"Capture":null:ce;We=[];for(var Z=oe,ie;Z!==null;){var Ne=Z;if(ie=Ne.stateNode,Ne=Ne.tag,Ne!==5&&Ne!==26&&Ne!==27||ie===null||ee===null||(Ne=oi(Z,ee),Ne!=null&&We.push($i(Z,Ne,ie))),Ft)break;Z=Z.return}0<We.length&&(ce=new me(ce,Be,null,n,ve),Ce.push({event:ce,listeners:We}))}}if((s&7)===0){e:{if(ce=t==="mouseover"||t==="pointerover",me=t==="mouseout"||t==="pointerout",ce&&n!==Hd&&(Be=n.relatedTarget||n.fromElement)&&(Oe(Be)||Be[$a]))break e;if((me||ce)&&(ce=ve.window===ve?ve:(ce=ve.ownerDocument)?ce.defaultView||ce.parentWindow:window,me?(Be=n.relatedTarget||n.toElement,me=oe,Be=Be?Oe(Be):null,Be!==null&&(Ft=h(Be),We=Be.tag,Be!==Ft||We!==5&&We!==27&&We!==6)&&(Be=null)):(me=null,Be=oe),me!==Be)){if(We=q0,Ne="onMouseLeave",ee="onMouseEnter",Z="mouse",(t==="pointerout"||t==="pointerover")&&(We=H0,Ne="onPointerLeave",ee="onPointerEnter",Z="pointer"),Ft=me==null?ce:Pe(me),ie=Be==null?ce:Pe(Be),ce=new We(Ne,Z+"leave",me,n,ve),ce.target=Ft,ce.relatedTarget=ie,Ne=null,Oe(ve)===oe&&(We=new We(ee,Z+"enter",Be,n,ve),We.target=ie,We.relatedTarget=Ft,Ne=We),Ft=Ne,me&&Be)t:{for(We=ow,ee=me,Z=Be,ie=0,Ne=ee;Ne;Ne=We(Ne))ie++;Ne=0;for(var Ze=Z;Ze;Ze=We(Ze))Ne++;for(;0<ie-Ne;)ee=We(ee),ie--;for(;0<Ne-ie;)Z=We(Z),Ne--;for(;ie--;){if(ee===Z||Z!==null&&ee===Z.alternate){We=ee;break t}ee=We(ee),Z=We(Z)}We=null}else We=null;me!==null&&Og(Ce,ce,me,We,!1),Be!==null&&Ft!==null&&Og(Ce,Ft,Be,We,!0)}}e:{if(ce=oe?Pe(oe):window,me=ce.nodeName&&ce.nodeName.toLowerCase(),me==="select"||me==="input"&&ce.type==="file")var bt=Z0;else if(V0(ce))if(X0)bt=yj;else{bt=pj;var Ie=gj}else me=ce.nodeName,!me||me.toLowerCase()!=="input"||ce.type!=="checkbox"&&ce.type!=="radio"?oe&&$d(oe.elementType)&&(bt=Z0):bt=bj;if(bt&&(bt=bt(t,oe))){K0(Ce,bt,n,ve);break e}Ie&&Ie(t,ce,oe),t==="focusout"&&oe&&ce.type==="number"&&oe.memoizedProps.value!=null&&qd(ce,"number",ce.value)}switch(Ie=oe?Pe(oe):window,t){case"focusin":(V0(Ie)||Ie.contentEditable==="true")&&(ml=Ie,tu=oe,gi=null);break;case"focusout":gi=tu=ml=null;break;case"mousedown":su=!0;break;case"contextmenu":case"mouseup":case"dragend":su=!1,nf(Ce,n,ve);break;case"selectionchange":if(jj)break;case"keydown":case"keyup":nf(Ce,n,ve)}var nt;if(Xd)e:{switch(t){case"compositionstart":var mt="onCompositionStart";break e;case"compositionend":mt="onCompositionEnd";break e;case"compositionupdate":mt="onCompositionUpdate";break e}mt=void 0}else ul?G0(t,n)&&(mt="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(mt="onCompositionStart");mt&&(_0&&n.locale!=="ko"&&(ul||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&ul&&(nt=B0()):(Fr=ve,Gd="value"in Fr?Fr.value:Fr.textContent,ul=!0)),Ie=Rc(oe,mt),0<Ie.length&&(mt=new $0(mt,t,null,n,ve),Ce.push({event:mt,listeners:Ie}),nt?mt.data=nt:(nt=Y0(n),nt!==null&&(mt.data=nt)))),(nt=uj?mj(t,n):hj(t,n))&&(mt=Rc(oe,"onBeforeInput"),0<mt.length&&(Ie=new $0("onBeforeInput","beforeinput",null,n,ve),Ce.push({event:Ie,listeners:mt}),Ie.data=nt)),rw(Ce,t,oe,n,ve)}Mg(Ce,s)})}function $i(t,s,n){return{instance:t,listener:s,currentTarget:n}}function Rc(t,s){for(var n=s+"Capture",i=[];t!==null;){var c=t,m=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||m===null||(c=oi(t,n),c!=null&&i.unshift($i(t,c,m)),c=oi(t,s),c!=null&&i.push($i(t,c,m))),t.tag===3)return i;t=t.return}return[]}function ow(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Og(t,s,n,i,c){for(var m=s._reactName,v=[];n!==null&&n!==i;){var A=n,H=A.alternate,oe=A.stateNode;if(A=A.tag,H!==null&&H===i)break;A!==5&&A!==26&&A!==27||oe===null||(H=oe,c?(oe=oi(n,m),oe!=null&&v.unshift($i(n,oe,H))):c||(oe=oi(n,m),oe!=null&&v.push($i(n,oe,H)))),n=n.return}v.length!==0&&t.push({event:s,listeners:v})}var cw=/\r\n?/g,dw=/\u0000|\uFFFD/g;function Lg(t){return(typeof t=="string"?t:""+t).replace(cw,`
`).replace(dw,"")}function Ug(t,s){return s=Lg(s),Lg(t)===s}function Mt(t,s,n,i,c,m){switch(n){case"children":typeof i=="string"?s==="body"||s==="textarea"&&i===""||ol(t,i):(typeof i=="number"||typeof i=="bigint")&&s!=="body"&&ol(t,""+i);break;case"className":Oo(t,"class",i);break;case"tabIndex":Oo(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Oo(t,n,i);break;case"style":L0(t,i,m);break;case"data":if(s!=="object"){Oo(t,"data",i);break}case"src":case"href":if(i===""&&(s!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Uo(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(n==="formAction"?(s!=="input"&&Mt(t,s,"name",c.name,c,null),Mt(t,s,"formEncType",c.formEncType,c,null),Mt(t,s,"formMethod",c.formMethod,c,null),Mt(t,s,"formTarget",c.formTarget,c,null)):(Mt(t,s,"encType",c.encType,c,null),Mt(t,s,"method",c.method,c,null),Mt(t,s,"target",c.target,c,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Uo(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=tr);break;case"onScroll":i!=null&&dt("scroll",t);break;case"onScrollEnd":i!=null&&dt("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(o(61));if(n=i.__html,n!=null){if(c.children!=null)throw Error(o(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=Uo(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":dt("beforetoggle",t),dt("toggle",t),Fo(t,"popover",i);break;case"xlinkActuate":er(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":er(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":er(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":er(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":er(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":er(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":er(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":er(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":er(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Fo(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Bv.get(n)||n,Fo(t,n,i))}}function Em(t,s,n,i,c,m){switch(n){case"style":L0(t,i,m);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(o(61));if(n=i.__html,n!=null){if(c.children!=null)throw Error(o(60));t.innerHTML=n}}break;case"children":typeof i=="string"?ol(t,i):(typeof i=="number"||typeof i=="bigint")&&ol(t,""+i);break;case"onScroll":i!=null&&dt("scroll",t);break;case"onScrollEnd":i!=null&&dt("scrollend",t);break;case"onClick":i!=null&&(t.onclick=tr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ms.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(c=n.endsWith("Capture"),s=n.slice(2,c?n.length-7:void 0),m=t[Kt]||null,m=m!=null?m[n]:null,typeof m=="function"&&t.removeEventListener(s,m,c),typeof i=="function")){typeof m!="function"&&m!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(s,i,c);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):Fo(t,n,i)}}}function vs(t,s,n){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":dt("error",t),dt("load",t);var i=!1,c=!1,m;for(m in n)if(n.hasOwnProperty(m)){var v=n[m];if(v!=null)switch(m){case"src":i=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:Mt(t,s,m,v,n,null)}}c&&Mt(t,s,"srcSet",n.srcSet,n,null),i&&Mt(t,s,"src",n.src,n,null);return;case"input":dt("invalid",t);var A=m=v=c=null,H=null,oe=null;for(i in n)if(n.hasOwnProperty(i)){var ve=n[i];if(ve!=null)switch(i){case"name":c=ve;break;case"type":v=ve;break;case"checked":H=ve;break;case"defaultChecked":oe=ve;break;case"value":m=ve;break;case"defaultValue":A=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(o(137,s));break;default:Mt(t,s,i,ve,n,null)}}D0(t,m,A,H,oe,v,c,!1);return;case"select":dt("invalid",t),i=v=m=null;for(c in n)if(n.hasOwnProperty(c)&&(A=n[c],A!=null))switch(c){case"value":m=A;break;case"defaultValue":v=A;break;case"multiple":i=A;default:Mt(t,s,c,A,n,null)}s=m,n=v,t.multiple=!!i,s!=null?il(t,!!i,s,!1):n!=null&&il(t,!!i,n,!0);return;case"textarea":dt("invalid",t),m=c=i=null;for(v in n)if(n.hasOwnProperty(v)&&(A=n[v],A!=null))switch(v){case"value":i=A;break;case"defaultValue":c=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(o(91));break;default:Mt(t,s,v,A,n,null)}F0(t,i,c,m);return;case"option":for(H in n)if(n.hasOwnProperty(H)&&(i=n[H],i!=null))switch(H){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Mt(t,s,H,i,n,null)}return;case"dialog":dt("beforetoggle",t),dt("toggle",t),dt("cancel",t),dt("close",t);break;case"iframe":case"object":dt("load",t);break;case"video":case"audio":for(i=0;i<qi.length;i++)dt(qi[i],t);break;case"image":dt("error",t),dt("load",t);break;case"details":dt("toggle",t);break;case"embed":case"source":case"link":dt("error",t),dt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(oe in n)if(n.hasOwnProperty(oe)&&(i=n[oe],i!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:Mt(t,s,oe,i,n,null)}return;default:if($d(s)){for(ve in n)n.hasOwnProperty(ve)&&(i=n[ve],i!==void 0&&Em(t,s,ve,i,n,void 0));return}}for(A in n)n.hasOwnProperty(A)&&(i=n[A],i!=null&&Mt(t,s,A,i,n,null))}function uw(t,s,n,i){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,m=null,v=null,A=null,H=null,oe=null,ve=null;for(me in n){var Ce=n[me];if(n.hasOwnProperty(me)&&Ce!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":H=Ce;default:i.hasOwnProperty(me)||Mt(t,s,me,null,i,Ce)}}for(var ce in i){var me=i[ce];if(Ce=n[ce],i.hasOwnProperty(ce)&&(me!=null||Ce!=null))switch(ce){case"type":m=me;break;case"name":c=me;break;case"checked":oe=me;break;case"defaultChecked":ve=me;break;case"value":v=me;break;case"defaultValue":A=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(o(137,s));break;default:me!==Ce&&Mt(t,s,ce,me,i,Ce)}}Pd(t,v,A,H,oe,ve,m,c);return;case"select":me=v=A=ce=null;for(m in n)if(H=n[m],n.hasOwnProperty(m)&&H!=null)switch(m){case"value":break;case"multiple":me=H;default:i.hasOwnProperty(m)||Mt(t,s,m,null,i,H)}for(c in i)if(m=i[c],H=n[c],i.hasOwnProperty(c)&&(m!=null||H!=null))switch(c){case"value":ce=m;break;case"defaultValue":A=m;break;case"multiple":v=m;default:m!==H&&Mt(t,s,c,m,i,H)}s=A,n=v,i=me,ce!=null?il(t,!!n,ce,!1):!!i!=!!n&&(s!=null?il(t,!!n,s,!0):il(t,!!n,n?[]:"",!1));return;case"textarea":me=ce=null;for(A in n)if(c=n[A],n.hasOwnProperty(A)&&c!=null&&!i.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Mt(t,s,A,null,i,c)}for(v in i)if(c=i[v],m=n[v],i.hasOwnProperty(v)&&(c!=null||m!=null))switch(v){case"value":ce=c;break;case"defaultValue":me=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(o(91));break;default:c!==m&&Mt(t,s,v,c,i,m)}M0(t,ce,me);return;case"option":for(var Be in n)if(ce=n[Be],n.hasOwnProperty(Be)&&ce!=null&&!i.hasOwnProperty(Be))switch(Be){case"selected":t.selected=!1;break;default:Mt(t,s,Be,null,i,ce)}for(H in i)if(ce=i[H],me=n[H],i.hasOwnProperty(H)&&ce!==me&&(ce!=null||me!=null))switch(H){case"selected":t.selected=ce&&typeof ce!="function"&&typeof ce!="symbol";break;default:Mt(t,s,H,ce,i,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var We in n)ce=n[We],n.hasOwnProperty(We)&&ce!=null&&!i.hasOwnProperty(We)&&Mt(t,s,We,null,i,ce);for(oe in i)if(ce=i[oe],me=n[oe],i.hasOwnProperty(oe)&&ce!==me&&(ce!=null||me!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(o(137,s));break;default:Mt(t,s,oe,ce,i,me)}return;default:if($d(s)){for(var Ft in n)ce=n[Ft],n.hasOwnProperty(Ft)&&ce!==void 0&&!i.hasOwnProperty(Ft)&&Em(t,s,Ft,void 0,i,ce);for(ve in i)ce=i[ve],me=n[ve],!i.hasOwnProperty(ve)||ce===me||ce===void 0&&me===void 0||Em(t,s,ve,ce,i,me);return}}for(var ee in n)ce=n[ee],n.hasOwnProperty(ee)&&ce!=null&&!i.hasOwnProperty(ee)&&Mt(t,s,ee,null,i,ce);for(Ce in i)ce=i[Ce],me=n[Ce],!i.hasOwnProperty(Ce)||ce===me||ce==null&&me==null||Mt(t,s,Ce,ce,i,me)}function zg(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function mw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var c=n[i],m=c.transferSize,v=c.initiatorType,A=c.duration;if(m&&A&&zg(v)){for(v=0,A=c.responseEnd,i+=1;i<n.length;i++){var H=n[i],oe=H.startTime;if(oe>A)break;var ve=H.transferSize,Ce=H.initiatorType;ve&&zg(Ce)&&(H=H.responseEnd,v+=ve*(H<A?1:(A-oe)/(H-oe)))}if(--i,s+=8*(m+v)/(c.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Tm=null,Am=null;function Dc(t){return t.nodeType===9?t:t.ownerDocument}function Bg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pg(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Rm(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Dm=null;function hw(){var t=window.event;return t&&t.type==="popstate"?t===Dm?!1:(Dm=t,!0):(Dm=null,!1)}var qg=typeof setTimeout=="function"?setTimeout:void 0,fw=typeof clearTimeout=="function"?clearTimeout:void 0,$g=typeof Promise=="function"?Promise:void 0,xw=typeof queueMicrotask=="function"?queueMicrotask:typeof $g<"u"?function(t){return $g.resolve(null).then(t).catch(gw)}:qg;function gw(t){setTimeout(function(){throw t})}function Zr(t){return t==="head"}function Hg(t,s){var n=s,i=0;do{var c=n.nextSibling;if(t.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"||n==="/&"){if(i===0){t.removeChild(c),Pl(s);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")Hi(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Hi(n);for(var m=n.firstChild;m;){var v=m.nextSibling,A=m.nodeName;m[M]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&m.rel.toLowerCase()==="stylesheet"||n.removeChild(m),m=v}}else n==="body"&&Hi(t.ownerDocument.body);n=c}while(n);Pl(s)}function _g(t,s){var n=t;t=0;do{var i=n.nextSibling;if(n.nodeType===1?s?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(s?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=i}while(n)}function Mm(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var n=s;switch(s=s.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Mm(n),le(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function pw(t,s,n,i){for(;t.nodeType===1;){var c=n;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[M])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var m=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=xa(t.nextSibling),t===null)break}return null}function bw(t,s,n){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=xa(t.nextSibling),t===null))return null;return t}function Ig(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=xa(t.nextSibling),t===null))return null;return t}function Fm(t){return t.data==="$?"||t.data==="$~"}function Om(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function yw(t,s){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||n.readyState!=="loading")s();else{var i=function(){s(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function xa(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var Lm=null;function Qg(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(s===0)return xa(t.nextSibling);s--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||s++}t=t.nextSibling}return null}function Gg(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(s===0)return t;s--}else n!=="/$"&&n!=="/&"||s++}t=t.previousSibling}return null}function Yg(t,s,n){switch(s=Dc(n),t){case"html":if(t=s.documentElement,!t)throw Error(o(452));return t;case"head":if(t=s.head,!t)throw Error(o(453));return t;case"body":if(t=s.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function Hi(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);le(t)}var ga=new Map,Vg=new Set;function Mc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var pr=se.d;se.d={f:vw,r:jw,D:ww,C:Nw,L:Sw,m:Cw,X:Ew,S:kw,M:Tw};function vw(){var t=pr.f(),s=Nc();return t||s}function jw(t){var s=Le(t);s!==null&&s.tag===5&&s.type==="form"?ux(s):pr.r(t)}var Ul=typeof document>"u"?null:document;function Kg(t,s,n){var i=Ul;if(i&&typeof s=="string"&&s){var c=oa(s);c='link[rel="'+t+'"][href="'+c+'"]',typeof n=="string"&&(c+='[crossorigin="'+n+'"]'),Vg.has(c)||(Vg.add(c),t={rel:t,crossOrigin:n,href:s},i.querySelector(c)===null&&(s=i.createElement("link"),vs(s,"link",t),He(s),i.head.appendChild(s)))}}function ww(t){pr.D(t),Kg("dns-prefetch",t,null)}function Nw(t,s){pr.C(t,s),Kg("preconnect",t,s)}function Sw(t,s,n){pr.L(t,s,n);var i=Ul;if(i&&t&&s){var c='link[rel="preload"][as="'+oa(s)+'"]';s==="image"&&n&&n.imageSrcSet?(c+='[imagesrcset="'+oa(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(c+='[imagesizes="'+oa(n.imageSizes)+'"]')):c+='[href="'+oa(t)+'"]';var m=c;switch(s){case"style":m=zl(t);break;case"script":m=Bl(t)}ga.has(m)||(t=w({rel:"preload",href:s==="image"&&n&&n.imageSrcSet?void 0:t,as:s},n),ga.set(m,t),i.querySelector(c)!==null||s==="style"&&i.querySelector(_i(m))||s==="script"&&i.querySelector(Ii(m))||(s=i.createElement("link"),vs(s,"link",t),He(s),i.head.appendChild(s)))}}function Cw(t,s){pr.m(t,s);var n=Ul;if(n&&t){var i=s&&typeof s.as=="string"?s.as:"script",c='link[rel="modulepreload"][as="'+oa(i)+'"][href="'+oa(t)+'"]',m=c;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Bl(t)}if(!ga.has(m)&&(t=w({rel:"modulepreload",href:t},s),ga.set(m,t),n.querySelector(c)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ii(m)))return}i=n.createElement("link"),vs(i,"link",t),He(i),n.head.appendChild(i)}}}function kw(t,s,n){pr.S(t,s,n);var i=Ul;if(i&&t){var c=kt(i).hoistableStyles,m=zl(t);s=s||"default";var v=c.get(m);if(!v){var A={loading:0,preload:null};if(v=i.querySelector(_i(m)))A.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":s},n),(n=ga.get(m))&&Um(t,n);var H=v=i.createElement("link");He(H),vs(H,"link",t),H._p=new Promise(function(oe,ve){H.onload=oe,H.onerror=ve}),H.addEventListener("load",function(){A.loading|=1}),H.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Fc(v,s,i)}v={type:"stylesheet",instance:v,count:1,state:A},c.set(m,v)}}}function Ew(t,s){pr.X(t,s);var n=Ul;if(n&&t){var i=kt(n).hoistableScripts,c=Bl(t),m=i.get(c);m||(m=n.querySelector(Ii(c)),m||(t=w({src:t,async:!0},s),(s=ga.get(c))&&zm(t,s),m=n.createElement("script"),He(m),vs(m,"link",t),n.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},i.set(c,m))}}function Tw(t,s){pr.M(t,s);var n=Ul;if(n&&t){var i=kt(n).hoistableScripts,c=Bl(t),m=i.get(c);m||(m=n.querySelector(Ii(c)),m||(t=w({src:t,async:!0,type:"module"},s),(s=ga.get(c))&&zm(t,s),m=n.createElement("script"),He(m),vs(m,"link",t),n.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},i.set(c,m))}}function Zg(t,s,n,i){var c=(c=Se.current)?Mc(c):null;if(!c)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(s=zl(n.href),n=kt(c).hoistableStyles,i=n.get(s),i||(i={type:"style",instance:null,count:0,state:null},n.set(s,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=zl(n.href);var m=kt(c).hoistableStyles,v=m.get(t);if(v||(c=c.ownerDocument||c,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,v),(m=c.querySelector(_i(t)))&&!m._p&&(v.instance=m,v.state.loading=5),ga.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ga.set(t,n),m||Aw(c,t,n,v.state))),s&&i===null)throw Error(o(528,""));return v}if(s&&i!==null)throw Error(o(529,""));return null;case"script":return s=n.async,n=n.src,typeof n=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Bl(n),n=kt(c).hoistableScripts,i=n.get(s),i||(i={type:"script",instance:null,count:0,state:null},n.set(s,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function zl(t){return'href="'+oa(t)+'"'}function _i(t){return'link[rel="stylesheet"]['+t+"]"}function Xg(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function Aw(t,s,n,i){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?i.loading=1:(s=t.createElement("link"),i.preload=s,s.addEventListener("load",function(){return i.loading|=1}),s.addEventListener("error",function(){return i.loading|=2}),vs(s,"link",n),He(s),t.head.appendChild(s))}function Bl(t){return'[src="'+oa(t)+'"]'}function Ii(t){return"script[async]"+t}function Jg(t,s,n){if(s.count++,s.instance===null)switch(s.type){case"style":var i=t.querySelector('style[data-href~="'+oa(n.href)+'"]');if(i)return s.instance=i,He(i),i;var c=w({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),He(i),vs(i,"style",c),Fc(i,n.precedence,t),s.instance=i;case"stylesheet":c=zl(n.href);var m=t.querySelector(_i(c));if(m)return s.state.loading|=4,s.instance=m,He(m),m;i=Xg(n),(c=ga.get(c))&&Um(i,c),m=(t.ownerDocument||t).createElement("link"),He(m);var v=m;return v._p=new Promise(function(A,H){v.onload=A,v.onerror=H}),vs(m,"link",i),s.state.loading|=4,Fc(m,n.precedence,t),s.instance=m;case"script":return m=Bl(n.src),(c=t.querySelector(Ii(m)))?(s.instance=c,He(c),c):(i=n,(c=ga.get(m))&&(i=w({},n),zm(i,c)),t=t.ownerDocument||t,c=t.createElement("script"),He(c),vs(c,"link",i),t.head.appendChild(c),s.instance=c);case"void":return null;default:throw Error(o(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(i=s.instance,s.state.loading|=4,Fc(i,n.precedence,t));return s.instance}function Fc(t,s,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=i.length?i[i.length-1]:null,m=c,v=0;v<i.length;v++){var A=i[v];if(A.dataset.precedence===s)m=A;else if(m!==c)break}m?m.parentNode.insertBefore(t,m.nextSibling):(s=n.nodeType===9?n.head:n,s.insertBefore(t,s.firstChild))}function Um(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function zm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Oc=null;function Wg(t,s,n){if(Oc===null){var i=new Map,c=Oc=new Map;c.set(n,i)}else c=Oc,i=c.get(n),i||(i=new Map,c.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),c=0;c<n.length;c++){var m=n[c];if(!(m[M]||m[Ht]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var v=m.getAttribute(s)||"";v=t+v;var A=i.get(v);A?A.push(m):i.set(v,[m])}}return i}function ep(t,s,n){t=t.ownerDocument||t,t.head.insertBefore(n,s==="title"?t.querySelector("head > title"):null)}function Rw(t,s,n){if(n===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function tp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Dw(t,s,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=zl(i.href),m=s.querySelector(_i(c));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=Lc.bind(t),s.then(t,t)),n.state.loading|=4,n.instance=m,He(m);return}m=s.ownerDocument||s,i=Xg(i),(c=ga.get(c))&&Um(i,c),m=m.createElement("link"),He(m);var v=m;v._p=new Promise(function(A,H){v.onload=A,v.onerror=H}),vs(m,"link",i),n.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,s),(s=n.state.preload)&&(n.state.loading&3)===0&&(t.count++,n=Lc.bind(t),s.addEventListener("load",n),s.addEventListener("error",n))}}var Bm=0;function Mw(t,s){return t.stylesheets&&t.count===0&&zc(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var i=setTimeout(function(){if(t.stylesheets&&zc(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+s);0<t.imgBytes&&Bm===0&&(Bm=62500*mw());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&zc(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>Bm?50:800)+s);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(c)}}:null}function Lc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Uc=null;function zc(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Uc=new Map,s.forEach(Fw,t),Uc=null,Lc.call(t))}function Fw(t,s){if(!(s.state.loading&4)){var n=Uc.get(t);if(n)var i=n.get(null);else{n=new Map,Uc.set(t,n);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<c.length;m++){var v=c[m];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(n.set(v.dataset.precedence,v),i=v)}i&&n.set(null,i)}c=s.instance,v=c.getAttribute("data-precedence"),m=n.get(v)||i,m===i&&n.set(null,c),n.set(v,c),this.count++,i=Lc.bind(this),c.addEventListener("load",i),c.addEventListener("error",i),m?m.parentNode.insertBefore(c,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),s.state.loading|=4}}var Qi={$$typeof:y,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function Ow(t,s,n,i,c,m,v,A,H){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ls(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ls(0),this.hiddenUpdates=ls(null),this.identifierPrefix=i,this.onUncaughtError=c,this.onCaughtError=m,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function sp(t,s,n,i,c,m,v,A,H,oe,ve,Ce){return t=new Ow(t,s,n,v,H,oe,ve,Ce,A),s=1,m===!0&&(s|=24),m=Ws(3,null,null,s),t.current=m,m.stateNode=t,s=pu(),s.refCount++,t.pooledCache=s,s.refCount++,m.memoizedState={element:i,isDehydrated:n,cache:s},ju(m),t}function ap(t){return t?(t=xl,t):xl}function rp(t,s,n,i,c,m){c=ap(c),i.context===null?i.context=c:i.pendingContext=c,i=Pr(s),i.payload={element:n},m=m===void 0?null:m,m!==null&&(i.callback=m),n=qr(t,i,s),n!==null&&(Ps(n,t,s),Ni(n,t,s))}function np(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<s?n:s}}function Pm(t,s){np(t,s),(t=t.alternate)&&np(t,s)}function lp(t){if(t.tag===13||t.tag===31){var s=Nn(t,67108864);s!==null&&Ps(s,t,67108864),Pm(t,67108864)}}function ip(t){if(t.tag===13||t.tag===31){var s=ra();s=us(s);var n=Nn(t,s);n!==null&&Ps(n,t,s),Pm(t,s)}}var Bc=!0;function Lw(t,s,n,i){var c=I.T;I.T=null;var m=se.p;try{se.p=2,qm(t,s,n,i)}finally{se.p=m,I.T=c}}function Uw(t,s,n,i){var c=I.T;I.T=null;var m=se.p;try{se.p=8,qm(t,s,n,i)}finally{se.p=m,I.T=c}}function qm(t,s,n,i){if(Bc){var c=$m(i);if(c===null)km(t,s,i,Pc,n),cp(t,i);else if(Bw(c,t,s,n,i))i.stopPropagation();else if(cp(t,i),s&4&&-1<zw.indexOf(t)){for(;c!==null;){var m=Le(c);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var v=Ct(m.pendingLanes);if(v!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;v;){var H=1<<31-St(v);A.entanglements[1]|=H,v&=~H}Qa(m),(wt&6)===0&&(jc=Te()+500,Pi(0))}}break;case 31:case 13:A=Nn(m,2),A!==null&&Ps(A,m,2),Nc(),Pm(m,2)}if(m=$m(i),m===null&&km(t,s,i,Pc,n),m===c)break;c=m}c!==null&&i.stopPropagation()}else km(t,s,i,null,n)}}function $m(t){return t=_d(t),Hm(t)}var Pc=null;function Hm(t){if(Pc=null,t=Oe(t),t!==null){var s=h(t);if(s===null)t=null;else{var n=s.tag;if(n===13){if(t=f(s),t!==null)return t;t=null}else if(n===31){if(t=p(s),t!==null)return t;t=null}else if(n===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return Pc=t,null}function op(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ae()){case J:return 2;case xe:return 8;case ze:case ae:return 32;case $e:return 268435456;default:return 32}default:return 32}}var _m=!1,Xr=null,Jr=null,Wr=null,Gi=new Map,Yi=new Map,en=[],zw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cp(t,s){switch(t){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":Gi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yi.delete(s.pointerId)}}function Vi(t,s,n,i,c,m){return t===null||t.nativeEvent!==m?(t={blockedOn:s,domEventName:n,eventSystemFlags:i,nativeEvent:m,targetContainers:[c]},s!==null&&(s=Le(s),s!==null&&lp(s)),t):(t.eventSystemFlags|=i,s=t.targetContainers,c!==null&&s.indexOf(c)===-1&&s.push(c),t)}function Bw(t,s,n,i,c){switch(s){case"focusin":return Xr=Vi(Xr,t,s,n,i,c),!0;case"dragenter":return Jr=Vi(Jr,t,s,n,i,c),!0;case"mouseover":return Wr=Vi(Wr,t,s,n,i,c),!0;case"pointerover":var m=c.pointerId;return Gi.set(m,Vi(Gi.get(m)||null,t,s,n,i,c)),!0;case"gotpointercapture":return m=c.pointerId,Yi.set(m,Vi(Yi.get(m)||null,t,s,n,i,c)),!0}return!1}function dp(t){var s=Oe(t.target);if(s!==null){var n=h(s);if(n!==null){if(s=n.tag,s===13){if(s=f(n),s!==null){t.blockedOn=s,qa(t.priority,function(){ip(n)});return}}else if(s===31){if(s=p(n),s!==null){t.blockedOn=s,qa(t.priority,function(){ip(n)});return}}else if(s===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qc(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var n=$m(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Hd=i,n.target.dispatchEvent(i),Hd=null}else return s=Le(n),s!==null&&lp(s),t.blockedOn=n,!1;s.shift()}return!0}function up(t,s,n){qc(t)&&n.delete(s)}function Pw(){_m=!1,Xr!==null&&qc(Xr)&&(Xr=null),Jr!==null&&qc(Jr)&&(Jr=null),Wr!==null&&qc(Wr)&&(Wr=null),Gi.forEach(up),Yi.forEach(up)}function $c(t,s){t.blockedOn===s&&(t.blockedOn=null,_m||(_m=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Pw)))}var Hc=null;function mp(t){Hc!==t&&(Hc=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Hc===t&&(Hc=null);for(var s=0;s<t.length;s+=3){var n=t[s],i=t[s+1],c=t[s+2];if(typeof i!="function"){if(Hm(i||n)===null)continue;break}var m=Le(n);m!==null&&(t.splice(s,3),s-=3,$u(m,{pending:!0,data:c,method:n.method,action:i},i,c))}}))}function Pl(t){function s(H){return $c(H,t)}Xr!==null&&$c(Xr,t),Jr!==null&&$c(Jr,t),Wr!==null&&$c(Wr,t),Gi.forEach(s),Yi.forEach(s);for(var n=0;n<en.length;n++){var i=en[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<en.length&&(n=en[0],n.blockedOn===null);)dp(n),n.blockedOn===null&&en.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var c=n[i],m=n[i+1],v=c[Kt]||null;if(typeof m=="function")v||mp(n);else if(v){var A=null;if(m&&m.hasAttribute("formAction")){if(c=m,v=m[Kt]||null)A=v.formAction;else if(Hm(c)!==null)continue}else A=v.action;typeof A=="function"?n[i+1]=A:(n.splice(i,3),i-=3),mp(n)}}}function hp(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(v){return c=v})},focusReset:"manual",scroll:"manual"})}function s(){c!==null&&(c(),c=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),c!==null&&(c(),c=null)}}}function Im(t){this._internalRoot=t}_c.prototype.render=Im.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(o(409));var n=s.current,i=ra();rp(n,i,t,s,null,null)},_c.prototype.unmount=Im.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;rp(t.current,2,null,t,null,null),Nc(),s[$a]=null}};function _c(t){this._internalRoot=t}_c.prototype.unstable_scheduleHydration=function(t){if(t){var s=Ea();t={blockedOn:null,target:t,priority:s};for(var n=0;n<en.length&&s!==0&&s<en[n].priority;n++);en.splice(n,0,t),n===0&&dp(t)}};var fp=r.version;if(fp!=="19.2.0")throw Error(o(527,fp,"19.2.0"));se.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=g(s),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var qw={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{Ot=Ic.inject(qw),ot=Ic}catch{}}return Zi.createRoot=function(t,s){if(!d(t))throw Error(o(299));var n=!1,i="",c=jx,m=wx,v=Nx;return s!=null&&(s.unstable_strictMode===!0&&(n=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onUncaughtError!==void 0&&(c=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),s=sp(t,1,!1,null,null,n,i,null,c,m,v,hp),t[$a]=s.current,Cm(t),new Im(s)},Zi.hydrateRoot=function(t,s,n){if(!d(t))throw Error(o(299));var i=!1,c="",m=jx,v=wx,A=Nx,H=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(m=n.onUncaughtError),n.onCaughtError!==void 0&&(v=n.onCaughtError),n.onRecoverableError!==void 0&&(A=n.onRecoverableError),n.formState!==void 0&&(H=n.formState)),s=sp(t,1,!0,s,n??null,i,c,H,m,v,A,hp),s.context=ap(null),n=s.current,i=ra(),i=us(i),c=Pr(i),c.callback=null,qr(n,c,i),n=i,s.current.lanes=n,Vt(s,n),Qa(s),t[$a]=s.current,Cm(t),new _c(s)},Zi.version="19.2.0",Zi}var kp;function Jw(){if(kp)return Km.exports;kp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(r){console.error(r)}}return a(),Km.exports=Xw(),Km.exports}var Ww=Jw(),Wl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(a){return this.listeners.add(a),this.onSubscribe(),()=>{this.listeners.delete(a),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},eN={setTimeout:(a,r)=>setTimeout(a,r),clearTimeout:a=>clearTimeout(a),setInterval:(a,r)=>setInterval(a,r),clearInterval:a=>clearInterval(a)},nn,t0,Lb,tN=(Lb=class{constructor(){Ke(this,nn,eN);Ke(this,t0,!1)}setTimeoutProvider(a){Ue(this,nn,a)}setTimeout(a,r){return Q(this,nn).setTimeout(a,r)}clearTimeout(a){Q(this,nn).clearTimeout(a)}setInterval(a,r){return Q(this,nn).setInterval(a,r)}clearInterval(a){Q(this,nn).clearInterval(a)}},nn=new WeakMap,t0=new WeakMap,Lb),Bn=new tN;function sN(a){setTimeout(a,0)}var Wn=typeof window>"u"||"Deno"in globalThis;function Ms(){}function aN(a,r){return typeof a=="function"?a(r):a}function jh(a){return typeof a=="number"&&a>=0&&a!==1/0}function Kb(a,r){return Math.max(a+(r||0)-Date.now(),0)}function pn(a,r){return typeof a=="function"?a(r):a}function ya(a,r){return typeof a=="function"?a(r):a}function Ep(a,r){const{type:l="all",exact:o,fetchStatus:d,predicate:h,queryKey:f,stale:p}=a;if(f){if(o){if(r.queryHash!==s0(f,r.options))return!1}else if(!xo(r.queryKey,f))return!1}if(l!=="all"){const x=r.isActive();if(l==="active"&&!x||l==="inactive"&&x)return!1}return!(typeof p=="boolean"&&r.isStale()!==p||d&&d!==r.state.fetchStatus||h&&!h(r))}function Tp(a,r){const{exact:l,status:o,predicate:d,mutationKey:h}=a;if(h){if(!r.options.mutationKey)return!1;if(l){if(el(r.options.mutationKey)!==el(h))return!1}else if(!xo(r.options.mutationKey,h))return!1}return!(o&&r.state.status!==o||d&&!d(r))}function s0(a,r){return((r==null?void 0:r.queryKeyHashFn)||el)(a)}function el(a){return JSON.stringify(a,(r,l)=>wh(l)?Object.keys(l).sort().reduce((o,d)=>(o[d]=l[d],o),{}):l)}function xo(a,r){return a===r?!0:typeof a!=typeof r?!1:a&&r&&typeof a=="object"&&typeof r=="object"?Object.keys(r).every(l=>xo(a[l],r[l])):!1}var rN=Object.prototype.hasOwnProperty;function Zb(a,r){if(a===r)return a;const l=Ap(a)&&Ap(r);if(!l&&!(wh(a)&&wh(r)))return r;const d=(l?a:Object.keys(a)).length,h=l?r:Object.keys(r),f=h.length,p=l?new Array(f):{};let x=0;for(let g=0;g<f;g++){const b=l?g:h[g],w=a[b],T=r[b];if(w===T){p[b]=w,(l?g<d:rN.call(a,b))&&x++;continue}if(w===null||T===null||typeof w!="object"||typeof T!="object"){p[b]=T;continue}const j=Zb(w,T);p[b]=j,j===w&&x++}return d===f&&x===d?a:p}function cd(a,r){if(!r||Object.keys(a).length!==Object.keys(r).length)return!1;for(const l in a)if(a[l]!==r[l])return!1;return!0}function Ap(a){return Array.isArray(a)&&a.length===Object.keys(a).length}function wh(a){if(!Rp(a))return!1;const r=a.constructor;if(r===void 0)return!0;const l=r.prototype;return!(!Rp(l)||!l.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(a)!==Object.prototype)}function Rp(a){return Object.prototype.toString.call(a)==="[object Object]"}function nN(a){return new Promise(r=>{Bn.setTimeout(r,a)})}function Nh(a,r,l){return typeof l.structuralSharing=="function"?l.structuralSharing(a,r):l.structuralSharing!==!1?Zb(a,r):r}function lN(a,r,l=0){const o=[...a,r];return l&&o.length>l?o.slice(1):o}function iN(a,r,l=0){const o=[r,...a];return l&&o.length>l?o.slice(0,-1):o}var a0=Symbol();function Xb(a,r){return!a.queryFn&&(r!=null&&r.initialPromise)?()=>r.initialPromise:!a.queryFn||a.queryFn===a0?()=>Promise.reject(new Error(`Missing queryFn: '${a.queryHash}'`)):a.queryFn}function Jb(a,r){return typeof a=="function"?a(...r):!!a}var $n,ln,ql,Ub,oN=(Ub=class extends Wl{constructor(){super();Ke(this,$n);Ke(this,ln);Ke(this,ql);Ue(this,ql,r=>{if(!Wn&&window.addEventListener){const l=()=>r();return window.addEventListener("visibilitychange",l,!1),()=>{window.removeEventListener("visibilitychange",l)}}})}onSubscribe(){Q(this,ln)||this.setEventListener(Q(this,ql))}onUnsubscribe(){var r;this.hasListeners()||((r=Q(this,ln))==null||r.call(this),Ue(this,ln,void 0))}setEventListener(r){var l;Ue(this,ql,r),(l=Q(this,ln))==null||l.call(this),Ue(this,ln,r(o=>{typeof o=="boolean"?this.setFocused(o):this.onFocus()}))}setFocused(r){Q(this,$n)!==r&&(Ue(this,$n,r),this.onFocus())}onFocus(){const r=this.isFocused();this.listeners.forEach(l=>{l(r)})}isFocused(){var r;return typeof Q(this,$n)=="boolean"?Q(this,$n):((r=globalThis.document)==null?void 0:r.visibilityState)!=="hidden"}},$n=new WeakMap,ln=new WeakMap,ql=new WeakMap,Ub),r0=new oN;function Sh(){let a,r;const l=new Promise((d,h)=>{a=d,r=h});l.status="pending",l.catch(()=>{});function o(d){Object.assign(l,d),delete l.resolve,delete l.reject}return l.resolve=d=>{o({status:"fulfilled",value:d}),a(d)},l.reject=d=>{o({status:"rejected",reason:d}),r(d)},l}var cN=sN;function dN(){let a=[],r=0,l=p=>{p()},o=p=>{p()},d=cN;const h=p=>{r?a.push(p):d(()=>{l(p)})},f=()=>{const p=a;a=[],p.length&&d(()=>{o(()=>{p.forEach(x=>{l(x)})})})};return{batch:p=>{let x;r++;try{x=p()}finally{r--,r||f()}return x},batchCalls:p=>(...x)=>{h(()=>{p(...x)})},schedule:h,setNotifyFunction:p=>{l=p},setBatchNotifyFunction:p=>{o=p},setScheduler:p=>{d=p}}}var os=dN(),$l,on,Hl,zb,uN=(zb=class extends Wl{constructor(){super();Ke(this,$l,!0);Ke(this,on);Ke(this,Hl);Ue(this,Hl,r=>{if(!Wn&&window.addEventListener){const l=()=>r(!0),o=()=>r(!1);return window.addEventListener("online",l,!1),window.addEventListener("offline",o,!1),()=>{window.removeEventListener("online",l),window.removeEventListener("offline",o)}}})}onSubscribe(){Q(this,on)||this.setEventListener(Q(this,Hl))}onUnsubscribe(){var r;this.hasListeners()||((r=Q(this,on))==null||r.call(this),Ue(this,on,void 0))}setEventListener(r){var l;Ue(this,Hl,r),(l=Q(this,on))==null||l.call(this),Ue(this,on,r(this.setOnline.bind(this)))}setOnline(r){Q(this,$l)!==r&&(Ue(this,$l,r),this.listeners.forEach(o=>{o(r)}))}isOnline(){return Q(this,$l)}},$l=new WeakMap,on=new WeakMap,Hl=new WeakMap,zb),dd=new uN;function mN(a){return Math.min(1e3*2**a,3e4)}function Wb(a){return(a??"online")==="online"?dd.isOnline():!0}var Ch=class extends Error{constructor(a){super("CancelledError"),this.revert=a==null?void 0:a.revert,this.silent=a==null?void 0:a.silent}};function ey(a){let r=!1,l=0,o;const d=Sh(),h=()=>d.status!=="pending",f=E=>{var S;if(!h()){const D=new Ch(E);T(D),(S=a.onCancel)==null||S.call(a,D)}},p=()=>{r=!0},x=()=>{r=!1},g=()=>r0.isFocused()&&(a.networkMode==="always"||dd.isOnline())&&a.canRun(),b=()=>Wb(a.networkMode)&&a.canRun(),w=E=>{h()||(o==null||o(),d.resolve(E))},T=E=>{h()||(o==null||o(),d.reject(E))},j=()=>new Promise(E=>{var S;o=D=>{(h()||g())&&E(D)},(S=a.onPause)==null||S.call(a)}).then(()=>{var E;o=void 0,h()||(E=a.onContinue)==null||E.call(a)}),C=()=>{if(h())return;let E;const S=l===0?a.initialPromise:void 0;try{E=S??a.fn()}catch(D){E=Promise.reject(D)}Promise.resolve(E).then(w).catch(D=>{var z;if(h())return;const U=a.retry??(Wn?0:3),y=a.retryDelay??mN,F=typeof y=="function"?y(l,D):y,te=U===!0||typeof U=="number"&&l<U||typeof U=="function"&&U(l,D);if(r||!te){T(D);return}l++,(z=a.onFail)==null||z.call(a,l,D),nN(F).then(()=>g()?void 0:j()).then(()=>{r?T(D):C()})})};return{promise:d,status:()=>d.status,cancel:f,continue:()=>(o==null||o(),d),cancelRetry:p,continueRetry:x,canStart:b,start:()=>(b()?C():j().then(C),d)}}var Hn,Bb,ty=(Bb=class{constructor(){Ke(this,Hn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),jh(this.gcTime)&&Ue(this,Hn,Bn.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(a){this.gcTime=Math.max(this.gcTime||0,a??(Wn?1/0:300*1e3))}clearGcTimeout(){Q(this,Hn)&&(Bn.clearTimeout(Q(this,Hn)),Ue(this,Hn,void 0))}},Hn=new WeakMap,Bb),_n,_l,ba,In,fs,po,Qn,Oa,br,Pb,hN=(Pb=class extends ty{constructor(r){super();Ke(this,Oa);Ke(this,_n);Ke(this,_l);Ke(this,ba);Ke(this,In);Ke(this,fs);Ke(this,po);Ke(this,Qn);Ue(this,Qn,!1),Ue(this,po,r.defaultOptions),this.setOptions(r.options),this.observers=[],Ue(this,In,r.client),Ue(this,ba,Q(this,In).getQueryCache()),this.queryKey=r.queryKey,this.queryHash=r.queryHash,Ue(this,_n,Mp(this.options)),this.state=r.state??Q(this,_n),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=Q(this,fs))==null?void 0:r.promise}setOptions(r){if(this.options={...Q(this,po),...r},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const l=Mp(this.options);l.data!==void 0&&(this.setState(Dp(l.data,l.dataUpdatedAt)),Ue(this,_n,l))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Q(this,ba).remove(this)}setData(r,l){const o=Nh(this.state.data,r,this.options);return it(this,Oa,br).call(this,{data:o,type:"success",dataUpdatedAt:l==null?void 0:l.updatedAt,manual:l==null?void 0:l.manual}),o}setState(r,l){it(this,Oa,br).call(this,{type:"setState",state:r,setStateOptions:l})}cancel(r){var o,d;const l=(o=Q(this,fs))==null?void 0:o.promise;return(d=Q(this,fs))==null||d.cancel(r),l?l.then(Ms).catch(Ms):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Q(this,_n))}isActive(){return this.observers.some(r=>ya(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===a0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(r=>pn(r.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(r=0){return this.state.data===void 0?!0:r==="static"?!1:this.state.isInvalidated?!0:!Kb(this.state.dataUpdatedAt,r)}onFocus(){var l;const r=this.observers.find(o=>o.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(l=Q(this,fs))==null||l.continue()}onOnline(){var l;const r=this.observers.find(o=>o.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(l=Q(this,fs))==null||l.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),Q(this,ba).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(l=>l!==r),this.observers.length||(Q(this,fs)&&(Q(this,Qn)?Q(this,fs).cancel({revert:!0}):Q(this,fs).cancelRetry()),this.scheduleGc()),Q(this,ba).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||it(this,Oa,br).call(this,{type:"invalidate"})}async fetch(r,l){var x,g,b,w,T,j,C,E,S,D,U,y;if(this.state.fetchStatus!=="idle"&&((x=Q(this,fs))==null?void 0:x.status())!=="rejected"){if(this.state.data!==void 0&&(l!=null&&l.cancelRefetch))this.cancel({silent:!0});else if(Q(this,fs))return Q(this,fs).continueRetry(),Q(this,fs).promise}if(r&&this.setOptions(r),!this.options.queryFn){const F=this.observers.find(te=>te.options.queryFn);F&&this.setOptions(F.options)}const o=new AbortController,d=F=>{Object.defineProperty(F,"signal",{enumerable:!0,get:()=>(Ue(this,Qn,!0),o.signal)})},h=()=>{const F=Xb(this.options,l),z=(()=>{const k={client:Q(this,In),queryKey:this.queryKey,meta:this.meta};return d(k),k})();return Ue(this,Qn,!1),this.options.persister?this.options.persister(F,z,this):F(z)},p=(()=>{const F={fetchOptions:l,options:this.options,queryKey:this.queryKey,client:Q(this,In),state:this.state,fetchFn:h};return d(F),F})();(g=this.options.behavior)==null||g.onFetch(p,this),Ue(this,_l,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((b=p.fetchOptions)==null?void 0:b.meta))&&it(this,Oa,br).call(this,{type:"fetch",meta:(w=p.fetchOptions)==null?void 0:w.meta}),Ue(this,fs,ey({initialPromise:l==null?void 0:l.initialPromise,fn:p.fetchFn,onCancel:F=>{F instanceof Ch&&F.revert&&this.setState({...Q(this,_l),fetchStatus:"idle"}),o.abort()},onFail:(F,te)=>{it(this,Oa,br).call(this,{type:"failed",failureCount:F,error:te})},onPause:()=>{it(this,Oa,br).call(this,{type:"pause"})},onContinue:()=>{it(this,Oa,br).call(this,{type:"continue"})},retry:p.options.retry,retryDelay:p.options.retryDelay,networkMode:p.options.networkMode,canRun:()=>!0}));try{const F=await Q(this,fs).start();if(F===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(F),(j=(T=Q(this,ba).config).onSuccess)==null||j.call(T,F,this),(E=(C=Q(this,ba).config).onSettled)==null||E.call(C,F,this.state.error,this),F}catch(F){if(F instanceof Ch){if(F.silent)return Q(this,fs).promise;if(F.revert){if(this.state.data===void 0)throw F;return this.state.data}}throw it(this,Oa,br).call(this,{type:"error",error:F}),(D=(S=Q(this,ba).config).onError)==null||D.call(S,F,this),(y=(U=Q(this,ba).config).onSettled)==null||y.call(U,this.state.data,F,this),F}finally{this.scheduleGc()}}},_n=new WeakMap,_l=new WeakMap,ba=new WeakMap,In=new WeakMap,fs=new WeakMap,po=new WeakMap,Qn=new WeakMap,Oa=new WeakSet,br=function(r){const l=o=>{switch(r.type){case"failed":return{...o,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...o,fetchStatus:"paused"};case"continue":return{...o,fetchStatus:"fetching"};case"fetch":return{...o,...sy(o.data,this.options),fetchMeta:r.meta??null};case"success":const d={...o,...Dp(r.data,r.dataUpdatedAt),dataUpdateCount:o.dataUpdateCount+1,...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ue(this,_l,r.manual?d:void 0),d;case"error":const h=r.error;return{...o,error:h,errorUpdateCount:o.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:o.fetchFailureCount+1,fetchFailureReason:h,fetchStatus:"idle",status:"error"};case"invalidate":return{...o,isInvalidated:!0};case"setState":return{...o,...r.state}}};this.state=l(this.state),os.batch(()=>{this.observers.forEach(o=>{o.onQueryUpdate()}),Q(this,ba).notify({query:this,type:"updated",action:r})})},Pb);function sy(a,r){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Wb(r.networkMode)?"fetching":"paused",...a===void 0&&{error:null,status:"pending"}}}function Dp(a,r){return{data:a,dataUpdatedAt:r??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Mp(a){const r=typeof a.initialData=="function"?a.initialData():a.initialData,l=r!==void 0,o=l?typeof a.initialDataUpdatedAt=="function"?a.initialDataUpdatedAt():a.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:l?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:l?"success":"pending",fetchStatus:"idle"}}var qs,xt,bo,Rs,Gn,Il,yr,cn,yo,Ql,Gl,Yn,Vn,dn,Yl,Et,to,kh,Eh,Th,Ah,Rh,Dh,Mh,ay,qb,fN=(qb=class extends Wl{constructor(r,l){super();Ke(this,Et);Ke(this,qs);Ke(this,xt);Ke(this,bo);Ke(this,Rs);Ke(this,Gn);Ke(this,Il);Ke(this,yr);Ke(this,cn);Ke(this,yo);Ke(this,Ql);Ke(this,Gl);Ke(this,Yn);Ke(this,Vn);Ke(this,dn);Ke(this,Yl,new Set);this.options=l,Ue(this,qs,r),Ue(this,cn,null),Ue(this,yr,Sh()),this.bindMethods(),this.setOptions(l)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Q(this,xt).addObserver(this),Fp(Q(this,xt),this.options)?it(this,Et,to).call(this):this.updateResult(),it(this,Et,Ah).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Fh(Q(this,xt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Fh(Q(this,xt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,it(this,Et,Rh).call(this),it(this,Et,Dh).call(this),Q(this,xt).removeObserver(this)}setOptions(r){const l=this.options,o=Q(this,xt);if(this.options=Q(this,qs).defaultQueryOptions(r),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ya(this.options.enabled,Q(this,xt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");it(this,Et,Mh).call(this),Q(this,xt).setOptions(this.options),l._defaulted&&!cd(this.options,l)&&Q(this,qs).getQueryCache().notify({type:"observerOptionsUpdated",query:Q(this,xt),observer:this});const d=this.hasListeners();d&&Op(Q(this,xt),o,this.options,l)&&it(this,Et,to).call(this),this.updateResult(),d&&(Q(this,xt)!==o||ya(this.options.enabled,Q(this,xt))!==ya(l.enabled,Q(this,xt))||pn(this.options.staleTime,Q(this,xt))!==pn(l.staleTime,Q(this,xt)))&&it(this,Et,kh).call(this);const h=it(this,Et,Eh).call(this);d&&(Q(this,xt)!==o||ya(this.options.enabled,Q(this,xt))!==ya(l.enabled,Q(this,xt))||h!==Q(this,dn))&&it(this,Et,Th).call(this,h)}getOptimisticResult(r){const l=Q(this,qs).getQueryCache().build(Q(this,qs),r),o=this.createResult(l,r);return gN(this,o)&&(Ue(this,Rs,o),Ue(this,Il,this.options),Ue(this,Gn,Q(this,xt).state)),o}getCurrentResult(){return Q(this,Rs)}trackResult(r,l){return new Proxy(r,{get:(o,d)=>(this.trackProp(d),l==null||l(d),d==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&Q(this,yr).status==="pending"&&Q(this,yr).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(o,d))})}trackProp(r){Q(this,Yl).add(r)}getCurrentQuery(){return Q(this,xt)}refetch({...r}={}){return this.fetch({...r})}fetchOptimistic(r){const l=Q(this,qs).defaultQueryOptions(r),o=Q(this,qs).getQueryCache().build(Q(this,qs),l);return o.fetch().then(()=>this.createResult(o,l))}fetch(r){return it(this,Et,to).call(this,{...r,cancelRefetch:r.cancelRefetch??!0}).then(()=>(this.updateResult(),Q(this,Rs)))}createResult(r,l){var ne;const o=Q(this,xt),d=this.options,h=Q(this,Rs),f=Q(this,Gn),p=Q(this,Il),g=r!==o?r.state:Q(this,bo),{state:b}=r;let w={...b},T=!1,j;if(l._optimisticResults){const _=this.hasListeners(),we=!_&&Fp(r,l),Y=_&&Op(r,o,l,d);(we||Y)&&(w={...w,...sy(b.data,r.options)}),l._optimisticResults==="isRestoring"&&(w.fetchStatus="idle")}let{error:C,errorUpdatedAt:E,status:S}=w;j=w.data;let D=!1;if(l.placeholderData!==void 0&&j===void 0&&S==="pending"){let _;h!=null&&h.isPlaceholderData&&l.placeholderData===(p==null?void 0:p.placeholderData)?(_=h.data,D=!0):_=typeof l.placeholderData=="function"?l.placeholderData((ne=Q(this,Gl))==null?void 0:ne.state.data,Q(this,Gl)):l.placeholderData,_!==void 0&&(S="success",j=Nh(h==null?void 0:h.data,_,l),T=!0)}if(l.select&&j!==void 0&&!D)if(h&&j===(f==null?void 0:f.data)&&l.select===Q(this,yo))j=Q(this,Ql);else try{Ue(this,yo,l.select),j=l.select(j),j=Nh(h==null?void 0:h.data,j,l),Ue(this,Ql,j),Ue(this,cn,null)}catch(_){Ue(this,cn,_)}Q(this,cn)&&(C=Q(this,cn),j=Q(this,Ql),E=Date.now(),S="error");const U=w.fetchStatus==="fetching",y=S==="pending",F=S==="error",te=y&&U,z=j!==void 0,K={status:S,fetchStatus:w.fetchStatus,isPending:y,isSuccess:S==="success",isError:F,isInitialLoading:te,isLoading:te,data:j,dataUpdatedAt:w.dataUpdatedAt,error:C,errorUpdatedAt:E,failureCount:w.fetchFailureCount,failureReason:w.fetchFailureReason,errorUpdateCount:w.errorUpdateCount,isFetched:w.dataUpdateCount>0||w.errorUpdateCount>0,isFetchedAfterMount:w.dataUpdateCount>g.dataUpdateCount||w.errorUpdateCount>g.errorUpdateCount,isFetching:U,isRefetching:U&&!y,isLoadingError:F&&!z,isPaused:w.fetchStatus==="paused",isPlaceholderData:T,isRefetchError:F&&z,isStale:n0(r,l),refetch:this.refetch,promise:Q(this,yr),isEnabled:ya(l.enabled,r)!==!1};if(this.options.experimental_prefetchInRender){const _=L=>{K.status==="error"?L.reject(K.error):K.data!==void 0&&L.resolve(K.data)},we=()=>{const L=Ue(this,yr,K.promise=Sh());_(L)},Y=Q(this,yr);switch(Y.status){case"pending":r.queryHash===o.queryHash&&_(Y);break;case"fulfilled":(K.status==="error"||K.data!==Y.value)&&we();break;case"rejected":(K.status!=="error"||K.error!==Y.reason)&&we();break}}return K}updateResult(){const r=Q(this,Rs),l=this.createResult(Q(this,xt),this.options);if(Ue(this,Gn,Q(this,xt).state),Ue(this,Il,this.options),Q(this,Gn).data!==void 0&&Ue(this,Gl,Q(this,xt)),cd(l,r))return;Ue(this,Rs,l);const o=()=>{if(!r)return!0;const{notifyOnChangeProps:d}=this.options,h=typeof d=="function"?d():d;if(h==="all"||!h&&!Q(this,Yl).size)return!0;const f=new Set(h??Q(this,Yl));return this.options.throwOnError&&f.add("error"),Object.keys(Q(this,Rs)).some(p=>{const x=p;return Q(this,Rs)[x]!==r[x]&&f.has(x)})};it(this,Et,ay).call(this,{listeners:o()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&it(this,Et,Ah).call(this)}},qs=new WeakMap,xt=new WeakMap,bo=new WeakMap,Rs=new WeakMap,Gn=new WeakMap,Il=new WeakMap,yr=new WeakMap,cn=new WeakMap,yo=new WeakMap,Ql=new WeakMap,Gl=new WeakMap,Yn=new WeakMap,Vn=new WeakMap,dn=new WeakMap,Yl=new WeakMap,Et=new WeakSet,to=function(r){it(this,Et,Mh).call(this);let l=Q(this,xt).fetch(this.options,r);return r!=null&&r.throwOnError||(l=l.catch(Ms)),l},kh=function(){it(this,Et,Rh).call(this);const r=pn(this.options.staleTime,Q(this,xt));if(Wn||Q(this,Rs).isStale||!jh(r))return;const o=Kb(Q(this,Rs).dataUpdatedAt,r)+1;Ue(this,Yn,Bn.setTimeout(()=>{Q(this,Rs).isStale||this.updateResult()},o))},Eh=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Q(this,xt)):this.options.refetchInterval)??!1},Th=function(r){it(this,Et,Dh).call(this),Ue(this,dn,r),!(Wn||ya(this.options.enabled,Q(this,xt))===!1||!jh(Q(this,dn))||Q(this,dn)===0)&&Ue(this,Vn,Bn.setInterval(()=>{(this.options.refetchIntervalInBackground||r0.isFocused())&&it(this,Et,to).call(this)},Q(this,dn)))},Ah=function(){it(this,Et,kh).call(this),it(this,Et,Th).call(this,it(this,Et,Eh).call(this))},Rh=function(){Q(this,Yn)&&(Bn.clearTimeout(Q(this,Yn)),Ue(this,Yn,void 0))},Dh=function(){Q(this,Vn)&&(Bn.clearInterval(Q(this,Vn)),Ue(this,Vn,void 0))},Mh=function(){const r=Q(this,qs).getQueryCache().build(Q(this,qs),this.options);if(r===Q(this,xt))return;const l=Q(this,xt);Ue(this,xt,r),Ue(this,bo,r.state),this.hasListeners()&&(l==null||l.removeObserver(this),r.addObserver(this))},ay=function(r){os.batch(()=>{r.listeners&&this.listeners.forEach(l=>{l(Q(this,Rs))}),Q(this,qs).getQueryCache().notify({query:Q(this,xt),type:"observerResultsUpdated"})})},qb);function xN(a,r){return ya(r.enabled,a)!==!1&&a.state.data===void 0&&!(a.state.status==="error"&&r.retryOnMount===!1)}function Fp(a,r){return xN(a,r)||a.state.data!==void 0&&Fh(a,r,r.refetchOnMount)}function Fh(a,r,l){if(ya(r.enabled,a)!==!1&&pn(r.staleTime,a)!=="static"){const o=typeof l=="function"?l(a):l;return o==="always"||o!==!1&&n0(a,r)}return!1}function Op(a,r,l,o){return(a!==r||ya(o.enabled,a)===!1)&&(!l.suspense||a.state.status!=="error")&&n0(a,l)}function n0(a,r){return ya(r.enabled,a)!==!1&&a.isStaleByTime(pn(r.staleTime,a))}function gN(a,r){return!cd(a.getCurrentResult(),r)}function Lp(a){return{onFetch:(r,l)=>{var b,w,T,j,C;const o=r.options,d=(T=(w=(b=r.fetchOptions)==null?void 0:b.meta)==null?void 0:w.fetchMore)==null?void 0:T.direction,h=((j=r.state.data)==null?void 0:j.pages)||[],f=((C=r.state.data)==null?void 0:C.pageParams)||[];let p={pages:[],pageParams:[]},x=0;const g=async()=>{let E=!1;const S=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(r.signal.aborted?E=!0:r.signal.addEventListener("abort",()=>{E=!0}),r.signal)})},D=Xb(r.options,r.fetchOptions),U=async(y,F,te)=>{if(E)return Promise.reject();if(F==null&&y.pages.length)return Promise.resolve(y);const k=(()=>{const we={client:r.client,queryKey:r.queryKey,pageParam:F,direction:te?"backward":"forward",meta:r.options.meta};return S(we),we})(),K=await D(k),{maxPages:ne}=r.options,_=te?iN:lN;return{pages:_(y.pages,K,ne),pageParams:_(y.pageParams,F,ne)}};if(d&&h.length){const y=d==="backward",F=y?pN:Up,te={pages:h,pageParams:f},z=F(o,te);p=await U(te,z,y)}else{const y=a??h.length;do{const F=x===0?f[0]??o.initialPageParam:Up(o,p);if(x>0&&F==null)break;p=await U(p,F),x++}while(x<y)}return p};r.options.persister?r.fetchFn=()=>{var E,S;return(S=(E=r.options).persister)==null?void 0:S.call(E,g,{client:r.client,queryKey:r.queryKey,meta:r.options.meta,signal:r.signal},l)}:r.fetchFn=g}}}function Up(a,{pages:r,pageParams:l}){const o=r.length-1;return r.length>0?a.getNextPageParam(r[o],r,l[o],l):void 0}function pN(a,{pages:r,pageParams:l}){var o;return r.length>0?(o=a.getPreviousPageParam)==null?void 0:o.call(a,r[0],r,l[0],l):void 0}var vo,Va,Ds,Kn,Ka,an,$b,bN=($b=class extends ty{constructor(r){super();Ke(this,Ka);Ke(this,vo);Ke(this,Va);Ke(this,Ds);Ke(this,Kn);Ue(this,vo,r.client),this.mutationId=r.mutationId,Ue(this,Ds,r.mutationCache),Ue(this,Va,[]),this.state=r.state||ry(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){Q(this,Va).includes(r)||(Q(this,Va).push(r),this.clearGcTimeout(),Q(this,Ds).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){Ue(this,Va,Q(this,Va).filter(l=>l!==r)),this.scheduleGc(),Q(this,Ds).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){Q(this,Va).length||(this.state.status==="pending"?this.scheduleGc():Q(this,Ds).remove(this))}continue(){var r;return((r=Q(this,Kn))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var f,p,x,g,b,w,T,j,C,E,S,D,U,y,F,te,z,k,K,ne;const l=()=>{it(this,Ka,an).call(this,{type:"continue"})},o={client:Q(this,vo),meta:this.options.meta,mutationKey:this.options.mutationKey};Ue(this,Kn,ey({fn:()=>this.options.mutationFn?this.options.mutationFn(r,o):Promise.reject(new Error("No mutationFn found")),onFail:(_,we)=>{it(this,Ka,an).call(this,{type:"failed",failureCount:_,error:we})},onPause:()=>{it(this,Ka,an).call(this,{type:"pause"})},onContinue:l,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Q(this,Ds).canRun(this)}));const d=this.state.status==="pending",h=!Q(this,Kn).canStart();try{if(d)l();else{it(this,Ka,an).call(this,{type:"pending",variables:r,isPaused:h}),await((p=(f=Q(this,Ds).config).onMutate)==null?void 0:p.call(f,r,this,o));const we=await((g=(x=this.options).onMutate)==null?void 0:g.call(x,r,o));we!==this.state.context&&it(this,Ka,an).call(this,{type:"pending",context:we,variables:r,isPaused:h})}const _=await Q(this,Kn).start();return await((w=(b=Q(this,Ds).config).onSuccess)==null?void 0:w.call(b,_,r,this.state.context,this,o)),await((j=(T=this.options).onSuccess)==null?void 0:j.call(T,_,r,this.state.context,o)),await((E=(C=Q(this,Ds).config).onSettled)==null?void 0:E.call(C,_,null,this.state.variables,this.state.context,this,o)),await((D=(S=this.options).onSettled)==null?void 0:D.call(S,_,null,r,this.state.context,o)),it(this,Ka,an).call(this,{type:"success",data:_}),_}catch(_){try{throw await((y=(U=Q(this,Ds).config).onError)==null?void 0:y.call(U,_,r,this.state.context,this,o)),await((te=(F=this.options).onError)==null?void 0:te.call(F,_,r,this.state.context,o)),await((k=(z=Q(this,Ds).config).onSettled)==null?void 0:k.call(z,void 0,_,this.state.variables,this.state.context,this,o)),await((ne=(K=this.options).onSettled)==null?void 0:ne.call(K,void 0,_,r,this.state.context,o)),_}finally{it(this,Ka,an).call(this,{type:"error",error:_})}}finally{Q(this,Ds).runNext(this)}}},vo=new WeakMap,Va=new WeakMap,Ds=new WeakMap,Kn=new WeakMap,Ka=new WeakSet,an=function(r){const l=o=>{switch(r.type){case"failed":return{...o,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...o,isPaused:!0};case"continue":return{...o,isPaused:!1};case"pending":return{...o,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...o,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...o,data:void 0,error:r.error,failureCount:o.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=l(this.state),os.batch(()=>{Q(this,Va).forEach(o=>{o.onMutationUpdate(r)}),Q(this,Ds).notify({mutation:this,type:"updated",action:r})})},$b);function ry(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var vr,La,jo,Hb,yN=(Hb=class extends Wl{constructor(r={}){super();Ke(this,vr);Ke(this,La);Ke(this,jo);this.config=r,Ue(this,vr,new Set),Ue(this,La,new Map),Ue(this,jo,0)}build(r,l,o){const d=new bN({client:r,mutationCache:this,mutationId:++Qc(this,jo)._,options:r.defaultMutationOptions(l),state:o});return this.add(d),d}add(r){Q(this,vr).add(r);const l=Gc(r);if(typeof l=="string"){const o=Q(this,La).get(l);o?o.push(r):Q(this,La).set(l,[r])}this.notify({type:"added",mutation:r})}remove(r){if(Q(this,vr).delete(r)){const l=Gc(r);if(typeof l=="string"){const o=Q(this,La).get(l);if(o)if(o.length>1){const d=o.indexOf(r);d!==-1&&o.splice(d,1)}else o[0]===r&&Q(this,La).delete(l)}}this.notify({type:"removed",mutation:r})}canRun(r){const l=Gc(r);if(typeof l=="string"){const o=Q(this,La).get(l),d=o==null?void 0:o.find(h=>h.state.status==="pending");return!d||d===r}else return!0}runNext(r){var o;const l=Gc(r);if(typeof l=="string"){const d=(o=Q(this,La).get(l))==null?void 0:o.find(h=>h!==r&&h.state.isPaused);return(d==null?void 0:d.continue())??Promise.resolve()}else return Promise.resolve()}clear(){os.batch(()=>{Q(this,vr).forEach(r=>{this.notify({type:"removed",mutation:r})}),Q(this,vr).clear(),Q(this,La).clear()})}getAll(){return Array.from(Q(this,vr))}find(r){const l={exact:!0,...r};return this.getAll().find(o=>Tp(l,o))}findAll(r={}){return this.getAll().filter(l=>Tp(r,l))}notify(r){os.batch(()=>{this.listeners.forEach(l=>{l(r)})})}resumePausedMutations(){const r=this.getAll().filter(l=>l.state.isPaused);return os.batch(()=>Promise.all(r.map(l=>l.continue().catch(Ms))))}},vr=new WeakMap,La=new WeakMap,jo=new WeakMap,Hb);function Gc(a){var r;return(r=a.options.scope)==null?void 0:r.id}var jr,un,$s,wr,Tr,sd,Oh,_b,vN=(_b=class extends Wl{constructor(l,o){super();Ke(this,Tr);Ke(this,jr);Ke(this,un);Ke(this,$s);Ke(this,wr);Ue(this,jr,l),this.setOptions(o),this.bindMethods(),it(this,Tr,sd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(l){var d;const o=this.options;this.options=Q(this,jr).defaultMutationOptions(l),cd(this.options,o)||Q(this,jr).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Q(this,$s),observer:this}),o!=null&&o.mutationKey&&this.options.mutationKey&&el(o.mutationKey)!==el(this.options.mutationKey)?this.reset():((d=Q(this,$s))==null?void 0:d.state.status)==="pending"&&Q(this,$s).setOptions(this.options)}onUnsubscribe(){var l;this.hasListeners()||(l=Q(this,$s))==null||l.removeObserver(this)}onMutationUpdate(l){it(this,Tr,sd).call(this),it(this,Tr,Oh).call(this,l)}getCurrentResult(){return Q(this,un)}reset(){var l;(l=Q(this,$s))==null||l.removeObserver(this),Ue(this,$s,void 0),it(this,Tr,sd).call(this),it(this,Tr,Oh).call(this)}mutate(l,o){var d;return Ue(this,wr,o),(d=Q(this,$s))==null||d.removeObserver(this),Ue(this,$s,Q(this,jr).getMutationCache().build(Q(this,jr),this.options)),Q(this,$s).addObserver(this),Q(this,$s).execute(l)}},jr=new WeakMap,un=new WeakMap,$s=new WeakMap,wr=new WeakMap,Tr=new WeakSet,sd=function(){var o;const l=((o=Q(this,$s))==null?void 0:o.state)??ry();Ue(this,un,{...l,isPending:l.status==="pending",isSuccess:l.status==="success",isError:l.status==="error",isIdle:l.status==="idle",mutate:this.mutate,reset:this.reset})},Oh=function(l){os.batch(()=>{var o,d,h,f,p,x,g,b;if(Q(this,wr)&&this.hasListeners()){const w=Q(this,un).variables,T=Q(this,un).context,j={client:Q(this,jr),meta:this.options.meta,mutationKey:this.options.mutationKey};(l==null?void 0:l.type)==="success"?((d=(o=Q(this,wr)).onSuccess)==null||d.call(o,l.data,w,T,j),(f=(h=Q(this,wr)).onSettled)==null||f.call(h,l.data,null,w,T,j)):(l==null?void 0:l.type)==="error"&&((x=(p=Q(this,wr)).onError)==null||x.call(p,l.error,w,T,j),(b=(g=Q(this,wr)).onSettled)==null||b.call(g,void 0,l.error,w,T,j))}this.listeners.forEach(w=>{w(Q(this,un))})})},_b),Za,Ib,jN=(Ib=class extends Wl{constructor(r={}){super();Ke(this,Za);this.config=r,Ue(this,Za,new Map)}build(r,l,o){const d=l.queryKey,h=l.queryHash??s0(d,l);let f=this.get(h);return f||(f=new hN({client:r,queryKey:d,queryHash:h,options:r.defaultQueryOptions(l),state:o,defaultOptions:r.getQueryDefaults(d)}),this.add(f)),f}add(r){Q(this,Za).has(r.queryHash)||(Q(this,Za).set(r.queryHash,r),this.notify({type:"added",query:r}))}remove(r){const l=Q(this,Za).get(r.queryHash);l&&(r.destroy(),l===r&&Q(this,Za).delete(r.queryHash),this.notify({type:"removed",query:r}))}clear(){os.batch(()=>{this.getAll().forEach(r=>{this.remove(r)})})}get(r){return Q(this,Za).get(r)}getAll(){return[...Q(this,Za).values()]}find(r){const l={exact:!0,...r};return this.getAll().find(o=>Ep(l,o))}findAll(r={}){const l=this.getAll();return Object.keys(r).length>0?l.filter(o=>Ep(r,o)):l}notify(r){os.batch(()=>{this.listeners.forEach(l=>{l(r)})})}onFocus(){os.batch(()=>{this.getAll().forEach(r=>{r.onFocus()})})}onOnline(){os.batch(()=>{this.getAll().forEach(r=>{r.onOnline()})})}},Za=new WeakMap,Ib),Qt,mn,hn,Vl,Kl,fn,Zl,Xl,Qb,wN=(Qb=class{constructor(a={}){Ke(this,Qt);Ke(this,mn);Ke(this,hn);Ke(this,Vl);Ke(this,Kl);Ke(this,fn);Ke(this,Zl);Ke(this,Xl);Ue(this,Qt,a.queryCache||new jN),Ue(this,mn,a.mutationCache||new yN),Ue(this,hn,a.defaultOptions||{}),Ue(this,Vl,new Map),Ue(this,Kl,new Map),Ue(this,fn,0)}mount(){Qc(this,fn)._++,Q(this,fn)===1&&(Ue(this,Zl,r0.subscribe(async a=>{a&&(await this.resumePausedMutations(),Q(this,Qt).onFocus())})),Ue(this,Xl,dd.subscribe(async a=>{a&&(await this.resumePausedMutations(),Q(this,Qt).onOnline())})))}unmount(){var a,r;Qc(this,fn)._--,Q(this,fn)===0&&((a=Q(this,Zl))==null||a.call(this),Ue(this,Zl,void 0),(r=Q(this,Xl))==null||r.call(this),Ue(this,Xl,void 0))}isFetching(a){return Q(this,Qt).findAll({...a,fetchStatus:"fetching"}).length}isMutating(a){return Q(this,mn).findAll({...a,status:"pending"}).length}getQueryData(a){var l;const r=this.defaultQueryOptions({queryKey:a});return(l=Q(this,Qt).get(r.queryHash))==null?void 0:l.state.data}ensureQueryData(a){const r=this.defaultQueryOptions(a),l=Q(this,Qt).build(this,r),o=l.state.data;return o===void 0?this.fetchQuery(a):(a.revalidateIfStale&&l.isStaleByTime(pn(r.staleTime,l))&&this.prefetchQuery(r),Promise.resolve(o))}getQueriesData(a){return Q(this,Qt).findAll(a).map(({queryKey:r,state:l})=>{const o=l.data;return[r,o]})}setQueryData(a,r,l){const o=this.defaultQueryOptions({queryKey:a}),d=Q(this,Qt).get(o.queryHash),h=d==null?void 0:d.state.data,f=aN(r,h);if(f!==void 0)return Q(this,Qt).build(this,o).setData(f,{...l,manual:!0})}setQueriesData(a,r,l){return os.batch(()=>Q(this,Qt).findAll(a).map(({queryKey:o})=>[o,this.setQueryData(o,r,l)]))}getQueryState(a){var l;const r=this.defaultQueryOptions({queryKey:a});return(l=Q(this,Qt).get(r.queryHash))==null?void 0:l.state}removeQueries(a){const r=Q(this,Qt);os.batch(()=>{r.findAll(a).forEach(l=>{r.remove(l)})})}resetQueries(a,r){const l=Q(this,Qt);return os.batch(()=>(l.findAll(a).forEach(o=>{o.reset()}),this.refetchQueries({type:"active",...a},r)))}cancelQueries(a,r={}){const l={revert:!0,...r},o=os.batch(()=>Q(this,Qt).findAll(a).map(d=>d.cancel(l)));return Promise.all(o).then(Ms).catch(Ms)}invalidateQueries(a,r={}){return os.batch(()=>(Q(this,Qt).findAll(a).forEach(l=>{l.invalidate()}),(a==null?void 0:a.refetchType)==="none"?Promise.resolve():this.refetchQueries({...a,type:(a==null?void 0:a.refetchType)??(a==null?void 0:a.type)??"active"},r)))}refetchQueries(a,r={}){const l={...r,cancelRefetch:r.cancelRefetch??!0},o=os.batch(()=>Q(this,Qt).findAll(a).filter(d=>!d.isDisabled()&&!d.isStatic()).map(d=>{let h=d.fetch(void 0,l);return l.throwOnError||(h=h.catch(Ms)),d.state.fetchStatus==="paused"?Promise.resolve():h}));return Promise.all(o).then(Ms)}fetchQuery(a){const r=this.defaultQueryOptions(a);r.retry===void 0&&(r.retry=!1);const l=Q(this,Qt).build(this,r);return l.isStaleByTime(pn(r.staleTime,l))?l.fetch(r):Promise.resolve(l.state.data)}prefetchQuery(a){return this.fetchQuery(a).then(Ms).catch(Ms)}fetchInfiniteQuery(a){return a.behavior=Lp(a.pages),this.fetchQuery(a)}prefetchInfiniteQuery(a){return this.fetchInfiniteQuery(a).then(Ms).catch(Ms)}ensureInfiniteQueryData(a){return a.behavior=Lp(a.pages),this.ensureQueryData(a)}resumePausedMutations(){return dd.isOnline()?Q(this,mn).resumePausedMutations():Promise.resolve()}getQueryCache(){return Q(this,Qt)}getMutationCache(){return Q(this,mn)}getDefaultOptions(){return Q(this,hn)}setDefaultOptions(a){Ue(this,hn,a)}setQueryDefaults(a,r){Q(this,Vl).set(el(a),{queryKey:a,defaultOptions:r})}getQueryDefaults(a){const r=[...Q(this,Vl).values()],l={};return r.forEach(o=>{xo(a,o.queryKey)&&Object.assign(l,o.defaultOptions)}),l}setMutationDefaults(a,r){Q(this,Kl).set(el(a),{mutationKey:a,defaultOptions:r})}getMutationDefaults(a){const r=[...Q(this,Kl).values()],l={};return r.forEach(o=>{xo(a,o.mutationKey)&&Object.assign(l,o.defaultOptions)}),l}defaultQueryOptions(a){if(a._defaulted)return a;const r={...Q(this,hn).queries,...this.getQueryDefaults(a.queryKey),...a,_defaulted:!0};return r.queryHash||(r.queryHash=s0(r.queryKey,r)),r.refetchOnReconnect===void 0&&(r.refetchOnReconnect=r.networkMode!=="always"),r.throwOnError===void 0&&(r.throwOnError=!!r.suspense),!r.networkMode&&r.persister&&(r.networkMode="offlineFirst"),r.queryFn===a0&&(r.enabled=!1),r}defaultMutationOptions(a){return a!=null&&a._defaulted?a:{...Q(this,hn).mutations,...(a==null?void 0:a.mutationKey)&&this.getMutationDefaults(a.mutationKey),...a,_defaulted:!0}}clear(){Q(this,Qt).clear(),Q(this,mn).clear()}},Qt=new WeakMap,mn=new WeakMap,hn=new WeakMap,Vl=new WeakMap,Kl=new WeakMap,fn=new WeakMap,Zl=new WeakMap,Xl=new WeakMap,Qb),ny=u.createContext(void 0),Ys=a=>{const r=u.useContext(ny);if(!r)throw new Error("No QueryClient set, use QueryClientProvider to set one");return r},NN=({client:a,children:r})=>(u.useEffect(()=>(a.mount(),()=>{a.unmount()}),[a]),e.jsx(ny.Provider,{value:a,children:r})),ly=u.createContext(!1),SN=()=>u.useContext(ly);ly.Provider;function CN(){let a=!1;return{clearReset:()=>{a=!1},reset:()=>{a=!0},isReset:()=>a}}var kN=u.createContext(CN()),EN=()=>u.useContext(kN),TN=(a,r)=>{(a.suspense||a.throwOnError||a.experimental_prefetchInRender)&&(r.isReset()||(a.retryOnMount=!1))},AN=a=>{u.useEffect(()=>{a.clearReset()},[a])},RN=({result:a,errorResetBoundary:r,throwOnError:l,query:o,suspense:d})=>a.isError&&!r.isReset()&&!a.isFetching&&o&&(d&&a.data===void 0||Jb(l,[a.error,o])),DN=a=>{if(a.suspense){const l=d=>d==="static"?d:Math.max(d??1e3,1e3),o=a.staleTime;a.staleTime=typeof o=="function"?(...d)=>l(o(...d)):l(o),typeof a.gcTime=="number"&&(a.gcTime=Math.max(a.gcTime,1e3))}},MN=(a,r)=>a.isLoading&&a.isFetching&&!r,FN=(a,r)=>(a==null?void 0:a.suspense)&&r.isPending,zp=(a,r,l)=>r.fetchOptimistic(a).catch(()=>{l.clearReset()});function ON(a,r,l){var w,T,j,C,E;const o=SN(),d=EN(),h=Ys(),f=h.defaultQueryOptions(a);(T=(w=h.getDefaultOptions().queries)==null?void 0:w._experimental_beforeQuery)==null||T.call(w,f),f._optimisticResults=o?"isRestoring":"optimistic",DN(f),TN(f,d),AN(d);const p=!h.getQueryCache().get(f.queryHash),[x]=u.useState(()=>new r(h,f)),g=x.getOptimisticResult(f),b=!o&&a.subscribed!==!1;if(u.useSyncExternalStore(u.useCallback(S=>{const D=b?x.subscribe(os.batchCalls(S)):Ms;return x.updateResult(),D},[x,b]),()=>x.getCurrentResult(),()=>x.getCurrentResult()),u.useEffect(()=>{x.setOptions(f)},[f,x]),FN(f,g))throw zp(f,x,d);if(RN({result:g,errorResetBoundary:d,throwOnError:f.throwOnError,query:h.getQueryCache().get(f.queryHash),suspense:f.suspense}))throw g.error;if((C=(j=h.getDefaultOptions().queries)==null?void 0:j._experimental_afterQuery)==null||C.call(j,f,g),f.experimental_prefetchInRender&&!Wn&&MN(g,o)){const S=p?zp(f,x,d):(E=h.getQueryCache().get(f.queryHash))==null?void 0:E.promise;S==null||S.catch(Ms).finally(()=>{x.updateResult()})}return f.notifyOnChangeProps?g:x.trackResult(g)}function Jt(a,r){return ON(a,fN)}function rs(a,r){const l=Ys(),[o]=u.useState(()=>new vN(l,a));u.useEffect(()=>{o.setOptions(a)},[o,a]);const d=u.useSyncExternalStore(u.useCallback(f=>o.subscribe(os.batchCalls(f)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),h=u.useCallback((f,p)=>{o.mutate(f,p).catch(Ms)},[o]);if(d.error&&Jb(o.options.throwOnError,[d.error]))throw d.error;return{...d,mutate:h,mutateAsync:d.mutate}}var LN=function(){return null};/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Bp="popstate";function UN(a={}){function r(o,d){let{pathname:h,search:f,hash:p}=o.location;return Lh("",{pathname:h,search:f,hash:p},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function l(o,d){return typeof d=="string"?d:go(d)}return BN(r,l,null,a)}function $t(a,r){if(a===!1||a===null||typeof a>"u")throw new Error(r)}function wa(a,r){if(!a){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function zN(){return Math.random().toString(36).substring(2,10)}function Pp(a,r){return{usr:a.state,key:a.key,idx:r}}function Lh(a,r,l=null,o){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof r=="string"?ei(r):r,state:l,key:r&&r.key||o||zN()}}function go({pathname:a="/",search:r="",hash:l=""}){return r&&r!=="?"&&(a+=r.charAt(0)==="?"?r:"?"+r),l&&l!=="#"&&(a+=l.charAt(0)==="#"?l:"#"+l),a}function ei(a){let r={};if(a){let l=a.indexOf("#");l>=0&&(r.hash=a.substring(l),a=a.substring(0,l));let o=a.indexOf("?");o>=0&&(r.search=a.substring(o),a=a.substring(0,o)),a&&(r.pathname=a)}return r}function BN(a,r,l,o={}){let{window:d=document.defaultView,v5Compat:h=!1}=o,f=d.history,p="POP",x=null,g=b();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function b(){return(f.state||{idx:null}).idx}function w(){p="POP";let S=b(),D=S==null?null:S-g;g=S,x&&x({action:p,location:E.location,delta:D})}function T(S,D){p="PUSH";let U=Lh(E.location,S,D);g=b()+1;let y=Pp(U,g),F=E.createHref(U);try{f.pushState(y,"",F)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;d.location.assign(F)}h&&x&&x({action:p,location:E.location,delta:1})}function j(S,D){p="REPLACE";let U=Lh(E.location,S,D);g=b();let y=Pp(U,g),F=E.createHref(U);f.replaceState(y,"",F),h&&x&&x({action:p,location:E.location,delta:0})}function C(S){return PN(S)}let E={get action(){return p},get location(){return a(d,f)},listen(S){if(x)throw new Error("A history only accepts one active listener");return d.addEventListener(Bp,w),x=S,()=>{d.removeEventListener(Bp,w),x=null}},createHref(S){return r(d,S)},createURL:C,encodeLocation(S){let D=C(S);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:T,replace:j,go(S){return f.go(S)}};return E}function PN(a,r=!1){let l="http://localhost";typeof window<"u"&&(l=window.location.origin!=="null"?window.location.origin:window.location.href),$t(l,"No window.location.(origin|href) available to create URL");let o=typeof a=="string"?a:go(a);return o=o.replace(/ $/,"%20"),!r&&o.startsWith("//")&&(o=l+o),new URL(o,l)}function iy(a,r,l="/"){return qN(a,r,l,!1)}function qN(a,r,l,o){let d=typeof r=="string"?ei(r):r,h=Ar(d.pathname||"/",l);if(h==null)return null;let f=oy(a);$N(f);let p=null;for(let x=0;p==null&&x<f.length;++x){let g=JN(h);p=ZN(f[x],g,o)}return p}function oy(a,r=[],l=[],o="",d=!1){let h=(f,p,x=d,g)=>{let b={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(o)&&x)return;$t(b.relativePath.startsWith(o),`Absolute route path "${b.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(o.length)}let w=Cr([o,b.relativePath]),T=l.concat(b);f.children&&f.children.length>0&&($t(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),oy(f.children,r,T,w,x)),!(f.path==null&&!f.index)&&r.push({path:w,score:VN(w,f.index),routesMeta:T})};return a.forEach((f,p)=>{var x;if(f.path===""||!((x=f.path)!=null&&x.includes("?")))h(f,p);else for(let g of cy(f.path))h(f,p,!0,g)}),r}function cy(a){let r=a.split("/");if(r.length===0)return[];let[l,...o]=r,d=l.endsWith("?"),h=l.replace(/\?$/,"");if(o.length===0)return d?[h,""]:[h];let f=cy(o.join("/")),p=[];return p.push(...f.map(x=>x===""?h:[h,x].join("/"))),d&&p.push(...f),p.map(x=>a.startsWith("/")&&x===""?"/":x)}function $N(a){a.sort((r,l)=>r.score!==l.score?l.score-r.score:KN(r.routesMeta.map(o=>o.childrenIndex),l.routesMeta.map(o=>o.childrenIndex)))}var HN=/^:[\w-]+$/,_N=3,IN=2,QN=1,GN=10,YN=-2,qp=a=>a==="*";function VN(a,r){let l=a.split("/"),o=l.length;return l.some(qp)&&(o+=YN),r&&(o+=IN),l.filter(d=>!qp(d)).reduce((d,h)=>d+(HN.test(h)?_N:h===""?QN:GN),o)}function KN(a,r){return a.length===r.length&&a.slice(0,-1).every((o,d)=>o===r[d])?a[a.length-1]-r[r.length-1]:0}function ZN(a,r,l=!1){let{routesMeta:o}=a,d={},h="/",f=[];for(let p=0;p<o.length;++p){let x=o[p],g=p===o.length-1,b=h==="/"?r:r.slice(h.length)||"/",w=ud({path:x.relativePath,caseSensitive:x.caseSensitive,end:g},b),T=x.route;if(!w&&g&&l&&!o[o.length-1].route.index&&(w=ud({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},b)),!w)return null;Object.assign(d,w.params),f.push({params:d,pathname:Cr([h,w.pathname]),pathnameBase:s1(Cr([h,w.pathnameBase])),route:T}),w.pathnameBase!=="/"&&(h=Cr([h,w.pathnameBase]))}return f}function ud(a,r){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[l,o]=XN(a.path,a.caseSensitive,a.end),d=r.match(l);if(!d)return null;let h=d[0],f=h.replace(/(.)\/+$/,"$1"),p=d.slice(1);return{params:o.reduce((g,{paramName:b,isOptional:w},T)=>{if(b==="*"){let C=p[T]||"";f=h.slice(0,h.length-C.length).replace(/(.)\/+$/,"$1")}const j=p[T];return w&&!j?g[b]=void 0:g[b]=(j||"").replace(/%2F/g,"/"),g},{}),pathname:h,pathnameBase:f,pattern:a}}function XN(a,r=!1,l=!0){wa(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let o=[],d="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,x)=>(o.push({paramName:p,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(o.push({paramName:"*"}),d+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?d+="\\/*$":a!==""&&a!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,r?void 0:"i"),o]}function JN(a){try{return a.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return wa(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),a}}function Ar(a,r){if(r==="/")return a;if(!a.toLowerCase().startsWith(r.toLowerCase()))return null;let l=r.endsWith("/")?r.length-1:r.length,o=a.charAt(l);return o&&o!=="/"?null:a.slice(l)||"/"}function WN(a,r="/"){let{pathname:l,search:o="",hash:d=""}=typeof a=="string"?ei(a):a;return{pathname:l?l.startsWith("/")?l:e1(l,r):r,search:a1(o),hash:r1(d)}}function e1(a,r){let l=r.replace(/\/+$/,"").split("/");return a.split("/").forEach(d=>{d===".."?l.length>1&&l.pop():d!=="."&&l.push(d)}),l.length>1?l.join("/"):"/"}function Wm(a,r,l,o){return`Cannot include a '${a}' character in a manually specified \`to.${r}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${l}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function t1(a){return a.filter((r,l)=>l===0||r.route.path&&r.route.path.length>0)}function l0(a){let r=t1(a);return r.map((l,o)=>o===r.length-1?l.pathname:l.pathnameBase)}function i0(a,r,l,o=!1){let d;typeof a=="string"?d=ei(a):(d={...a},$t(!d.pathname||!d.pathname.includes("?"),Wm("?","pathname","search",d)),$t(!d.pathname||!d.pathname.includes("#"),Wm("#","pathname","hash",d)),$t(!d.search||!d.search.includes("#"),Wm("#","search","hash",d)));let h=a===""||d.pathname==="",f=h?"/":d.pathname,p;if(f==null)p=l;else{let w=r.length-1;if(!o&&f.startsWith("..")){let T=f.split("/");for(;T[0]==="..";)T.shift(),w-=1;d.pathname=T.join("/")}p=w>=0?r[w]:"/"}let x=WN(d,p),g=f&&f!=="/"&&f.endsWith("/"),b=(h||f===".")&&l.endsWith("/");return!x.pathname.endsWith("/")&&(g||b)&&(x.pathname+="/"),x}var Cr=a=>a.join("/").replace(/\/\/+/g,"/"),s1=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),a1=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,r1=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function n1(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var dy=["POST","PUT","PATCH","DELETE"];new Set(dy);var l1=["GET",...dy];new Set(l1);var ti=u.createContext(null);ti.displayName="DataRouter";var yd=u.createContext(null);yd.displayName="DataRouterState";u.createContext(!1);var uy=u.createContext({isTransitioning:!1});uy.displayName="ViewTransition";var i1=u.createContext(new Map);i1.displayName="Fetchers";var o1=u.createContext(null);o1.displayName="Await";var Ba=u.createContext(null);Ba.displayName="Navigation";var wo=u.createContext(null);wo.displayName="Location";var Na=u.createContext({outlet:null,matches:[],isDataRoute:!1});Na.displayName="Route";var o0=u.createContext(null);o0.displayName="RouteError";function c1(a,{relative:r}={}){$t(si(),"useHref() may be used only in the context of a <Router> component.");let{basename:l,navigator:o}=u.useContext(Ba),{hash:d,pathname:h,search:f}=No(a,{relative:r}),p=h;return l!=="/"&&(p=h==="/"?l:Cr([l,h])),o.createHref({pathname:p,search:f,hash:d})}function si(){return u.useContext(wo)!=null}function na(){return $t(si(),"useLocation() may be used only in the context of a <Router> component."),u.useContext(wo).location}var my="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hy(a){u.useContext(Ba).static||u.useLayoutEffect(a)}function Sa(){let{isDataRoute:a}=u.useContext(Na);return a?C1():d1()}function d1(){$t(si(),"useNavigate() may be used only in the context of a <Router> component.");let a=u.useContext(ti),{basename:r,navigator:l}=u.useContext(Ba),{matches:o}=u.useContext(Na),{pathname:d}=na(),h=JSON.stringify(l0(o)),f=u.useRef(!1);return hy(()=>{f.current=!0}),u.useCallback((x,g={})=>{if(wa(f.current,my),!f.current)return;if(typeof x=="number"){l.go(x);return}let b=i0(x,JSON.parse(h),d,g.relative==="path");a==null&&r!=="/"&&(b.pathname=b.pathname==="/"?r:Cr([r,b.pathname])),(g.replace?l.replace:l.push)(b,g.state,g)},[r,l,h,d,a])}var u1=u.createContext(null);function m1(a){let r=u.useContext(Na).outlet;return u.useMemo(()=>r&&u.createElement(u1.Provider,{value:a},r),[r,a])}function h1(){let{matches:a}=u.useContext(Na),r=a[a.length-1];return r?r.params:{}}function No(a,{relative:r}={}){let{matches:l}=u.useContext(Na),{pathname:o}=na(),d=JSON.stringify(l0(l));return u.useMemo(()=>i0(a,JSON.parse(d),o,r==="path"),[a,d,o,r])}function f1(a,r){return fy(a,r)}function fy(a,r,l,o,d){var U;$t(si(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=u.useContext(Ba),{matches:f}=u.useContext(Na),p=f[f.length-1],x=p?p.params:{},g=p?p.pathname:"/",b=p?p.pathnameBase:"/",w=p&&p.route;{let y=w&&w.path||"";xy(g,!w||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let T=na(),j;if(r){let y=typeof r=="string"?ei(r):r;$t(b==="/"||((U=y.pathname)==null?void 0:U.startsWith(b)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${y.pathname}" was given in the \`location\` prop.`),j=y}else j=T;let C=j.pathname||"/",E=C;if(b!=="/"){let y=b.replace(/^\//,"").split("/");E="/"+C.replace(/^\//,"").split("/").slice(y.length).join("/")}let S=iy(a,{pathname:E});wa(w||S!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),wa(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=y1(S&&S.map(y=>Object.assign({},y,{params:Object.assign({},x,y.params),pathname:Cr([b,h.encodeLocation?h.encodeLocation(y.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?b:Cr([b,h.encodeLocation?h.encodeLocation(y.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:y.pathnameBase])})),f,l,o,d);return r&&D?u.createElement(wo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},D):D}function x1(){let a=S1(),r=n1(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),l=a instanceof Error?a.stack:null,o="rgba(200,200,200, 0.5)",d={padding:"0.5rem",backgroundColor:o},h={padding:"2px 4px",backgroundColor:o},f=null;return console.error("Error handled by React Router default ErrorBoundary:",a),f=u.createElement(u.Fragment,null,u.createElement("p",null," Hey developer "),u.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",u.createElement("code",{style:h},"ErrorBoundary")," or"," ",u.createElement("code",{style:h},"errorElement")," prop on your route.")),u.createElement(u.Fragment,null,u.createElement("h2",null,"Unexpected Application Error!"),u.createElement("h3",{style:{fontStyle:"italic"}},r),l?u.createElement("pre",{style:d},l):null,f)}var g1=u.createElement(x1,null),p1=class extends u.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,r){return r.location!==a.location||r.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:r.error,location:r.location,revalidation:a.revalidation||r.revalidation}}componentDidCatch(a,r){this.props.unstable_onError?this.props.unstable_onError(a,r):console.error("React Router caught the following error during render",a)}render(){return this.state.error!==void 0?u.createElement(Na.Provider,{value:this.props.routeContext},u.createElement(o0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function b1({routeContext:a,match:r,children:l}){let o=u.useContext(ti);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),u.createElement(Na.Provider,{value:a},l)}function y1(a,r=[],l=null,o=null,d=null){if(a==null){if(!l)return null;if(l.errors)a=l.matches;else if(r.length===0&&!l.initialized&&l.matches.length>0)a=l.matches;else return null}let h=a,f=l==null?void 0:l.errors;if(f!=null){let g=h.findIndex(b=>b.route.id&&(f==null?void 0:f[b.route.id])!==void 0);$t(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),h=h.slice(0,Math.min(h.length,g+1))}let p=!1,x=-1;if(l)for(let g=0;g<h.length;g++){let b=h[g];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(x=g),b.route.id){let{loaderData:w,errors:T}=l,j=b.route.loader&&!w.hasOwnProperty(b.route.id)&&(!T||T[b.route.id]===void 0);if(b.route.lazy||j){p=!0,x>=0?h=h.slice(0,x+1):h=[h[0]];break}}}return h.reduceRight((g,b,w)=>{let T,j=!1,C=null,E=null;l&&(T=f&&b.route.id?f[b.route.id]:void 0,C=b.route.errorElement||g1,p&&(x<0&&w===0?(xy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,E=null):x===w&&(j=!0,E=b.route.hydrateFallbackElement||null)));let S=r.concat(h.slice(0,w+1)),D=()=>{let U;return T?U=C:j?U=E:b.route.Component?U=u.createElement(b.route.Component,null):b.route.element?U=b.route.element:U=g,u.createElement(b1,{match:b,routeContext:{outlet:g,matches:S,isDataRoute:l!=null},children:U})};return l&&(b.route.ErrorBoundary||b.route.errorElement||w===0)?u.createElement(p1,{location:l.location,revalidation:l.revalidation,component:C,error:T,children:D(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:o}):D()},null)}function c0(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function v1(a){let r=u.useContext(ti);return $t(r,c0(a)),r}function j1(a){let r=u.useContext(yd);return $t(r,c0(a)),r}function w1(a){let r=u.useContext(Na);return $t(r,c0(a)),r}function d0(a){let r=w1(a),l=r.matches[r.matches.length-1];return $t(l.route.id,`${a} can only be used on routes that contain a unique "id"`),l.route.id}function N1(){return d0("useRouteId")}function S1(){var o;let a=u.useContext(o0),r=j1("useRouteError"),l=d0("useRouteError");return a!==void 0?a:(o=r.errors)==null?void 0:o[l]}function C1(){let{router:a}=v1("useNavigate"),r=d0("useNavigate"),l=u.useRef(!1);return hy(()=>{l.current=!0}),u.useCallback(async(d,h={})=>{wa(l.current,my),l.current&&(typeof d=="number"?a.navigate(d):await a.navigate(d,{fromRouteId:r,...h}))},[a,r])}var $p={};function xy(a,r,l){!r&&!$p[a]&&($p[a]=!0,wa(!1,l))}u.memo(k1);function k1({routes:a,future:r,state:l,unstable_onError:o}){return fy(a,void 0,l,o,r)}function lo({to:a,replace:r,state:l,relative:o}){$t(si(),"<Navigate> may be used only in the context of a <Router> component.");let{static:d}=u.useContext(Ba);wa(!d,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=u.useContext(Na),{pathname:f}=na(),p=Sa(),x=i0(a,l0(h),f,o==="path"),g=JSON.stringify(x);return u.useEffect(()=>{p(JSON.parse(g),{replace:r,state:l,relative:o})},[p,g,o,r,l]),null}function E1(a){return m1(a.context)}function ft(a){$t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function T1({basename:a="/",children:r=null,location:l,navigationType:o="POP",navigator:d,static:h=!1}){$t(!si(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=a.replace(/^\/*/,"/"),p=u.useMemo(()=>({basename:f,navigator:d,static:h,future:{}}),[f,d,h]);typeof l=="string"&&(l=ei(l));let{pathname:x="/",search:g="",hash:b="",state:w=null,key:T="default"}=l,j=u.useMemo(()=>{let C=Ar(x,f);return C==null?null:{location:{pathname:C,search:g,hash:b,state:w,key:T},navigationType:o}},[f,x,g,b,w,T,o]);return wa(j!=null,`<Router basename="${f}"> is not able to match the URL "${x}${g}${b}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:u.createElement(Ba.Provider,{value:p},u.createElement(wo.Provider,{children:r,value:j}))}function A1({children:a,location:r}){return f1(Uh(a),r)}function Uh(a,r=[]){let l=[];return u.Children.forEach(a,(o,d)=>{if(!u.isValidElement(o))return;let h=[...r,d];if(o.type===u.Fragment){l.push.apply(l,Uh(o.props.children,h));return}$t(o.type===ft,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$t(!o.props.index||!o.props.children,"An index route cannot have child routes.");let f={id:o.props.id||h.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(f.children=Uh(o.props.children,h)),l.push(f)}),l}var ad="get",rd="application/x-www-form-urlencoded";function vd(a){return a!=null&&typeof a.tagName=="string"}function R1(a){return vd(a)&&a.tagName.toLowerCase()==="button"}function D1(a){return vd(a)&&a.tagName.toLowerCase()==="form"}function M1(a){return vd(a)&&a.tagName.toLowerCase()==="input"}function F1(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function O1(a,r){return a.button===0&&(!r||r==="_self")&&!F1(a)}function zh(a=""){return new URLSearchParams(typeof a=="string"||Array.isArray(a)||a instanceof URLSearchParams?a:Object.keys(a).reduce((r,l)=>{let o=a[l];return r.concat(Array.isArray(o)?o.map(d=>[l,d]):[[l,o]])},[]))}function L1(a,r){let l=zh(a);return r&&r.forEach((o,d)=>{l.has(d)||r.getAll(d).forEach(h=>{l.append(d,h)})}),l}var Yc=null;function U1(){if(Yc===null)try{new FormData(document.createElement("form"),0),Yc=!1}catch{Yc=!0}return Yc}var z1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function eh(a){return a!=null&&!z1.has(a)?(wa(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rd}"`),null):a}function B1(a,r){let l,o,d,h,f;if(D1(a)){let p=a.getAttribute("action");o=p?Ar(p,r):null,l=a.getAttribute("method")||ad,d=eh(a.getAttribute("enctype"))||rd,h=new FormData(a)}else if(R1(a)||M1(a)&&(a.type==="submit"||a.type==="image")){let p=a.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=a.getAttribute("formaction")||p.getAttribute("action");if(o=x?Ar(x,r):null,l=a.getAttribute("formmethod")||p.getAttribute("method")||ad,d=eh(a.getAttribute("formenctype"))||eh(p.getAttribute("enctype"))||rd,h=new FormData(p,a),!U1()){let{name:g,type:b,value:w}=a;if(b==="image"){let T=g?`${g}.`:"";h.append(`${T}x`,"0"),h.append(`${T}y`,"0")}else g&&h.append(g,w)}}else{if(vd(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');l=ad,o=null,d=rd,f=a}return h&&d==="text/plain"&&(f=h,h=void 0),{action:o,method:l.toLowerCase(),encType:d,formData:h,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function u0(a,r){if(a===!1||a===null||typeof a>"u")throw new Error(r)}function P1(a,r,l){let o=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return o.pathname==="/"?o.pathname=`_root.${l}`:r&&Ar(o.pathname,r)==="/"?o.pathname=`${r.replace(/\/$/,"")}/_root.${l}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${l}`,o}async function q1(a,r){if(a.id in r)return r[a.id];try{let l=await import(a.module);return r[a.id]=l,l}catch(l){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(l),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $1(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function H1(a,r,l){let o=await Promise.all(a.map(async d=>{let h=r.routes[d.route.id];if(h){let f=await q1(h,l);return f.links?f.links():[]}return[]}));return G1(o.flat(1).filter($1).filter(d=>d.rel==="stylesheet"||d.rel==="preload").map(d=>d.rel==="stylesheet"?{...d,rel:"prefetch",as:"style"}:{...d,rel:"prefetch"}))}function Hp(a,r,l,o,d,h){let f=(x,g)=>l[g]?x.route.id!==l[g].route.id:!0,p=(x,g)=>{var b;return l[g].pathname!==x.pathname||((b=l[g].route.path)==null?void 0:b.endsWith("*"))&&l[g].params["*"]!==x.params["*"]};return h==="assets"?r.filter((x,g)=>f(x,g)||p(x,g)):h==="data"?r.filter((x,g)=>{var w;let b=o.routes[x.route.id];if(!b||!b.hasLoader)return!1;if(f(x,g)||p(x,g))return!0;if(x.route.shouldRevalidate){let T=x.route.shouldRevalidate({currentUrl:new URL(d.pathname+d.search+d.hash,window.origin),currentParams:((w=l[0])==null?void 0:w.params)||{},nextUrl:new URL(a,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function _1(a,r,{includeHydrateFallback:l}={}){return I1(a.map(o=>{let d=r.routes[o.route.id];if(!d)return[];let h=[d.module];return d.clientActionModule&&(h=h.concat(d.clientActionModule)),d.clientLoaderModule&&(h=h.concat(d.clientLoaderModule)),l&&d.hydrateFallbackModule&&(h=h.concat(d.hydrateFallbackModule)),d.imports&&(h=h.concat(d.imports)),h}).flat(1))}function I1(a){return[...new Set(a)]}function Q1(a){let r={},l=Object.keys(a).sort();for(let o of l)r[o]=a[o];return r}function G1(a,r){let l=new Set;return new Set(r),a.reduce((o,d)=>{let h=JSON.stringify(Q1(d));return l.has(h)||(l.add(h),o.push({key:h,link:d})),o},[])}function gy(){let a=u.useContext(ti);return u0(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function Y1(){let a=u.useContext(yd);return u0(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var m0=u.createContext(void 0);m0.displayName="FrameworkContext";function py(){let a=u.useContext(m0);return u0(a,"You must render this element inside a <HydratedRouter> element"),a}function V1(a,r){let l=u.useContext(m0),[o,d]=u.useState(!1),[h,f]=u.useState(!1),{onFocus:p,onBlur:x,onMouseEnter:g,onMouseLeave:b,onTouchStart:w}=r,T=u.useRef(null);u.useEffect(()=>{if(a==="render"&&f(!0),a==="viewport"){let E=D=>{D.forEach(U=>{f(U.isIntersecting)})},S=new IntersectionObserver(E,{threshold:.5});return T.current&&S.observe(T.current),()=>{S.disconnect()}}},[a]),u.useEffect(()=>{if(o){let E=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(E)}}},[o]);let j=()=>{d(!0)},C=()=>{d(!1),f(!1)};return l?a!=="intent"?[h,T,{}]:[h,T,{onFocus:Xi(p,j),onBlur:Xi(x,C),onMouseEnter:Xi(g,j),onMouseLeave:Xi(b,C),onTouchStart:Xi(w,j)}]:[!1,T,{}]}function Xi(a,r){return l=>{a&&a(l),l.defaultPrevented||r(l)}}function K1({page:a,...r}){let{router:l}=gy(),o=u.useMemo(()=>iy(l.routes,a,l.basename),[l.routes,a,l.basename]);return o?u.createElement(X1,{page:a,matches:o,...r}):null}function Z1(a){let{manifest:r,routeModules:l}=py(),[o,d]=u.useState([]);return u.useEffect(()=>{let h=!1;return H1(a,r,l).then(f=>{h||d(f)}),()=>{h=!0}},[a,r,l]),o}function X1({page:a,matches:r,...l}){let o=na(),{manifest:d,routeModules:h}=py(),{basename:f}=gy(),{loaderData:p,matches:x}=Y1(),g=u.useMemo(()=>Hp(a,r,x,d,o,"data"),[a,r,x,d,o]),b=u.useMemo(()=>Hp(a,r,x,d,o,"assets"),[a,r,x,d,o]),w=u.useMemo(()=>{if(a===o.pathname+o.search+o.hash)return[];let C=new Set,E=!1;if(r.forEach(D=>{var y;let U=d.routes[D.route.id];!U||!U.hasLoader||(!g.some(F=>F.route.id===D.route.id)&&D.route.id in p&&((y=h[D.route.id])!=null&&y.shouldRevalidate)||U.hasClientLoader?E=!0:C.add(D.route.id))}),C.size===0)return[];let S=P1(a,f,"data");return E&&C.size>0&&S.searchParams.set("_routes",r.filter(D=>C.has(D.route.id)).map(D=>D.route.id).join(",")),[S.pathname+S.search]},[f,p,o,d,g,r,a,h]),T=u.useMemo(()=>_1(b,d),[b,d]),j=Z1(b);return u.createElement(u.Fragment,null,w.map(C=>u.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...l})),T.map(C=>u.createElement("link",{key:C,rel:"modulepreload",href:C,...l})),j.map(({key:C,link:E})=>u.createElement("link",{key:C,nonce:l.nonce,...E})))}function J1(...a){return r=>{a.forEach(l=>{typeof l=="function"?l(r):l!=null&&(l.current=r)})}}var by=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{by&&(window.__reactRouterVersion="7.9.5")}catch{}function W1({basename:a,children:r,window:l}){let o=u.useRef();o.current==null&&(o.current=UN({window:l,v5Compat:!0}));let d=o.current,[h,f]=u.useState({action:d.action,location:d.location}),p=u.useCallback(x=>{u.startTransition(()=>f(x))},[f]);return u.useLayoutEffect(()=>d.listen(p),[d,p]),u.createElement(T1,{basename:a,children:r,location:h.location,navigationType:h.action,navigator:d})}var yy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,io=u.forwardRef(function({onClick:r,discover:l="render",prefetch:o="none",relative:d,reloadDocument:h,replace:f,state:p,target:x,to:g,preventScrollReset:b,viewTransition:w,...T},j){let{basename:C}=u.useContext(Ba),E=typeof g=="string"&&yy.test(g),S,D=!1;if(typeof g=="string"&&E&&(S=g,by))try{let ne=new URL(window.location.href),_=g.startsWith("//")?new URL(ne.protocol+g):new URL(g),we=Ar(_.pathname,C);_.origin===ne.origin&&we!=null?g=we+_.search+_.hash:D=!0}catch{wa(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=c1(g,{relative:d}),[y,F,te]=V1(o,T),z=a2(g,{replace:f,state:p,target:x,preventScrollReset:b,relative:d,viewTransition:w});function k(ne){r&&r(ne),ne.defaultPrevented||z(ne)}let K=u.createElement("a",{...T,...te,href:S||U,onClick:D||h?r:k,ref:J1(j,F),target:x,"data-discover":!E&&l==="render"?"true":void 0});return y&&!E?u.createElement(u.Fragment,null,K,u.createElement(K1,{page:U})):K});io.displayName="Link";var e2=u.forwardRef(function({"aria-current":r="page",caseSensitive:l=!1,className:o="",end:d=!1,style:h,to:f,viewTransition:p,children:x,...g},b){let w=No(f,{relative:g.relative}),T=na(),j=u.useContext(yd),{navigator:C,basename:E}=u.useContext(Ba),S=j!=null&&c2(w)&&p===!0,D=C.encodeLocation?C.encodeLocation(w).pathname:w.pathname,U=T.pathname,y=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;l||(U=U.toLowerCase(),y=y?y.toLowerCase():null,D=D.toLowerCase()),y&&E&&(y=Ar(y,E)||y);const F=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let te=U===D||!d&&U.startsWith(D)&&U.charAt(F)==="/",z=y!=null&&(y===D||!d&&y.startsWith(D)&&y.charAt(D.length)==="/"),k={isActive:te,isPending:z,isTransitioning:S},K=te?r:void 0,ne;typeof o=="function"?ne=o(k):ne=[o,te?"active":null,z?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let _=typeof h=="function"?h(k):h;return u.createElement(io,{...g,"aria-current":K,className:ne,ref:b,style:_,to:f,viewTransition:p},typeof x=="function"?x(k):x)});e2.displayName="NavLink";var t2=u.forwardRef(({discover:a="render",fetcherKey:r,navigate:l,reloadDocument:o,replace:d,state:h,method:f=ad,action:p,onSubmit:x,relative:g,preventScrollReset:b,viewTransition:w,...T},j)=>{let C=i2(),E=o2(p,{relative:g}),S=f.toLowerCase()==="get"?"get":"post",D=typeof p=="string"&&yy.test(p),U=y=>{if(x&&x(y),y.defaultPrevented)return;y.preventDefault();let F=y.nativeEvent.submitter,te=(F==null?void 0:F.getAttribute("formmethod"))||f;C(F||y.currentTarget,{fetcherKey:r,method:te,navigate:l,replace:d,state:h,relative:g,preventScrollReset:b,viewTransition:w})};return u.createElement("form",{ref:j,method:S,action:E,onSubmit:o?x:U,...T,"data-discover":!D&&a==="render"?"true":void 0})});t2.displayName="Form";function s2(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vy(a){let r=u.useContext(ti);return $t(r,s2(a)),r}function a2(a,{target:r,replace:l,state:o,preventScrollReset:d,relative:h,viewTransition:f}={}){let p=Sa(),x=na(),g=No(a,{relative:h});return u.useCallback(b=>{if(O1(b,r)){b.preventDefault();let w=l!==void 0?l:go(x)===go(g);p(a,{replace:w,state:o,preventScrollReset:d,relative:h,viewTransition:f})}},[x,p,g,l,o,r,a,d,h,f])}function r2(a){wa(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let r=u.useRef(zh(a)),l=u.useRef(!1),o=na(),d=u.useMemo(()=>L1(o.search,l.current?null:r.current),[o.search]),h=Sa(),f=u.useCallback((p,x)=>{const g=zh(typeof p=="function"?p(new URLSearchParams(d)):p);l.current=!0,h("?"+g,x)},[h,d]);return[d,f]}var n2=0,l2=()=>`__${String(++n2)}__`;function i2(){let{router:a}=vy("useSubmit"),{basename:r}=u.useContext(Ba),l=N1();return u.useCallback(async(o,d={})=>{let{action:h,method:f,encType:p,formData:x,body:g}=B1(o,r);if(d.navigate===!1){let b=d.fetcherKey||l2();await a.fetch(b,l,d.action||h,{preventScrollReset:d.preventScrollReset,formData:x,body:g,formMethod:d.method||f,formEncType:d.encType||p,flushSync:d.flushSync})}else await a.navigate(d.action||h,{preventScrollReset:d.preventScrollReset,formData:x,body:g,formMethod:d.method||f,formEncType:d.encType||p,replace:d.replace,state:d.state,fromRouteId:l,flushSync:d.flushSync,viewTransition:d.viewTransition})},[a,r,l])}function o2(a,{relative:r}={}){let{basename:l}=u.useContext(Ba),o=u.useContext(Na);$t(o,"useFormAction must be used inside a RouteContext");let[d]=o.matches.slice(-1),h={...No(a||".",{relative:r})},f=na();if(a==null){h.search=f.search;let p=new URLSearchParams(h.search),x=p.getAll("index");if(x.some(b=>b==="")){p.delete("index"),x.filter(w=>w).forEach(w=>p.append("index",w));let b=p.toString();h.search=b?`?${b}`:""}}return(!a||a===".")&&d.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),l!=="/"&&(h.pathname=h.pathname==="/"?l:Cr([l,h.pathname])),go(h)}function c2(a,{relative:r}={}){let l=u.useContext(uy);$t(l!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=vy("useViewTransitionState"),d=No(a,{relative:r});if(!l.isTransitioning)return!1;let h=Ar(l.currentLocation.pathname,o)||l.currentLocation.pathname,f=Ar(l.nextLocation.pathname,o)||l.nextLocation.pathname;return ud(d.pathname,f)!=null||ud(d.pathname,h)!=null}var jy=Vb();const d2=Yb(jy);var u2=a=>{switch(a){case"success":return f2;case"info":return g2;case"warning":return x2;case"error":return p2;default:return null}},m2=Array(12).fill(0),h2=({visible:a,className:r})=>ge.createElement("div",{className:["sonner-loading-wrapper",r].filter(Boolean).join(" "),"data-visible":a},ge.createElement("div",{className:"sonner-spinner"},m2.map((l,o)=>ge.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${o}`})))),f2=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ge.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),x2=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ge.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),g2=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ge.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),p2=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ge.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),b2=ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ge.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ge.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),y2=()=>{let[a,r]=ge.useState(document.hidden);return ge.useEffect(()=>{let l=()=>{r(document.hidden)};return document.addEventListener("visibilitychange",l),()=>window.removeEventListener("visibilitychange",l)},[]),a},Bh=1,v2=class{constructor(){this.subscribe=a=>(this.subscribers.push(a),()=>{let r=this.subscribers.indexOf(a);this.subscribers.splice(r,1)}),this.publish=a=>{this.subscribers.forEach(r=>r(a))},this.addToast=a=>{this.publish(a),this.toasts=[...this.toasts,a]},this.create=a=>{var r;let{message:l,...o}=a,d=typeof(a==null?void 0:a.id)=="number"||((r=a.id)==null?void 0:r.length)>0?a.id:Bh++,h=this.toasts.find(p=>p.id===d),f=a.dismissible===void 0?!0:a.dismissible;return this.dismissedToasts.has(d)&&this.dismissedToasts.delete(d),h?this.toasts=this.toasts.map(p=>p.id===d?(this.publish({...p,...a,id:d,title:l}),{...p,...a,id:d,dismissible:f,title:l}):p):this.addToast({title:l,...o,dismissible:f,id:d}),d},this.dismiss=a=>(this.dismissedToasts.add(a),a||this.toasts.forEach(r=>{this.subscribers.forEach(l=>l({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:a,dismiss:!0})),a),this.message=(a,r)=>this.create({...r,message:a}),this.error=(a,r)=>this.create({...r,message:a,type:"error"}),this.success=(a,r)=>this.create({...r,type:"success",message:a}),this.info=(a,r)=>this.create({...r,type:"info",message:a}),this.warning=(a,r)=>this.create({...r,type:"warning",message:a}),this.loading=(a,r)=>this.create({...r,type:"loading",message:a}),this.promise=(a,r)=>{if(!r)return;let l;r.loading!==void 0&&(l=this.create({...r,promise:a,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let o=a instanceof Promise?a:a(),d=l!==void 0,h,f=o.then(async x=>{if(h=["resolve",x],ge.isValidElement(x))d=!1,this.create({id:l,type:"default",message:x});else if(w2(x)&&!x.ok){d=!1;let g=typeof r.error=="function"?await r.error(`HTTP error! status: ${x.status}`):r.error,b=typeof r.description=="function"?await r.description(`HTTP error! status: ${x.status}`):r.description;this.create({id:l,type:"error",message:g,description:b})}else if(r.success!==void 0){d=!1;let g=typeof r.success=="function"?await r.success(x):r.success,b=typeof r.description=="function"?await r.description(x):r.description;this.create({id:l,type:"success",message:g,description:b})}}).catch(async x=>{if(h=["reject",x],r.error!==void 0){d=!1;let g=typeof r.error=="function"?await r.error(x):r.error,b=typeof r.description=="function"?await r.description(x):r.description;this.create({id:l,type:"error",message:g,description:b})}}).finally(()=>{var x;d&&(this.dismiss(l),l=void 0),(x=r.finally)==null||x.call(r)}),p=()=>new Promise((x,g)=>f.then(()=>h[0]==="reject"?g(h[1]):x(h[1])).catch(g));return typeof l!="string"&&typeof l!="number"?{unwrap:p}:Object.assign(l,{unwrap:p})},this.custom=(a,r)=>{let l=(r==null?void 0:r.id)||Bh++;return this.create({jsx:a(l),id:l,...r}),l},this.getActiveToasts=()=>this.toasts.filter(a=>!this.dismissedToasts.has(a.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Hs=new v2,j2=(a,r)=>{let l=(r==null?void 0:r.id)||Bh++;return Hs.addToast({title:a,...r,id:l}),l},w2=a=>a&&typeof a=="object"&&"ok"in a&&typeof a.ok=="boolean"&&"status"in a&&typeof a.status=="number",N2=j2,S2=()=>Hs.toasts,C2=()=>Hs.getActiveToasts(),pe=Object.assign(N2,{success:Hs.success,info:Hs.info,warning:Hs.warning,error:Hs.error,custom:Hs.custom,message:Hs.message,promise:Hs.promise,dismiss:Hs.dismiss,loading:Hs.loading},{getHistory:S2,getToasts:C2});function k2(a,{insertAt:r}={}){if(typeof document>"u")return;let l=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",r==="top"&&l.firstChild?l.insertBefore(o,l.firstChild):l.appendChild(o),o.styleSheet?o.styleSheet.cssText=a:o.appendChild(document.createTextNode(a))}k2(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Vc(a){return a.label!==void 0}var E2=3,T2="32px",A2="16px",_p=4e3,R2=356,D2=14,M2=20,F2=200;function Da(...a){return a.filter(Boolean).join(" ")}function O2(a){let[r,l]=a.split("-"),o=[];return r&&o.push(r),l&&o.push(l),o}var L2=a=>{var r,l,o,d,h,f,p,x,g,b,w;let{invert:T,toast:j,unstyled:C,interacting:E,setHeights:S,visibleToasts:D,heights:U,index:y,toasts:F,expanded:te,removeToast:z,defaultRichColors:k,closeButton:K,style:ne,cancelButtonStyle:_,actionButtonStyle:we,className:Y="",descriptionClassName:L="",duration:O,position:be,gap:I,loadingIcon:se,expandByDefault:de,classNames:V,icons:je,closeButtonAriaLabel:B="Close toast",pauseWhenPageIsHidden:R}=a,[$,W]=ge.useState(null),[he,Se]=ge.useState(null),[Me,fe]=ge.useState(!1),[Re,_e]=ge.useState(!1),[Ye,Je]=ge.useState(!1),[re,ke]=ge.useState(!1),[Fe,Ge]=ge.useState(!1),[Ve,q]=ge.useState(0),[ye,De]=ge.useState(0),N=ge.useRef(j.duration||O||_p),G=ge.useRef(null),P=ge.useRef(null),Te=y===0,Ae=y+1<=D,J=j.type,xe=j.dismissible!==!1,ze=j.className||"",ae=j.descriptionClassName||"",$e=ge.useMemo(()=>U.findIndex(Xe=>Xe.toastId===j.id)||0,[U,j.id]),Qe=ge.useMemo(()=>{var Xe;return(Xe=j.closeButton)!=null?Xe:K},[j.closeButton,K]),Yt=ge.useMemo(()=>j.duration||O||_p,[j.duration,O]),Ot=ge.useRef(0),ot=ge.useRef(0),Nt=ge.useRef(0),St=ge.useRef(null),[Ks,Zs]=be.split("-"),et=ge.useMemo(()=>U.reduce((Xe,gt,jt)=>jt>=$e?Xe:Xe+gt.height,0),[U,$e]),cs=y2(),xs=j.invert||T,ds=J==="loading";ot.current=ge.useMemo(()=>$e*I+et,[$e,et]),ge.useEffect(()=>{N.current=Yt},[Yt]),ge.useEffect(()=>{fe(!0)},[]),ge.useEffect(()=>{let Xe=P.current;if(Xe){let gt=Xe.getBoundingClientRect().height;return De(gt),S(jt=>[{toastId:j.id,height:gt,position:j.position},...jt]),()=>S(jt=>jt.filter(ls=>ls.toastId!==j.id))}},[S,j.id]),ge.useLayoutEffect(()=>{if(!Me)return;let Xe=P.current,gt=Xe.style.height;Xe.style.height="auto";let jt=Xe.getBoundingClientRect().height;Xe.style.height=gt,De(jt),S(ls=>ls.find(Vt=>Vt.toastId===j.id)?ls.map(Vt=>Vt.toastId===j.id?{...Vt,height:jt}:Vt):[{toastId:j.id,height:jt,position:j.position},...ls])},[Me,j.title,j.description,S,j.id]);let Ct=ge.useCallback(()=>{_e(!0),q(ot.current),S(Xe=>Xe.filter(gt=>gt.toastId!==j.id)),setTimeout(()=>{z(j)},F2)},[j,z,S,ot]);ge.useEffect(()=>{if(j.promise&&J==="loading"||j.duration===1/0||j.type==="loading")return;let Xe;return te||E||R&&cs?(()=>{if(Nt.current<Ot.current){let gt=new Date().getTime()-Ot.current;N.current=N.current-gt}Nt.current=new Date().getTime()})():N.current!==1/0&&(Ot.current=new Date().getTime(),Xe=setTimeout(()=>{var gt;(gt=j.onAutoClose)==null||gt.call(j,j),Ct()},N.current)),()=>clearTimeout(Xe)},[te,E,j,J,R,cs,Ct]),ge.useEffect(()=>{j.delete&&Ct()},[Ct,j.delete]);function ka(){var Xe,gt,jt;return je!=null&&je.loading?ge.createElement("div",{className:Da(V==null?void 0:V.loader,(Xe=j==null?void 0:j.classNames)==null?void 0:Xe.loader,"sonner-loader"),"data-visible":J==="loading"},je.loading):se?ge.createElement("div",{className:Da(V==null?void 0:V.loader,(gt=j==null?void 0:j.classNames)==null?void 0:gt.loader,"sonner-loader"),"data-visible":J==="loading"},se):ge.createElement(h2,{className:Da(V==null?void 0:V.loader,(jt=j==null?void 0:j.classNames)==null?void 0:jt.loader),visible:J==="loading"})}return ge.createElement("li",{tabIndex:0,ref:P,className:Da(Y,ze,V==null?void 0:V.toast,(r=j==null?void 0:j.classNames)==null?void 0:r.toast,V==null?void 0:V.default,V==null?void 0:V[J],(l=j==null?void 0:j.classNames)==null?void 0:l[J]),"data-sonner-toast":"","data-rich-colors":(o=j.richColors)!=null?o:k,"data-styled":!(j.jsx||j.unstyled||C),"data-mounted":Me,"data-promise":!!j.promise,"data-swiped":Fe,"data-removed":Re,"data-visible":Ae,"data-y-position":Ks,"data-x-position":Zs,"data-index":y,"data-front":Te,"data-swiping":Ye,"data-dismissible":xe,"data-type":J,"data-invert":xs,"data-swipe-out":re,"data-swipe-direction":he,"data-expanded":!!(te||de&&Me),style:{"--index":y,"--toasts-before":y,"--z-index":F.length-y,"--offset":`${Re?Ve:ot.current}px`,"--initial-height":de?"auto":`${ye}px`,...ne,...j.style},onDragEnd:()=>{Je(!1),W(null),St.current=null},onPointerDown:Xe=>{ds||!xe||(G.current=new Date,q(ot.current),Xe.target.setPointerCapture(Xe.pointerId),Xe.target.tagName!=="BUTTON"&&(Je(!0),St.current={x:Xe.clientX,y:Xe.clientY}))},onPointerUp:()=>{var Xe,gt,jt,ls;if(re||!xe)return;St.current=null;let Vt=Number(((Xe=P.current)==null?void 0:Xe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Fs=Number(((gt=P.current)==null?void 0:gt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),X=new Date().getTime()-((jt=G.current)==null?void 0:jt.getTime()),Ee=$==="x"?Vt:Fs,st=Math.abs(Ee)/X;if(Math.abs(Ee)>=M2||st>.11){q(ot.current),(ls=j.onDismiss)==null||ls.call(j,j),Se($==="x"?Vt>0?"right":"left":Fs>0?"down":"up"),Ct(),ke(!0),Ge(!1);return}Je(!1),W(null)},onPointerMove:Xe=>{var gt,jt,ls,Vt;if(!St.current||!xe||((gt=window.getSelection())==null?void 0:gt.toString().length)>0)return;let Fs=Xe.clientY-St.current.y,X=Xe.clientX-St.current.x,Ee=(jt=a.swipeDirections)!=null?jt:O2(be);!$&&(Math.abs(X)>1||Math.abs(Fs)>1)&&W(Math.abs(X)>Math.abs(Fs)?"x":"y");let st={x:0,y:0};$==="y"?(Ee.includes("top")||Ee.includes("bottom"))&&(Ee.includes("top")&&Fs<0||Ee.includes("bottom")&&Fs>0)&&(st.y=Fs):$==="x"&&(Ee.includes("left")||Ee.includes("right"))&&(Ee.includes("left")&&X<0||Ee.includes("right")&&X>0)&&(st.x=X),(Math.abs(st.x)>0||Math.abs(st.y)>0)&&Ge(!0),(ls=P.current)==null||ls.style.setProperty("--swipe-amount-x",`${st.x}px`),(Vt=P.current)==null||Vt.style.setProperty("--swipe-amount-y",`${st.y}px`)}},Qe&&!j.jsx?ge.createElement("button",{"aria-label":B,"data-disabled":ds,"data-close-button":!0,onClick:ds||!xe?()=>{}:()=>{var Xe;Ct(),(Xe=j.onDismiss)==null||Xe.call(j,j)},className:Da(V==null?void 0:V.closeButton,(d=j==null?void 0:j.classNames)==null?void 0:d.closeButton)},(h=je==null?void 0:je.close)!=null?h:b2):null,j.jsx||u.isValidElement(j.title)?j.jsx?j.jsx:typeof j.title=="function"?j.title():j.title:ge.createElement(ge.Fragment,null,J||j.icon||j.promise?ge.createElement("div",{"data-icon":"",className:Da(V==null?void 0:V.icon,(f=j==null?void 0:j.classNames)==null?void 0:f.icon)},j.promise||j.type==="loading"&&!j.icon?j.icon||ka():null,j.type!=="loading"?j.icon||(je==null?void 0:je[J])||u2(J):null):null,ge.createElement("div",{"data-content":"",className:Da(V==null?void 0:V.content,(p=j==null?void 0:j.classNames)==null?void 0:p.content)},ge.createElement("div",{"data-title":"",className:Da(V==null?void 0:V.title,(x=j==null?void 0:j.classNames)==null?void 0:x.title)},typeof j.title=="function"?j.title():j.title),j.description?ge.createElement("div",{"data-description":"",className:Da(L,ae,V==null?void 0:V.description,(g=j==null?void 0:j.classNames)==null?void 0:g.description)},typeof j.description=="function"?j.description():j.description):null),u.isValidElement(j.cancel)?j.cancel:j.cancel&&Vc(j.cancel)?ge.createElement("button",{"data-button":!0,"data-cancel":!0,style:j.cancelButtonStyle||_,onClick:Xe=>{var gt,jt;Vc(j.cancel)&&xe&&((jt=(gt=j.cancel).onClick)==null||jt.call(gt,Xe),Ct())},className:Da(V==null?void 0:V.cancelButton,(b=j==null?void 0:j.classNames)==null?void 0:b.cancelButton)},j.cancel.label):null,u.isValidElement(j.action)?j.action:j.action&&Vc(j.action)?ge.createElement("button",{"data-button":!0,"data-action":!0,style:j.actionButtonStyle||we,onClick:Xe=>{var gt,jt;Vc(j.action)&&((jt=(gt=j.action).onClick)==null||jt.call(gt,Xe),!Xe.defaultPrevented&&Ct())},className:Da(V==null?void 0:V.actionButton,(w=j==null?void 0:j.classNames)==null?void 0:w.actionButton)},j.action.label):null))};function Ip(){if(typeof window>"u"||typeof document>"u")return"ltr";let a=document.documentElement.getAttribute("dir");return a==="auto"||!a?window.getComputedStyle(document.documentElement).direction:a}function U2(a,r){let l={};return[a,r].forEach((o,d)=>{let h=d===1,f=h?"--mobile-offset":"--offset",p=h?A2:T2;function x(g){["top","right","bottom","left"].forEach(b=>{l[`${f}-${b}`]=typeof g=="number"?`${g}px`:g})}typeof o=="number"||typeof o=="string"?x(o):typeof o=="object"?["top","right","bottom","left"].forEach(g=>{o[g]===void 0?l[`${f}-${g}`]=p:l[`${f}-${g}`]=typeof o[g]=="number"?`${o[g]}px`:o[g]}):x(p)}),l}var z2=u.forwardRef(function(a,r){let{invert:l,position:o="bottom-right",hotkey:d=["altKey","KeyT"],expand:h,closeButton:f,className:p,offset:x,mobileOffset:g,theme:b="light",richColors:w,duration:T,style:j,visibleToasts:C=E2,toastOptions:E,dir:S=Ip(),gap:D=D2,loadingIcon:U,icons:y,containerAriaLabel:F="Notifications",pauseWhenPageIsHidden:te}=a,[z,k]=ge.useState([]),K=ge.useMemo(()=>Array.from(new Set([o].concat(z.filter(R=>R.position).map(R=>R.position)))),[z,o]),[ne,_]=ge.useState([]),[we,Y]=ge.useState(!1),[L,O]=ge.useState(!1),[be,I]=ge.useState(b!=="system"?b:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),se=ge.useRef(null),de=d.join("+").replace(/Key/g,"").replace(/Digit/g,""),V=ge.useRef(null),je=ge.useRef(!1),B=ge.useCallback(R=>{k($=>{var W;return(W=$.find(he=>he.id===R.id))!=null&&W.delete||Hs.dismiss(R.id),$.filter(({id:he})=>he!==R.id)})},[]);return ge.useEffect(()=>Hs.subscribe(R=>{if(R.dismiss){k($=>$.map(W=>W.id===R.id?{...W,delete:!0}:W));return}setTimeout(()=>{d2.flushSync(()=>{k($=>{let W=$.findIndex(he=>he.id===R.id);return W!==-1?[...$.slice(0,W),{...$[W],...R},...$.slice(W+1)]:[R,...$]})})})}),[]),ge.useEffect(()=>{if(b!=="system"){I(b);return}if(b==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?I("dark"):I("light")),typeof window>"u")return;let R=window.matchMedia("(prefers-color-scheme: dark)");try{R.addEventListener("change",({matches:$})=>{I($?"dark":"light")})}catch{R.addListener(({matches:W})=>{try{I(W?"dark":"light")}catch(he){console.error(he)}})}},[b]),ge.useEffect(()=>{z.length<=1&&Y(!1)},[z]),ge.useEffect(()=>{let R=$=>{var W,he;d.every(Se=>$[Se]||$.code===Se)&&(Y(!0),(W=se.current)==null||W.focus()),$.code==="Escape"&&(document.activeElement===se.current||(he=se.current)!=null&&he.contains(document.activeElement))&&Y(!1)};return document.addEventListener("keydown",R),()=>document.removeEventListener("keydown",R)},[d]),ge.useEffect(()=>{if(se.current)return()=>{V.current&&(V.current.focus({preventScroll:!0}),V.current=null,je.current=!1)}},[se.current]),ge.createElement("section",{ref:r,"aria-label":`${F} ${de}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},K.map((R,$)=>{var W;let[he,Se]=R.split("-");return z.length?ge.createElement("ol",{key:R,dir:S==="auto"?Ip():S,tabIndex:-1,ref:se,className:p,"data-sonner-toaster":!0,"data-theme":be,"data-y-position":he,"data-lifted":we&&z.length>1&&!h,"data-x-position":Se,style:{"--front-toast-height":`${((W=ne[0])==null?void 0:W.height)||0}px`,"--width":`${R2}px`,"--gap":`${D}px`,...j,...U2(x,g)},onBlur:Me=>{je.current&&!Me.currentTarget.contains(Me.relatedTarget)&&(je.current=!1,V.current&&(V.current.focus({preventScroll:!0}),V.current=null))},onFocus:Me=>{Me.target instanceof HTMLElement&&Me.target.dataset.dismissible==="false"||je.current||(je.current=!0,V.current=Me.relatedTarget)},onMouseEnter:()=>Y(!0),onMouseMove:()=>Y(!0),onMouseLeave:()=>{L||Y(!1)},onDragEnd:()=>Y(!1),onPointerDown:Me=>{Me.target instanceof HTMLElement&&Me.target.dataset.dismissible==="false"||O(!0)},onPointerUp:()=>O(!1)},z.filter(Me=>!Me.position&&$===0||Me.position===R).map((Me,fe)=>{var Re,_e;return ge.createElement(L2,{key:Me.id,icons:y,index:fe,toast:Me,defaultRichColors:w,duration:(Re=E==null?void 0:E.duration)!=null?Re:T,className:E==null?void 0:E.className,descriptionClassName:E==null?void 0:E.descriptionClassName,invert:l,visibleToasts:C,closeButton:(_e=E==null?void 0:E.closeButton)!=null?_e:f,interacting:L,position:R,style:E==null?void 0:E.style,unstyled:E==null?void 0:E.unstyled,classNames:E==null?void 0:E.classNames,cancelButtonStyle:E==null?void 0:E.cancelButtonStyle,actionButtonStyle:E==null?void 0:E.actionButtonStyle,removeToast:B,toasts:z.filter(Ye=>Ye.position==Me.position),heights:ne.filter(Ye=>Ye.position==Me.position),setHeights:_,expandByDefault:h,gap:D,loadingIcon:U,expanded:we,pauseWhenPageIsHidden:te,swipeDirections:a.swipeDirections})})):null}))});function wy(a,r){return function(){return a.apply(r,arguments)}}const{toString:B2}=Object.prototype,{getPrototypeOf:h0}=Object,{iterator:jd,toStringTag:Ny}=Symbol,wd=(a=>r=>{const l=B2.call(r);return a[l]||(a[l]=l.slice(8,-1).toLowerCase())})(Object.create(null)),Pa=a=>(a=a.toLowerCase(),r=>wd(r)===a),Nd=a=>r=>typeof r===a,{isArray:ai}=Array,Jl=Nd("undefined");function So(a){return a!==null&&!Jl(a)&&a.constructor!==null&&!Jl(a.constructor)&&_s(a.constructor.isBuffer)&&a.constructor.isBuffer(a)}const Sy=Pa("ArrayBuffer");function P2(a){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(a):r=a&&a.buffer&&Sy(a.buffer),r}const q2=Nd("string"),_s=Nd("function"),Cy=Nd("number"),Co=a=>a!==null&&typeof a=="object",$2=a=>a===!0||a===!1,nd=a=>{if(wd(a)!=="object")return!1;const r=h0(a);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Ny in a)&&!(jd in a)},H2=a=>{if(!Co(a)||So(a))return!1;try{return Object.keys(a).length===0&&Object.getPrototypeOf(a)===Object.prototype}catch{return!1}},_2=Pa("Date"),I2=Pa("File"),Q2=Pa("Blob"),G2=Pa("FileList"),Y2=a=>Co(a)&&_s(a.pipe),V2=a=>{let r;return a&&(typeof FormData=="function"&&a instanceof FormData||_s(a.append)&&((r=wd(a))==="formdata"||r==="object"&&_s(a.toString)&&a.toString()==="[object FormData]"))},K2=Pa("URLSearchParams"),[Z2,X2,J2,W2]=["ReadableStream","Request","Response","Headers"].map(Pa),e4=a=>a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ko(a,r,{allOwnKeys:l=!1}={}){if(a===null||typeof a>"u")return;let o,d;if(typeof a!="object"&&(a=[a]),ai(a))for(o=0,d=a.length;o<d;o++)r.call(null,a[o],o,a);else{if(So(a))return;const h=l?Object.getOwnPropertyNames(a):Object.keys(a),f=h.length;let p;for(o=0;o<f;o++)p=h[o],r.call(null,a[p],p,a)}}function ky(a,r){if(So(a))return null;r=r.toLowerCase();const l=Object.keys(a);let o=l.length,d;for(;o-- >0;)if(d=l[o],r===d.toLowerCase())return d;return null}const Pn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ey=a=>!Jl(a)&&a!==Pn;function Ph(){const{caseless:a,skipUndefined:r}=Ey(this)&&this||{},l={},o=(d,h)=>{const f=a&&ky(l,h)||h;nd(l[f])&&nd(d)?l[f]=Ph(l[f],d):nd(d)?l[f]=Ph({},d):ai(d)?l[f]=d.slice():(!r||!Jl(d))&&(l[f]=d)};for(let d=0,h=arguments.length;d<h;d++)arguments[d]&&ko(arguments[d],o);return l}const t4=(a,r,l,{allOwnKeys:o}={})=>(ko(r,(d,h)=>{l&&_s(d)?a[h]=wy(d,l):a[h]=d},{allOwnKeys:o}),a),s4=a=>(a.charCodeAt(0)===65279&&(a=a.slice(1)),a),a4=(a,r,l,o)=>{a.prototype=Object.create(r.prototype,o),a.prototype.constructor=a,Object.defineProperty(a,"super",{value:r.prototype}),l&&Object.assign(a.prototype,l)},r4=(a,r,l,o)=>{let d,h,f;const p={};if(r=r||{},a==null)return r;do{for(d=Object.getOwnPropertyNames(a),h=d.length;h-- >0;)f=d[h],(!o||o(f,a,r))&&!p[f]&&(r[f]=a[f],p[f]=!0);a=l!==!1&&h0(a)}while(a&&(!l||l(a,r))&&a!==Object.prototype);return r},n4=(a,r,l)=>{a=String(a),(l===void 0||l>a.length)&&(l=a.length),l-=r.length;const o=a.indexOf(r,l);return o!==-1&&o===l},l4=a=>{if(!a)return null;if(ai(a))return a;let r=a.length;if(!Cy(r))return null;const l=new Array(r);for(;r-- >0;)l[r]=a[r];return l},i4=(a=>r=>a&&r instanceof a)(typeof Uint8Array<"u"&&h0(Uint8Array)),o4=(a,r)=>{const o=(a&&a[jd]).call(a);let d;for(;(d=o.next())&&!d.done;){const h=d.value;r.call(a,h[0],h[1])}},c4=(a,r)=>{let l;const o=[];for(;(l=a.exec(r))!==null;)o.push(l);return o},d4=Pa("HTMLFormElement"),u4=a=>a.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(l,o,d){return o.toUpperCase()+d}),Qp=(({hasOwnProperty:a})=>(r,l)=>a.call(r,l))(Object.prototype),m4=Pa("RegExp"),Ty=(a,r)=>{const l=Object.getOwnPropertyDescriptors(a),o={};ko(l,(d,h)=>{let f;(f=r(d,h,a))!==!1&&(o[h]=f||d)}),Object.defineProperties(a,o)},h4=a=>{Ty(a,(r,l)=>{if(_s(a)&&["arguments","caller","callee"].indexOf(l)!==-1)return!1;const o=a[l];if(_s(o)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+l+"'")})}})},f4=(a,r)=>{const l={},o=d=>{d.forEach(h=>{l[h]=!0})};return ai(a)?o(a):o(String(a).split(r)),l},x4=()=>{},g4=(a,r)=>a!=null&&Number.isFinite(a=+a)?a:r;function p4(a){return!!(a&&_s(a.append)&&a[Ny]==="FormData"&&a[jd])}const b4=a=>{const r=new Array(10),l=(o,d)=>{if(Co(o)){if(r.indexOf(o)>=0)return;if(So(o))return o;if(!("toJSON"in o)){r[d]=o;const h=ai(o)?[]:{};return ko(o,(f,p)=>{const x=l(f,d+1);!Jl(x)&&(h[p]=x)}),r[d]=void 0,h}}return o};return l(a,0)},y4=Pa("AsyncFunction"),v4=a=>a&&(Co(a)||_s(a))&&_s(a.then)&&_s(a.catch),Ay=((a,r)=>a?setImmediate:r?((l,o)=>(Pn.addEventListener("message",({source:d,data:h})=>{d===Pn&&h===l&&o.length&&o.shift()()},!1),d=>{o.push(d),Pn.postMessage(l,"*")}))(`axios@${Math.random()}`,[]):l=>setTimeout(l))(typeof setImmediate=="function",_s(Pn.postMessage)),j4=typeof queueMicrotask<"u"?queueMicrotask.bind(Pn):typeof process<"u"&&process.nextTick||Ay,w4=a=>a!=null&&_s(a[jd]),ue={isArray:ai,isArrayBuffer:Sy,isBuffer:So,isFormData:V2,isArrayBufferView:P2,isString:q2,isNumber:Cy,isBoolean:$2,isObject:Co,isPlainObject:nd,isEmptyObject:H2,isReadableStream:Z2,isRequest:X2,isResponse:J2,isHeaders:W2,isUndefined:Jl,isDate:_2,isFile:I2,isBlob:Q2,isRegExp:m4,isFunction:_s,isStream:Y2,isURLSearchParams:K2,isTypedArray:i4,isFileList:G2,forEach:ko,merge:Ph,extend:t4,trim:e4,stripBOM:s4,inherits:a4,toFlatObject:r4,kindOf:wd,kindOfTest:Pa,endsWith:n4,toArray:l4,forEachEntry:o4,matchAll:c4,isHTMLForm:d4,hasOwnProperty:Qp,hasOwnProp:Qp,reduceDescriptors:Ty,freezeMethods:h4,toObjectSet:f4,toCamelCase:u4,noop:x4,toFiniteNumber:g4,findKey:ky,global:Pn,isContextDefined:Ey,isSpecCompliantForm:p4,toJSONObject:b4,isAsyncFn:y4,isThenable:v4,setImmediate:Ay,asap:j4,isIterable:w4};function rt(a,r,l,o,d){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=a,this.name="AxiosError",r&&(this.code=r),l&&(this.config=l),o&&(this.request=o),d&&(this.response=d,this.status=d.status?d.status:null)}ue.inherits(rt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ue.toJSONObject(this.config),code:this.code,status:this.status}}});const Ry=rt.prototype,Dy={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(a=>{Dy[a]={value:a}});Object.defineProperties(rt,Dy);Object.defineProperty(Ry,"isAxiosError",{value:!0});rt.from=(a,r,l,o,d,h)=>{const f=Object.create(Ry);ue.toFlatObject(a,f,function(b){return b!==Error.prototype},g=>g!=="isAxiosError");const p=a&&a.message?a.message:"Error",x=r==null&&a?a.code:r;return rt.call(f,p,x,l,o,d),a&&f.cause==null&&Object.defineProperty(f,"cause",{value:a,configurable:!0}),f.name=a&&a.name||"Error",h&&Object.assign(f,h),f};const N4=null;function qh(a){return ue.isPlainObject(a)||ue.isArray(a)}function My(a){return ue.endsWith(a,"[]")?a.slice(0,-2):a}function Gp(a,r,l){return a?a.concat(r).map(function(d,h){return d=My(d),!l&&h?"["+d+"]":d}).join(l?".":""):r}function S4(a){return ue.isArray(a)&&!a.some(qh)}const C4=ue.toFlatObject(ue,{},null,function(r){return/^is[A-Z]/.test(r)});function Sd(a,r,l){if(!ue.isObject(a))throw new TypeError("target must be an object");r=r||new FormData,l=ue.toFlatObject(l,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,S){return!ue.isUndefined(S[E])});const o=l.metaTokens,d=l.visitor||b,h=l.dots,f=l.indexes,x=(l.Blob||typeof Blob<"u"&&Blob)&&ue.isSpecCompliantForm(r);if(!ue.isFunction(d))throw new TypeError("visitor must be a function");function g(C){if(C===null)return"";if(ue.isDate(C))return C.toISOString();if(ue.isBoolean(C))return C.toString();if(!x&&ue.isBlob(C))throw new rt("Blob is not supported. Use a Buffer instead.");return ue.isArrayBuffer(C)||ue.isTypedArray(C)?x&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function b(C,E,S){let D=C;if(C&&!S&&typeof C=="object"){if(ue.endsWith(E,"{}"))E=o?E:E.slice(0,-2),C=JSON.stringify(C);else if(ue.isArray(C)&&S4(C)||(ue.isFileList(C)||ue.endsWith(E,"[]"))&&(D=ue.toArray(C)))return E=My(E),D.forEach(function(y,F){!(ue.isUndefined(y)||y===null)&&r.append(f===!0?Gp([E],F,h):f===null?E:E+"[]",g(y))}),!1}return qh(C)?!0:(r.append(Gp(S,E,h),g(C)),!1)}const w=[],T=Object.assign(C4,{defaultVisitor:b,convertValue:g,isVisitable:qh});function j(C,E){if(!ue.isUndefined(C)){if(w.indexOf(C)!==-1)throw Error("Circular reference detected in "+E.join("."));w.push(C),ue.forEach(C,function(D,U){(!(ue.isUndefined(D)||D===null)&&d.call(r,D,ue.isString(U)?U.trim():U,E,T))===!0&&j(D,E?E.concat(U):[U])}),w.pop()}}if(!ue.isObject(a))throw new TypeError("data must be an object");return j(a),r}function Yp(a){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(a).replace(/[!'()~]|%20|%00/g,function(o){return r[o]})}function f0(a,r){this._pairs=[],a&&Sd(a,this,r)}const Fy=f0.prototype;Fy.append=function(r,l){this._pairs.push([r,l])};Fy.toString=function(r){const l=r?function(o){return r.call(this,o,Yp)}:Yp;return this._pairs.map(function(d){return l(d[0])+"="+l(d[1])},"").join("&")};function k4(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Oy(a,r,l){if(!r)return a;const o=l&&l.encode||k4;ue.isFunction(l)&&(l={serialize:l});const d=l&&l.serialize;let h;if(d?h=d(r,l):h=ue.isURLSearchParams(r)?r.toString():new f0(r,l).toString(o),h){const f=a.indexOf("#");f!==-1&&(a=a.slice(0,f)),a+=(a.indexOf("?")===-1?"?":"&")+h}return a}class Vp{constructor(){this.handlers=[]}use(r,l,o){return this.handlers.push({fulfilled:r,rejected:l,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){ue.forEach(this.handlers,function(o){o!==null&&r(o)})}}const Ly={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},E4=typeof URLSearchParams<"u"?URLSearchParams:f0,T4=typeof FormData<"u"?FormData:null,A4=typeof Blob<"u"?Blob:null,R4={isBrowser:!0,classes:{URLSearchParams:E4,FormData:T4,Blob:A4},protocols:["http","https","file","blob","url","data"]},x0=typeof window<"u"&&typeof document<"u",$h=typeof navigator=="object"&&navigator||void 0,D4=x0&&(!$h||["ReactNative","NativeScript","NS"].indexOf($h.product)<0),M4=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",F4=x0&&window.location.href||"http://localhost",O4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:x0,hasStandardBrowserEnv:D4,hasStandardBrowserWebWorkerEnv:M4,navigator:$h,origin:F4},Symbol.toStringTag,{value:"Module"})),Cs={...O4,...R4};function L4(a,r){return Sd(a,new Cs.classes.URLSearchParams,{visitor:function(l,o,d,h){return Cs.isNode&&ue.isBuffer(l)?(this.append(o,l.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)},...r})}function U4(a){return ue.matchAll(/\w+|\[(\w*)]/g,a).map(r=>r[0]==="[]"?"":r[1]||r[0])}function z4(a){const r={},l=Object.keys(a);let o;const d=l.length;let h;for(o=0;o<d;o++)h=l[o],r[h]=a[h];return r}function Uy(a){function r(l,o,d,h){let f=l[h++];if(f==="__proto__")return!0;const p=Number.isFinite(+f),x=h>=l.length;return f=!f&&ue.isArray(d)?d.length:f,x?(ue.hasOwnProp(d,f)?d[f]=[d[f],o]:d[f]=o,!p):((!d[f]||!ue.isObject(d[f]))&&(d[f]=[]),r(l,o,d[f],h)&&ue.isArray(d[f])&&(d[f]=z4(d[f])),!p)}if(ue.isFormData(a)&&ue.isFunction(a.entries)){const l={};return ue.forEachEntry(a,(o,d)=>{r(U4(o),d,l,0)}),l}return null}function B4(a,r,l){if(ue.isString(a))try{return(r||JSON.parse)(a),ue.trim(a)}catch(o){if(o.name!=="SyntaxError")throw o}return(l||JSON.stringify)(a)}const Eo={transitional:Ly,adapter:["xhr","http","fetch"],transformRequest:[function(r,l){const o=l.getContentType()||"",d=o.indexOf("application/json")>-1,h=ue.isObject(r);if(h&&ue.isHTMLForm(r)&&(r=new FormData(r)),ue.isFormData(r))return d?JSON.stringify(Uy(r)):r;if(ue.isArrayBuffer(r)||ue.isBuffer(r)||ue.isStream(r)||ue.isFile(r)||ue.isBlob(r)||ue.isReadableStream(r))return r;if(ue.isArrayBufferView(r))return r.buffer;if(ue.isURLSearchParams(r))return l.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let p;if(h){if(o.indexOf("application/x-www-form-urlencoded")>-1)return L4(r,this.formSerializer).toString();if((p=ue.isFileList(r))||o.indexOf("multipart/form-data")>-1){const x=this.env&&this.env.FormData;return Sd(p?{"files[]":r}:r,x&&new x,this.formSerializer)}}return h||d?(l.setContentType("application/json",!1),B4(r)):r}],transformResponse:[function(r){const l=this.transitional||Eo.transitional,o=l&&l.forcedJSONParsing,d=this.responseType==="json";if(ue.isResponse(r)||ue.isReadableStream(r))return r;if(r&&ue.isString(r)&&(o&&!this.responseType||d)){const f=!(l&&l.silentJSONParsing)&&d;try{return JSON.parse(r,this.parseReviver)}catch(p){if(f)throw p.name==="SyntaxError"?rt.from(p,rt.ERR_BAD_RESPONSE,this,null,this.response):p}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Cs.classes.FormData,Blob:Cs.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ue.forEach(["delete","get","head","post","put","patch"],a=>{Eo.headers[a]={}});const P4=ue.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),q4=a=>{const r={};let l,o,d;return a&&a.split(`
`).forEach(function(f){d=f.indexOf(":"),l=f.substring(0,d).trim().toLowerCase(),o=f.substring(d+1).trim(),!(!l||r[l]&&P4[l])&&(l==="set-cookie"?r[l]?r[l].push(o):r[l]=[o]:r[l]=r[l]?r[l]+", "+o:o)}),r},Kp=Symbol("internals");function Ji(a){return a&&String(a).trim().toLowerCase()}function ld(a){return a===!1||a==null?a:ue.isArray(a)?a.map(ld):String(a)}function $4(a){const r=Object.create(null),l=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=l.exec(a);)r[o[1]]=o[2];return r}const H4=a=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(a.trim());function th(a,r,l,o,d){if(ue.isFunction(o))return o.call(this,r,l);if(d&&(r=l),!!ue.isString(r)){if(ue.isString(o))return r.indexOf(o)!==-1;if(ue.isRegExp(o))return o.test(r)}}function _4(a){return a.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,l,o)=>l.toUpperCase()+o)}function I4(a,r){const l=ue.toCamelCase(" "+r);["get","set","has"].forEach(o=>{Object.defineProperty(a,o+l,{value:function(d,h,f){return this[o].call(this,r,d,h,f)},configurable:!0})})}let Is=class{constructor(r){r&&this.set(r)}set(r,l,o){const d=this;function h(p,x,g){const b=Ji(x);if(!b)throw new Error("header name must be a non-empty string");const w=ue.findKey(d,b);(!w||d[w]===void 0||g===!0||g===void 0&&d[w]!==!1)&&(d[w||x]=ld(p))}const f=(p,x)=>ue.forEach(p,(g,b)=>h(g,b,x));if(ue.isPlainObject(r)||r instanceof this.constructor)f(r,l);else if(ue.isString(r)&&(r=r.trim())&&!H4(r))f(q4(r),l);else if(ue.isObject(r)&&ue.isIterable(r)){let p={},x,g;for(const b of r){if(!ue.isArray(b))throw TypeError("Object iterator must return a key-value pair");p[g=b[0]]=(x=p[g])?ue.isArray(x)?[...x,b[1]]:[x,b[1]]:b[1]}f(p,l)}else r!=null&&h(l,r,o);return this}get(r,l){if(r=Ji(r),r){const o=ue.findKey(this,r);if(o){const d=this[o];if(!l)return d;if(l===!0)return $4(d);if(ue.isFunction(l))return l.call(this,d,o);if(ue.isRegExp(l))return l.exec(d);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,l){if(r=Ji(r),r){const o=ue.findKey(this,r);return!!(o&&this[o]!==void 0&&(!l||th(this,this[o],o,l)))}return!1}delete(r,l){const o=this;let d=!1;function h(f){if(f=Ji(f),f){const p=ue.findKey(o,f);p&&(!l||th(o,o[p],p,l))&&(delete o[p],d=!0)}}return ue.isArray(r)?r.forEach(h):h(r),d}clear(r){const l=Object.keys(this);let o=l.length,d=!1;for(;o--;){const h=l[o];(!r||th(this,this[h],h,r,!0))&&(delete this[h],d=!0)}return d}normalize(r){const l=this,o={};return ue.forEach(this,(d,h)=>{const f=ue.findKey(o,h);if(f){l[f]=ld(d),delete l[h];return}const p=r?_4(h):String(h).trim();p!==h&&delete l[h],l[p]=ld(d),o[p]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const l=Object.create(null);return ue.forEach(this,(o,d)=>{o!=null&&o!==!1&&(l[d]=r&&ue.isArray(o)?o.join(", "):o)}),l}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,l])=>r+": "+l).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...l){const o=new this(r);return l.forEach(d=>o.set(d)),o}static accessor(r){const o=(this[Kp]=this[Kp]={accessors:{}}).accessors,d=this.prototype;function h(f){const p=Ji(f);o[p]||(I4(d,f),o[p]=!0)}return ue.isArray(r)?r.forEach(h):h(r),this}};Is.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ue.reduceDescriptors(Is.prototype,({value:a},r)=>{let l=r[0].toUpperCase()+r.slice(1);return{get:()=>a,set(o){this[l]=o}}});ue.freezeMethods(Is);function sh(a,r){const l=this||Eo,o=r||l,d=Is.from(o.headers);let h=o.data;return ue.forEach(a,function(p){h=p.call(l,h,d.normalize(),r?r.status:void 0)}),d.normalize(),h}function zy(a){return!!(a&&a.__CANCEL__)}function ri(a,r,l){rt.call(this,a??"canceled",rt.ERR_CANCELED,r,l),this.name="CanceledError"}ue.inherits(ri,rt,{__CANCEL__:!0});function By(a,r,l){const o=l.config.validateStatus;!l.status||!o||o(l.status)?a(l):r(new rt("Request failed with status code "+l.status,[rt.ERR_BAD_REQUEST,rt.ERR_BAD_RESPONSE][Math.floor(l.status/100)-4],l.config,l.request,l))}function Q4(a){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(a);return r&&r[1]||""}function G4(a,r){a=a||10;const l=new Array(a),o=new Array(a);let d=0,h=0,f;return r=r!==void 0?r:1e3,function(x){const g=Date.now(),b=o[h];f||(f=g),l[d]=x,o[d]=g;let w=h,T=0;for(;w!==d;)T+=l[w++],w=w%a;if(d=(d+1)%a,d===h&&(h=(h+1)%a),g-f<r)return;const j=b&&g-b;return j?Math.round(T*1e3/j):void 0}}function Y4(a,r){let l=0,o=1e3/r,d,h;const f=(g,b=Date.now())=>{l=b,d=null,h&&(clearTimeout(h),h=null),a(...g)};return[(...g)=>{const b=Date.now(),w=b-l;w>=o?f(g,b):(d=g,h||(h=setTimeout(()=>{h=null,f(d)},o-w)))},()=>d&&f(d)]}const md=(a,r,l=3)=>{let o=0;const d=G4(50,250);return Y4(h=>{const f=h.loaded,p=h.lengthComputable?h.total:void 0,x=f-o,g=d(x),b=f<=p;o=f;const w={loaded:f,total:p,progress:p?f/p:void 0,bytes:x,rate:g||void 0,estimated:g&&p&&b?(p-f)/g:void 0,event:h,lengthComputable:p!=null,[r?"download":"upload"]:!0};a(w)},l)},Zp=(a,r)=>{const l=a!=null;return[o=>r[0]({lengthComputable:l,total:a,loaded:o}),r[1]]},Xp=a=>(...r)=>ue.asap(()=>a(...r)),V4=Cs.hasStandardBrowserEnv?((a,r)=>l=>(l=new URL(l,Cs.origin),a.protocol===l.protocol&&a.host===l.host&&(r||a.port===l.port)))(new URL(Cs.origin),Cs.navigator&&/(msie|trident)/i.test(Cs.navigator.userAgent)):()=>!0,K4=Cs.hasStandardBrowserEnv?{write(a,r,l,o,d,h,f){if(typeof document>"u")return;const p=[`${a}=${encodeURIComponent(r)}`];ue.isNumber(l)&&p.push(`expires=${new Date(l).toUTCString()}`),ue.isString(o)&&p.push(`path=${o}`),ue.isString(d)&&p.push(`domain=${d}`),h===!0&&p.push("secure"),ue.isString(f)&&p.push(`SameSite=${f}`),document.cookie=p.join("; ")},read(a){if(typeof document>"u")return null;const r=document.cookie.match(new RegExp("(?:^|; )"+a+"=([^;]*)"));return r?decodeURIComponent(r[1]):null},remove(a){this.write(a,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Z4(a){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a)}function X4(a,r){return r?a.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):a}function Py(a,r,l){let o=!Z4(r);return a&&(o||l==!1)?X4(a,r):r}const Jp=a=>a instanceof Is?{...a}:a;function tl(a,r){r=r||{};const l={};function o(g,b,w,T){return ue.isPlainObject(g)&&ue.isPlainObject(b)?ue.merge.call({caseless:T},g,b):ue.isPlainObject(b)?ue.merge({},b):ue.isArray(b)?b.slice():b}function d(g,b,w,T){if(ue.isUndefined(b)){if(!ue.isUndefined(g))return o(void 0,g,w,T)}else return o(g,b,w,T)}function h(g,b){if(!ue.isUndefined(b))return o(void 0,b)}function f(g,b){if(ue.isUndefined(b)){if(!ue.isUndefined(g))return o(void 0,g)}else return o(void 0,b)}function p(g,b,w){if(w in r)return o(g,b);if(w in a)return o(void 0,g)}const x={url:h,method:h,data:h,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:p,headers:(g,b,w)=>d(Jp(g),Jp(b),w,!0)};return ue.forEach(Object.keys({...a,...r}),function(b){const w=x[b]||d,T=w(a[b],r[b],b);ue.isUndefined(T)&&w!==p||(l[b]=T)}),l}const qy=a=>{const r=tl({},a);let{data:l,withXSRFToken:o,xsrfHeaderName:d,xsrfCookieName:h,headers:f,auth:p}=r;if(r.headers=f=Is.from(f),r.url=Oy(Py(r.baseURL,r.url,r.allowAbsoluteUrls),a.params,a.paramsSerializer),p&&f.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):""))),ue.isFormData(l)){if(Cs.hasStandardBrowserEnv||Cs.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if(ue.isFunction(l.getHeaders)){const x=l.getHeaders(),g=["content-type","content-length"];Object.entries(x).forEach(([b,w])=>{g.includes(b.toLowerCase())&&f.set(b,w)})}}if(Cs.hasStandardBrowserEnv&&(o&&ue.isFunction(o)&&(o=o(r)),o||o!==!1&&V4(r.url))){const x=d&&h&&K4.read(h);x&&f.set(d,x)}return r},J4=typeof XMLHttpRequest<"u",W4=J4&&function(a){return new Promise(function(l,o){const d=qy(a);let h=d.data;const f=Is.from(d.headers).normalize();let{responseType:p,onUploadProgress:x,onDownloadProgress:g}=d,b,w,T,j,C;function E(){j&&j(),C&&C(),d.cancelToken&&d.cancelToken.unsubscribe(b),d.signal&&d.signal.removeEventListener("abort",b)}let S=new XMLHttpRequest;S.open(d.method.toUpperCase(),d.url,!0),S.timeout=d.timeout;function D(){if(!S)return;const y=Is.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),te={data:!p||p==="text"||p==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:y,config:a,request:S};By(function(k){l(k),E()},function(k){o(k),E()},te),S=null}"onloadend"in S?S.onloadend=D:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(D)},S.onabort=function(){S&&(o(new rt("Request aborted",rt.ECONNABORTED,a,S)),S=null)},S.onerror=function(F){const te=F&&F.message?F.message:"Network Error",z=new rt(te,rt.ERR_NETWORK,a,S);z.event=F||null,o(z),S=null},S.ontimeout=function(){let F=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded";const te=d.transitional||Ly;d.timeoutErrorMessage&&(F=d.timeoutErrorMessage),o(new rt(F,te.clarifyTimeoutError?rt.ETIMEDOUT:rt.ECONNABORTED,a,S)),S=null},h===void 0&&f.setContentType(null),"setRequestHeader"in S&&ue.forEach(f.toJSON(),function(F,te){S.setRequestHeader(te,F)}),ue.isUndefined(d.withCredentials)||(S.withCredentials=!!d.withCredentials),p&&p!=="json"&&(S.responseType=d.responseType),g&&([T,C]=md(g,!0),S.addEventListener("progress",T)),x&&S.upload&&([w,j]=md(x),S.upload.addEventListener("progress",w),S.upload.addEventListener("loadend",j)),(d.cancelToken||d.signal)&&(b=y=>{S&&(o(!y||y.type?new ri(null,a,S):y),S.abort(),S=null)},d.cancelToken&&d.cancelToken.subscribe(b),d.signal&&(d.signal.aborted?b():d.signal.addEventListener("abort",b)));const U=Q4(d.url);if(U&&Cs.protocols.indexOf(U)===-1){o(new rt("Unsupported protocol "+U+":",rt.ERR_BAD_REQUEST,a));return}S.send(h||null)})},e5=(a,r)=>{const{length:l}=a=a?a.filter(Boolean):[];if(r||l){let o=new AbortController,d;const h=function(g){if(!d){d=!0,p();const b=g instanceof Error?g:this.reason;o.abort(b instanceof rt?b:new ri(b instanceof Error?b.message:b))}};let f=r&&setTimeout(()=>{f=null,h(new rt(`timeout ${r} of ms exceeded`,rt.ETIMEDOUT))},r);const p=()=>{a&&(f&&clearTimeout(f),f=null,a.forEach(g=>{g.unsubscribe?g.unsubscribe(h):g.removeEventListener("abort",h)}),a=null)};a.forEach(g=>g.addEventListener("abort",h));const{signal:x}=o;return x.unsubscribe=()=>ue.asap(p),x}},t5=function*(a,r){let l=a.byteLength;if(l<r){yield a;return}let o=0,d;for(;o<l;)d=o+r,yield a.slice(o,d),o=d},s5=async function*(a,r){for await(const l of a5(a))yield*t5(l,r)},a5=async function*(a){if(a[Symbol.asyncIterator]){yield*a;return}const r=a.getReader();try{for(;;){const{done:l,value:o}=await r.read();if(l)break;yield o}}finally{await r.cancel()}},Wp=(a,r,l,o)=>{const d=s5(a,r);let h=0,f,p=x=>{f||(f=!0,o&&o(x))};return new ReadableStream({async pull(x){try{const{done:g,value:b}=await d.next();if(g){p(),x.close();return}let w=b.byteLength;if(l){let T=h+=w;l(T)}x.enqueue(new Uint8Array(b))}catch(g){throw p(g),g}},cancel(x){return p(x),d.return()}},{highWaterMark:2})},eb=64*1024,{isFunction:Kc}=ue,r5=(({Request:a,Response:r})=>({Request:a,Response:r}))(ue.global),{ReadableStream:tb,TextEncoder:sb}=ue.global,ab=(a,...r)=>{try{return!!a(...r)}catch{return!1}},n5=a=>{a=ue.merge.call({skipUndefined:!0},r5,a);const{fetch:r,Request:l,Response:o}=a,d=r?Kc(r):typeof fetch=="function",h=Kc(l),f=Kc(o);if(!d)return!1;const p=d&&Kc(tb),x=d&&(typeof sb=="function"?(C=>E=>C.encode(E))(new sb):async C=>new Uint8Array(await new l(C).arrayBuffer())),g=h&&p&&ab(()=>{let C=!1;const E=new l(Cs.origin,{body:new tb,method:"POST",get duplex(){return C=!0,"half"}}).headers.has("Content-Type");return C&&!E}),b=f&&p&&ab(()=>ue.isReadableStream(new o("").body)),w={stream:b&&(C=>C.body)};d&&["text","arrayBuffer","blob","formData","stream"].forEach(C=>{!w[C]&&(w[C]=(E,S)=>{let D=E&&E[C];if(D)return D.call(E);throw new rt(`Response type '${C}' is not supported`,rt.ERR_NOT_SUPPORT,S)})});const T=async C=>{if(C==null)return 0;if(ue.isBlob(C))return C.size;if(ue.isSpecCompliantForm(C))return(await new l(Cs.origin,{method:"POST",body:C}).arrayBuffer()).byteLength;if(ue.isArrayBufferView(C)||ue.isArrayBuffer(C))return C.byteLength;if(ue.isURLSearchParams(C)&&(C=C+""),ue.isString(C))return(await x(C)).byteLength},j=async(C,E)=>{const S=ue.toFiniteNumber(C.getContentLength());return S??T(E)};return async C=>{let{url:E,method:S,data:D,signal:U,cancelToken:y,timeout:F,onDownloadProgress:te,onUploadProgress:z,responseType:k,headers:K,withCredentials:ne="same-origin",fetchOptions:_}=qy(C),we=r||fetch;k=k?(k+"").toLowerCase():"text";let Y=e5([U,y&&y.toAbortSignal()],F),L=null;const O=Y&&Y.unsubscribe&&(()=>{Y.unsubscribe()});let be;try{if(z&&g&&S!=="get"&&S!=="head"&&(be=await j(K,D))!==0){let B=new l(E,{method:"POST",body:D,duplex:"half"}),R;if(ue.isFormData(D)&&(R=B.headers.get("content-type"))&&K.setContentType(R),B.body){const[$,W]=Zp(be,md(Xp(z)));D=Wp(B.body,eb,$,W)}}ue.isString(ne)||(ne=ne?"include":"omit");const I=h&&"credentials"in l.prototype,se={..._,signal:Y,method:S.toUpperCase(),headers:K.normalize().toJSON(),body:D,duplex:"half",credentials:I?ne:void 0};L=h&&new l(E,se);let de=await(h?we(L,_):we(E,se));const V=b&&(k==="stream"||k==="response");if(b&&(te||V&&O)){const B={};["status","statusText","headers"].forEach(he=>{B[he]=de[he]});const R=ue.toFiniteNumber(de.headers.get("content-length")),[$,W]=te&&Zp(R,md(Xp(te),!0))||[];de=new o(Wp(de.body,eb,$,()=>{W&&W(),O&&O()}),B)}k=k||"text";let je=await w[ue.findKey(w,k)||"text"](de,C);return!V&&O&&O(),await new Promise((B,R)=>{By(B,R,{data:je,headers:Is.from(de.headers),status:de.status,statusText:de.statusText,config:C,request:L})})}catch(I){throw O&&O(),I&&I.name==="TypeError"&&/Load failed|fetch/i.test(I.message)?Object.assign(new rt("Network Error",rt.ERR_NETWORK,C,L),{cause:I.cause||I}):rt.from(I,I&&I.code,C,L)}}},l5=new Map,$y=a=>{let r=a&&a.env||{};const{fetch:l,Request:o,Response:d}=r,h=[o,d,l];let f=h.length,p=f,x,g,b=l5;for(;p--;)x=h[p],g=b.get(x),g===void 0&&b.set(x,g=p?new Map:n5(r)),b=g;return g};$y();const g0={http:N4,xhr:W4,fetch:{get:$y}};ue.forEach(g0,(a,r)=>{if(a){try{Object.defineProperty(a,"name",{value:r})}catch{}Object.defineProperty(a,"adapterName",{value:r})}});const rb=a=>`- ${a}`,i5=a=>ue.isFunction(a)||a===null||a===!1;function o5(a,r){a=ue.isArray(a)?a:[a];const{length:l}=a;let o,d;const h={};for(let f=0;f<l;f++){o=a[f];let p;if(d=o,!i5(o)&&(d=g0[(p=String(o)).toLowerCase()],d===void 0))throw new rt(`Unknown adapter '${p}'`);if(d&&(ue.isFunction(d)||(d=d.get(r))))break;h[p||"#"+f]=d}if(!d){const f=Object.entries(h).map(([x,g])=>`adapter ${x} `+(g===!1?"is not supported by the environment":"is not available in the build"));let p=l?f.length>1?`since :
`+f.map(rb).join(`
`):" "+rb(f[0]):"as no adapter specified";throw new rt("There is no suitable adapter to dispatch the request "+p,"ERR_NOT_SUPPORT")}return d}const Hy={getAdapter:o5,adapters:g0};function ah(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new ri(null,a)}function nb(a){return ah(a),a.headers=Is.from(a.headers),a.data=sh.call(a,a.transformRequest),["post","put","patch"].indexOf(a.method)!==-1&&a.headers.setContentType("application/x-www-form-urlencoded",!1),Hy.getAdapter(a.adapter||Eo.adapter,a)(a).then(function(o){return ah(a),o.data=sh.call(a,a.transformResponse,o),o.headers=Is.from(o.headers),o},function(o){return zy(o)||(ah(a),o&&o.response&&(o.response.data=sh.call(a,a.transformResponse,o.response),o.response.headers=Is.from(o.response.headers))),Promise.reject(o)})}const _y="1.13.1",Cd={};["object","boolean","number","function","string","symbol"].forEach((a,r)=>{Cd[a]=function(o){return typeof o===a||"a"+(r<1?"n ":" ")+a}});const lb={};Cd.transitional=function(r,l,o){function d(h,f){return"[Axios v"+_y+"] Transitional option '"+h+"'"+f+(o?". "+o:"")}return(h,f,p)=>{if(r===!1)throw new rt(d(f," has been removed"+(l?" in "+l:"")),rt.ERR_DEPRECATED);return l&&!lb[f]&&(lb[f]=!0,console.warn(d(f," has been deprecated since v"+l+" and will be removed in the near future"))),r?r(h,f,p):!0}};Cd.spelling=function(r){return(l,o)=>(console.warn(`${o} is likely a misspelling of ${r}`),!0)};function c5(a,r,l){if(typeof a!="object")throw new rt("options must be an object",rt.ERR_BAD_OPTION_VALUE);const o=Object.keys(a);let d=o.length;for(;d-- >0;){const h=o[d],f=r[h];if(f){const p=a[h],x=p===void 0||f(p,h,a);if(x!==!0)throw new rt("option "+h+" must be "+x,rt.ERR_BAD_OPTION_VALUE);continue}if(l!==!0)throw new rt("Unknown option "+h,rt.ERR_BAD_OPTION)}}const id={assertOptions:c5,validators:Cd},Ga=id.validators;let Zn=class{constructor(r){this.defaults=r||{},this.interceptors={request:new Vp,response:new Vp}}async request(r,l){try{return await this._request(r,l)}catch(o){if(o instanceof Error){let d={};Error.captureStackTrace?Error.captureStackTrace(d):d=new Error;const h=d.stack?d.stack.replace(/^.+\n/,""):"";try{o.stack?h&&!String(o.stack).endsWith(h.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+h):o.stack=h}catch{}}throw o}}_request(r,l){typeof r=="string"?(l=l||{},l.url=r):l=r||{},l=tl(this.defaults,l);const{transitional:o,paramsSerializer:d,headers:h}=l;o!==void 0&&id.assertOptions(o,{silentJSONParsing:Ga.transitional(Ga.boolean),forcedJSONParsing:Ga.transitional(Ga.boolean),clarifyTimeoutError:Ga.transitional(Ga.boolean)},!1),d!=null&&(ue.isFunction(d)?l.paramsSerializer={serialize:d}:id.assertOptions(d,{encode:Ga.function,serialize:Ga.function},!0)),l.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?l.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:l.allowAbsoluteUrls=!0),id.assertOptions(l,{baseUrl:Ga.spelling("baseURL"),withXsrfToken:Ga.spelling("withXSRFToken")},!0),l.method=(l.method||this.defaults.method||"get").toLowerCase();let f=h&&ue.merge(h.common,h[l.method]);h&&ue.forEach(["delete","get","head","post","put","patch","common"],C=>{delete h[C]}),l.headers=Is.concat(f,h);const p=[];let x=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(l)===!1||(x=x&&E.synchronous,p.unshift(E.fulfilled,E.rejected))});const g=[];this.interceptors.response.forEach(function(E){g.push(E.fulfilled,E.rejected)});let b,w=0,T;if(!x){const C=[nb.bind(this),void 0];for(C.unshift(...p),C.push(...g),T=C.length,b=Promise.resolve(l);w<T;)b=b.then(C[w++],C[w++]);return b}T=p.length;let j=l;for(;w<T;){const C=p[w++],E=p[w++];try{j=C(j)}catch(S){E.call(this,S);break}}try{b=nb.call(this,j)}catch(C){return Promise.reject(C)}for(w=0,T=g.length;w<T;)b=b.then(g[w++],g[w++]);return b}getUri(r){r=tl(this.defaults,r);const l=Py(r.baseURL,r.url,r.allowAbsoluteUrls);return Oy(l,r.params,r.paramsSerializer)}};ue.forEach(["delete","get","head","options"],function(r){Zn.prototype[r]=function(l,o){return this.request(tl(o||{},{method:r,url:l,data:(o||{}).data}))}});ue.forEach(["post","put","patch"],function(r){function l(o){return function(h,f,p){return this.request(tl(p||{},{method:r,headers:o?{"Content-Type":"multipart/form-data"}:{},url:h,data:f}))}}Zn.prototype[r]=l(),Zn.prototype[r+"Form"]=l(!0)});let d5=class Iy{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let l;this.promise=new Promise(function(h){l=h});const o=this;this.promise.then(d=>{if(!o._listeners)return;let h=o._listeners.length;for(;h-- >0;)o._listeners[h](d);o._listeners=null}),this.promise.then=d=>{let h;const f=new Promise(p=>{o.subscribe(p),h=p}).then(d);return f.cancel=function(){o.unsubscribe(h)},f},r(function(h,f,p){o.reason||(o.reason=new ri(h,f,p),l(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const l=this._listeners.indexOf(r);l!==-1&&this._listeners.splice(l,1)}toAbortSignal(){const r=new AbortController,l=o=>{r.abort(o)};return this.subscribe(l),r.signal.unsubscribe=()=>this.unsubscribe(l),r.signal}static source(){let r;return{token:new Iy(function(d){r=d}),cancel:r}}};function u5(a){return function(l){return a.apply(null,l)}}function m5(a){return ue.isObject(a)&&a.isAxiosError===!0}const Hh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Hh).forEach(([a,r])=>{Hh[r]=a});function Qy(a){const r=new Zn(a),l=wy(Zn.prototype.request,r);return ue.extend(l,Zn.prototype,r,{allOwnKeys:!0}),ue.extend(l,r,null,{allOwnKeys:!0}),l.create=function(d){return Qy(tl(a,d))},l}const Wt=Qy(Eo);Wt.Axios=Zn;Wt.CanceledError=ri;Wt.CancelToken=d5;Wt.isCancel=zy;Wt.VERSION=_y;Wt.toFormData=Sd;Wt.AxiosError=rt;Wt.Cancel=Wt.CanceledError;Wt.all=function(r){return Promise.all(r)};Wt.spread=u5;Wt.isAxiosError=m5;Wt.mergeConfig=tl;Wt.AxiosHeaders=Is;Wt.formToJSON=a=>Uy(ue.isHTMLForm(a)?new FormData(a):a);Wt.getAdapter=Hy.getAdapter;Wt.HttpStatusCode=Hh;Wt.default=Wt;const{Axios:uk,AxiosError:mk,CanceledError:hk,isCancel:fk,CancelToken:xk,VERSION:gk,all:pk,Cancel:bk,isAxiosError:yk,spread:vk,toFormData:jk,AxiosHeaders:wk,HttpStatusCode:Nk,formToJSON:Sk,getAdapter:Ck,mergeConfig:kk}=Wt;var Gb;const qe=Wt.create({baseURL:typeof window<"u"&&((Gb=window.Sportarr)==null?void 0:Gb.apiRoot)||"/api",headers:{"Content-Type":"application/json"}});qe.interceptors.request.use(a=>{var r;return typeof window<"u"&&((r=window.Sportarr)!=null&&r.apiKey)&&(a.headers["X-Api-Key"]=window.Sportarr.apiKey),a});const h5=()=>Jt({queryKey:["events"],queryFn:async()=>{const{data:a}=await qe.get("/events");return a}}),Gy=()=>Jt({queryKey:["system","status"],queryFn:async()=>{const{data:a}=await qe.get("/system/status");return a}}),f5=()=>Jt({queryKey:["qualityProfiles"],queryFn:async()=>{const{data:a}=await qe.get("/qualityprofile");return a}}),x5=()=>Jt({queryKey:["indexers"],queryFn:async()=>{const{data:a}=await qe.get("/indexer");return a},refetchInterval:3e4}),g5=()=>{const a=Ys();return rs({mutationFn:async r=>{const{data:l}=await qe.post("/indexer",r);return l},onSuccess:()=>{a.invalidateQueries({queryKey:["indexers"]})}})},p5=()=>{const a=Ys();return rs({mutationFn:async r=>{const{data:l}=await qe.put(`/indexer/${r.id}`,r);return l},onSuccess:()=>{a.invalidateQueries({queryKey:["indexers"]})}})},b5=()=>{const a=Ys();return rs({mutationFn:async r=>{await qe.delete(`/indexer/${r}`)},onSuccess:()=>{a.invalidateQueries({queryKey:["indexers"]})}})},y5=()=>{const a=Ys();return rs({mutationFn:async r=>{await qe.post("/indexer/bulk/delete",{ids:r})},onSuccess:()=>{a.invalidateQueries({queryKey:["indexers"]})}})},v5=()=>Jt({queryKey:["logFiles"],queryFn:async()=>{const{data:a}=await qe.get("/log/file");return a},refetchInterval:5e3}),j5=a=>Jt({queryKey:["logFile",a],queryFn:async()=>{if(!a)return null;const{data:r}=await qe.get(`/log/file/${a}`);return r},enabled:!!a,refetchInterval:3e3}),Yy=a=>Jt({queryKey:["tasks",a],queryFn:async()=>{const r=a?`?pageSize=${a}`:"",{data:l}=await qe.get(`/task${r}`);return l},refetchInterval:2e3}),w5=()=>{const a=Ys();return rs({mutationFn:async r=>{const{data:l}=await qe.post("/task",r);return l},onSuccess:()=>{a.invalidateQueries({queryKey:["tasks"]})}})},N5=()=>{const a=Ys();return rs({mutationFn:async r=>{await qe.delete(`/task/${r}`)},onSuccess:()=>{a.invalidateQueries({queryKey:["tasks"]})}})};function S5({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const Qs=u.forwardRef(S5);function C5({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const hd=u.forwardRef(C5);function k5({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 12c0-1.232-.046-2.453-.138-3.662a4.006 4.006 0 0 0-3.7-3.7 48.678 48.678 0 0 0-7.324 0 4.006 4.006 0 0 0-3.7 3.7c-.017.22-.032.441-.046.662M19.5 12l3-3m-3 3-3-3m-12 3c0 1.232.046 2.453.138 3.662a4.006 4.006 0 0 0 3.7 3.7 48.656 48.656 0 0 0 7.324 0 4.006 4.006 0 0 0 3.7-3.7c.017-.22.032-.441.046-.662M4.5 12l3 3m-3-3-3 3"}))}const E5=u.forwardRef(k5);function T5({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const Rt=u.forwardRef(T5);function A5({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const ib=u.forwardRef(A5);function R5({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const D5=u.forwardRef(R5);function M5({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const rh=u.forwardRef(M5);function F5({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const nh=u.forwardRef(F5);function O5({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const Xn=u.forwardRef(O5);function L5({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const U5=u.forwardRef(L5);function z5({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Ut=u.forwardRef(z5);function B5({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const Sr=u.forwardRef(B5);function P5({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const Ss=u.forwardRef(P5);function q5({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const $5=u.forwardRef(q5);function H5({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const To=u.forwardRef(H5);function _5({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 15 12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"}))}const I5=u.forwardRef(_5);function Q5({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))}const Fa=u.forwardRef(Q5);function G5({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const Vy=u.forwardRef(G5);function Y5({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Rr=u.forwardRef(Y5);function V5({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9.75v6.75m0 0-3-3m3 3 3-3m-8.25 6a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"}))}const oo=u.forwardRef(V5);function K5({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const p0=u.forwardRef(K5);function Z5({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const _h=u.forwardRef(Z5);function X5({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.125 2.25h-4.5c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125v-9M10.125 2.25h.375a9 9 0 0 1 9 9v.375M10.125 2.25A3.375 3.375 0 0 1 13.5 5.625v1.5c0 .621.504 1.125 1.125 1.125h1.5a3.375 3.375 0 0 1 3.375 3.375M9 15l2.25 2.25L15 12"}))}const Zc=u.forwardRef(X5);function J5({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const Ky=u.forwardRef(J5);function W5({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const eS=u.forwardRef(W5);function tS({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const kr=u.forwardRef(tS);function sS({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const za=u.forwardRef(sS);function aS({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Zy=u.forwardRef(aS);function rS({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h1.5C5.496 19.5 6 18.996 6 18.375m-3.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-1.5A1.125 1.125 0 0 1 18 18.375M20.625 4.5H3.375m17.25 0c.621 0 1.125.504 1.125 1.125M20.625 4.5h-1.5C18.504 4.5 18 5.004 18 5.625m3.75 0v1.5c0 .621-.504 1.125-1.125 1.125M3.375 4.5c-.621 0-1.125.504-1.125 1.125M3.375 4.5h1.5C5.496 4.5 6 5.004 6 5.625m-3.75 0v1.5c0 .621.504 1.125 1.125 1.125m0 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m1.5-3.75C5.496 8.25 6 7.746 6 7.125v-1.5M4.875 8.25C5.496 8.25 6 8.754 6 9.375v1.5m0-5.25v5.25m0-5.25C6 5.004 6.504 4.5 7.125 4.5h9.75c.621 0 1.125.504 1.125 1.125m1.125 2.625h1.5m-1.5 0A1.125 1.125 0 0 1 18 7.125v-1.5m1.125 2.625c-.621 0-1.125.504-1.125 1.125v1.5m2.625-2.625c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125M18 5.625v5.25M7.125 12h9.75m-9.75 0A1.125 1.125 0 0 1 6 10.875M7.125 12C6.504 12 6 12.504 6 13.125m0-2.25C6 11.496 5.496 12 4.875 12M18 10.875c0 .621-.504 1.125-1.125 1.125M18 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m-12 5.25v-5.25m0 5.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125m-12 0v-1.5c0-.621-.504-1.125-1.125-1.125M18 18.375v-5.25m0 5.25v-1.5c0-.621.504-1.125 1.125-1.125M18 13.125v1.5c0 .621.504 1.125 1.125 1.125M18 13.125c0-.621.504-1.125 1.125-1.125M6 13.125v1.5c0 .621-.504 1.125-1.125 1.125M6 13.125C6 12.504 5.496 12 4.875 12m-1.5 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M19.125 12h1.5m0 0c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h1.5m14.25 0h1.5"}))}const sl=u.forwardRef(rS);function nS({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9 13.5 3 3m0 0 3-3m-3 3v-6m1.06-4.19-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))}const lS=u.forwardRef(nS);function iS({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 13.5H9m4.06-7.19-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))}const oS=u.forwardRef(iS);function cS({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 0 0-1.883 2.542l.857 6a2.25 2.25 0 0 0 2.227 1.932H19.05a2.25 2.25 0 0 0 2.227-1.932l.857-6a2.25 2.25 0 0 0-1.883-2.542m-16.5 0V6A2.25 2.25 0 0 1 6 3.75h3.879a1.5 1.5 0 0 1 1.06.44l2.122 2.12a1.5 1.5 0 0 0 1.06.44H18A2.25 2.25 0 0 1 20.25 9v.776"}))}const Ih=u.forwardRef(cS);function dS({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10.5v6m3-3H9m4.06-7.19-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))}const uS=u.forwardRef(dS);function mS({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))}const va=u.forwardRef(mS);function hS({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const Xy=u.forwardRef(hS);function fS({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const Jy=u.forwardRef(fS);function xS({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const b0=u.forwardRef(xS);function gS({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const ja=u.forwardRef(gS);function pS({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const bS=u.forwardRef(pS);function yS({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"}))}const ob=u.forwardRef(yS);function vS({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const jS=u.forwardRef(vS);function wS({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const ks=u.forwardRef(wS);function NS({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const Wy=u.forwardRef(NS);function SS({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.364 18.364A9 9 0 0 0 5.636 5.636m12.728 12.728A9 9 0 0 1 5.636 5.636m12.728 12.728L5.636 5.636"}))}const co=u.forwardRef(SS);function CS({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.53 16.122a3 3 0 0 0-5.78 1.128 2.25 2.25 0 0 1-2.4 2.245 4.5 4.5 0 0 0 8.4-2.245c0-.399-.078-.78-.22-1.128Zm0 0a15.998 15.998 0 0 0 3.388-1.62m-5.043-.025a15.994 15.994 0 0 1 1.622-3.395m3.42 3.42a15.995 15.995 0 0 0 4.764-4.648l3.876-5.814a1.151 1.151 0 0 0-1.597-1.597L14.146 6.32a15.996 15.996 0 0 0-4.649 4.763m3.42 3.42a6.776 6.776 0 0 0-3.42-3.42"}))}const kS=u.forwardRef(CS);function ES({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const cb=u.forwardRef(ES);function TS({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Xa=u.forwardRef(TS);function AS({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const RS=u.forwardRef(AS);function DS({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const ws=u.forwardRef(DS);function MS({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 17.25v-.228a4.5 4.5 0 0 0-.12-1.03l-2.268-9.64a3.375 3.375 0 0 0-3.285-2.602H7.923a3.375 3.375 0 0 0-3.285 2.602l-2.268 9.64a4.5 4.5 0 0 0-.12 1.03v.228m19.5 0a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3m19.5 0a3 3 0 0 0-3-3H5.25a3 3 0 0 0-3 3m16.5 0h.008v.008h-.008v-.008Zm-3 0h.008v.008h-.008v-.008Z"}))}const y0=u.forwardRef(MS);function FS({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const Qh=u.forwardRef(FS);function OS({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 7.5A2.25 2.25 0 0 1 7.5 5.25h9a2.25 2.25 0 0 1 2.25 2.25v9a2.25 2.25 0 0 1-2.25 2.25h-9a2.25 2.25 0 0 1-2.25-2.25v-9Z"}))}const Xc=u.forwardRef(OS);function LS({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const v0=u.forwardRef(LS);function US({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const vt=u.forwardRef(US);function zS({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"}))}const fd=u.forwardRef(zS);function BS({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 20.25h12m-7.5-3v3m3-3v3m-10.125-3h17.25c.621 0 1.125-.504 1.125-1.125V4.875c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125Z"}))}const uo=u.forwardRef(BS);function PS({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const lh=u.forwardRef(PS);function qS({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const $S=u.forwardRef(qS);function HS({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Es=u.forwardRef(HS);function _S({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const pt=u.forwardRef(_S);function IS(){const{data:a}=Yy(10),[r,l]=u.useState(null),[o,d]=u.useState(!1),[h,f]=u.useState(null),[p,x]=u.useState(!0),g=u.useRef(new Set),b=u.useRef(null);if(u.useEffect(()=>()=>{b.current&&clearTimeout(b.current)},[]),u.useEffect(()=>{if(!a||a.length===0){l(null);return}p&&(a.forEach(D=>{D.id&&g.current.add(D.id)}),x(!1));const S=a.find(D=>D.status==="Running"||D.status==="Queued"||D.status==="Aborting");if(S)l(S),d(!1),S.id&&!g.current.has(S.id)&&g.current.add(S.id);else{const D=a.find(U=>{if(U.status!=="Completed"&&U.status!=="Failed"||!U.ended||!U.id||g.current.has(U.id))return!1;const y=new Date(U.ended).getTime();return Date.now()-y<3e3});D&&D.id!==(h==null?void 0:h.id)?(D.id&&g.current.add(D.id),f(D),l(D),d(!0),b.current&&clearTimeout(b.current),b.current=setTimeout(()=>{d(!1),l(null)},3e3)):o||l(null)}},[a,h==null?void 0:h.id,o,p]),!r)return null;const w=r.progress??0,T=r.status==="Running",j=r.status==="Queued",C=r.status==="Completed",E=r.status==="Failed";return e.jsxs("div",{className:"mx-4 mb-3 p-3 bg-gray-800/50 border border-red-900/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[(T||j)&&e.jsx(Rt,{className:"w-4 h-4 text-blue-400 animate-spin flex-shrink-0"}),C&&e.jsx(Ut,{className:"w-4 h-4 text-green-400 flex-shrink-0"}),E&&e.jsx(Es,{className:"w-4 h-4 text-red-400 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-xs font-medium text-gray-200 truncate",children:r.name}),r.message&&e.jsx("div",{className:"text-xs text-gray-400 truncate mt-0.5",children:r.message})]}),T&&e.jsxs("div",{className:"text-xs text-gray-400 flex-shrink-0",children:[Math.round(w),"%"]})]}),T&&e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-1.5 overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-red-600 to-red-500 transition-all duration-300 ease-out",style:{width:`${Math.min(100,Math.max(0,w))}%`}})}),(C||E)&&e.jsx("div",{className:`text-xs ${E?"text-red-400":"text-green-400"}`,children:E?"Task failed":"Task completed"})]})}function QS(){const a=na(),r=Sa(),{data:l}=Gy(),[o,d]=u.useState(["Leagues"]);u.useEffect(()=>{document.querySelectorAll("[inert]").forEach(w=>{w.removeAttribute("inert")});const b=setTimeout(()=>{document.querySelectorAll("[inert]").forEach(w=>{w.removeAttribute("inert")})},100);return()=>clearTimeout(b)},[a.pathname]);const h=[{label:"Leagues",icon:va,path:"/leagues",children:[{label:"Add League",path:"/add-league/search"},{label:"Library Import",path:"/library-import"}]},{label:"Calendar",icon:Rr,path:"/calendar"},{label:"Activity",icon:Rr,path:"/activity"},{label:"Wanted",icon:kr,path:"/wanted"},{label:"Settings",icon:p0,path:"/settings",children:[{label:"Media Management",path:"/settings/mediamanagement"},{label:"Profiles",path:"/settings/profiles"},{label:"Quality",path:"/settings/quality"},{label:"Custom Formats",path:"/settings/customformats"},{label:"TRaSH Guides",path:"/settings/trashguides"},{label:"Indexers",path:"/settings/indexers"},{label:"Import Lists",path:"/settings/importlists"},{label:"Download Clients",path:"/settings/downloadclients"},{label:"Notifications",path:"/settings/notifications"},{label:"General",path:"/settings/general"},{label:"UI",path:"/settings/ui"},{label:"Tags",path:"/settings/tags"}]},{label:"System",icon:y0,path:"/system",children:[{label:"Status",path:"/system/status"},{label:"Health",path:"/system/health"},{label:"Tasks",path:"/system/tasks"},{label:"Backup",path:"/system/backup"},{label:"Updates",path:"/system/updates"},{label:"Events",path:"/system/events"},{label:"Log Files",path:"/system/logs"}]}],f=b=>{d(w=>w.includes(b)?w.filter(T=>T!==b):[...w,b])},p=()=>{document.querySelectorAll("[inert]").forEach(b=>{b.removeAttribute("inert")})},x=b=>{p(),f(b.label),b.path&&r(b.path)},g=(b,w)=>b?a.pathname===b:w?w.some(T=>a.pathname===T.path):!1;return u.useEffect(()=>{const b=h.find(w=>w.path&&a.pathname===w.path?!0:w.children?w.children.some(T=>a.pathname===T.path):!1);b&&d(b.children?[b.label]:[])},[a.pathname]),e.jsxs("div",{className:"flex h-screen bg-black text-gray-100",children:[e.jsxs("aside",{className:"w-64 bg-gradient-to-b from-gray-900 to-black border-r border-red-900/30 flex flex-col",children:[e.jsx("div",{className:"p-4 border-b border-red-900/30",children:e.jsxs(io,{to:"/leagues",onClick:p,className:"flex items-center space-x-3",children:[e.jsx("img",{src:"/logo-64.png",alt:"Sportarr Logo",className:"w-10 h-10 rounded-lg"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-white",children:"Sportarr"}),l&&e.jsxs("p",{className:"text-xs text-gray-400",children:["v",l.version]})]})]})}),e.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:h.map(b=>e.jsx("div",{children:b.children?e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>x(b),className:`w-full flex items-center justify-between px-4 py-2.5 text-sm font-medium transition-colors ${g(b.path,b.children)?"bg-red-900/30 text-white border-l-4 border-red-600":"text-gray-300 hover:bg-red-900/10 hover:text-white"}`,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(b.icon,{className:"w-5 h-5"}),e.jsx("span",{children:b.label})]}),e.jsx(Ss,{className:`w-4 h-4 transition-transform ${o.includes(b.label)?"rotate-180":""}`})]}),o.includes(b.label)&&e.jsx("div",{className:"bg-black/30",children:b.children.map(w=>e.jsx(io,{to:w.path,onClick:p,className:`block px-4 py-2 pl-12 text-sm transition-colors ${a.pathname===w.path?"bg-red-900/30 text-white border-l-4 border-red-600":"text-gray-400 hover:bg-red-900/10 hover:text-white"}`,children:w.label},w.path))})]}):e.jsxs(io,{to:b.path,onClick:p,className:`flex items-center space-x-3 px-4 py-2.5 text-sm font-medium transition-colors ${a.pathname===b.path?"bg-red-900/30 text-white border-l-4 border-red-600":"text-gray-300 hover:bg-red-900/10 hover:text-white"}`,children:[e.jsx(b.icon,{className:"w-5 h-5"}),e.jsx("span",{children:b.label})]})},b.label))}),e.jsx(IS,{}),e.jsx("div",{className:"p-4 border-t border-red-900/30",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-xs text-gray-500",children:[e.jsx("p",{children:" 2025 Sportarr"}),e.jsx("p",{className:"mt-1",children:"Universal Sports Event Manager"})]}),e.jsx("a",{href:"https://discord.gg/YjHVWGWjjG",target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-[#5865F2] transition-colors",title:"Join our Discord server for support",children:e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",children:e.jsx("path",{d:"M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515a.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0a12.64 12.64 0 0 0-.617-1.25a.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057a19.9 19.9 0 0 0 5.993 3.03a.078.078 0 0 0 .084-.028a14.09 14.09 0 0 0 1.226-1.994a.076.076 0 0 0-.041-.106a13.107 13.107 0 0 1-1.872-.892a.077.077 0 0 1-.008-.128a10.2 10.2 0 0 0 .372-.292a.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127a12.299 12.299 0 0 1-1.873.892a.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028a19.839 19.839 0 0 0 6.002-3.03a.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.956-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.955-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.946 2.418-2.157 2.418z"})})})]})})]}),e.jsx("main",{className:"flex-1 overflow-auto bg-gradient-to-br from-gray-950 via-black to-gray-950",children:e.jsx(E1,{})})]})}class GS extends u.Component{constructor(l){super(l);Qm(this,"handleReload",()=>{window.location.reload()});Qm(this,"handleGoHome",()=>{window.location.href="/leagues"});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(l){return{hasError:!0}}componentDidCatch(l,o){console.error("ErrorBoundary caught an error:",l,o),pe.error("Application Error",{description:l.message||"An unexpected error occurred. Please try reloading the page.",duration:1e4}),this.logErrorToService(l,o),this.setState({error:l,errorInfo:o})}logErrorToService(l,o){console.error("Error logged to service:",{error:l,errorInfo:o})}render(){var l;return this.state.hasError?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-2xl w-full text-center",children:[e.jsx("div",{className:"mb-8",children:e.jsx("img",{src:"/error.png",alt:"Error",className:"w-full max-w-md mx-auto"})}),e.jsx("h1",{className:"text-6xl font-bold text-white mb-4",children:"Oops!"}),e.jsx("h2",{className:"text-3xl font-semibold text-red-500 mb-4",children:"Application Error"}),e.jsx("p",{className:"text-xl text-gray-400 mb-8",children:((l=this.state.error)==null?void 0:l.message)||"An unexpected error occurred"}),e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsxs("button",{onClick:this.handleReload,className:"flex items-center px-6 py-3 bg-gray-800 hover:bg-gray-700 text-white font-semibold rounded-lg transition-colors",children:[e.jsx(Rt,{className:"w-5 h-5 mr-2"}),"Reload Page"]}),e.jsxs("button",{onClick:this.handleGoHome,className:"flex items-center px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white font-semibold rounded-lg shadow-lg transform transition hover:scale-105",children:[e.jsx(b0,{className:"w-5 h-5 mr-2"}),"Go to Events"]})]}),this.state.error&&e.jsxs("details",{className:"mt-8 text-left",children:[e.jsx("summary",{className:"cursor-pointer text-gray-400 hover:text-white mb-2",children:"Technical Details (click to expand)"}),e.jsxs("div",{className:"p-4 bg-gray-900/80 border border-gray-800 rounded-lg text-xs",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("span",{className:"text-red-400 font-semibold",children:"Error:"}),e.jsx("pre",{className:"text-gray-400 mt-1 overflow-x-auto",children:this.state.error.toString()})]}),this.state.errorInfo&&e.jsxs("div",{children:[e.jsx("span",{className:"text-red-400 font-semibold",children:"Component Stack:"}),e.jsx("pre",{className:"text-gray-400 mt-1 overflow-x-auto",children:this.state.errorInfo.componentStack})]})]})]}),e.jsxs("div",{className:"mt-12 p-6 bg-gray-900/50 border border-gray-800 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Need Help?"}),e.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"If this error persists, try the following:"}),e.jsxs("ul",{className:"text-sm text-gray-400 space-y-2 text-left max-w-md mx-auto",children:[e.jsx("li",{children:" Clear your browser cache and reload the page"}),e.jsx("li",{children:" Check the browser console for additional error details"}),e.jsx("li",{children:" Disable browser extensions that might interfere"}),e.jsx("li",{children:" Try accessing the application in an incognito window"}),e.jsx("li",{children:" Report the issue on GitHub with the error details above"})]})]})]})}):this.props.children}}const ev=u.createContext(void 0);function YS({children:a}){const[r,l]=u.useState(!1),[o,d]=u.useState(!0),[h,f]=u.useState(!1),[p,x]=u.useState(!0),g=Sa(),b=na(),w=u.useRef(!1),T=u.useRef(b.pathname),j=u.useCallback(async()=>{try{console.log("[AUTH] Checking authentication status...");const S=await fetch("/api/auth/check"),D=b.pathname;if(S.ok){const U=await S.json();if(console.log("[AUTH] Auth check response:",U),f(U.setupComplete),l(U.authenticated),!U.setupComplete){console.log("[AUTH] Setup not complete, redirecting to /setup"),D!=="/setup"&&g("/setup",{replace:!0});return}if(U.setupComplete&&!U.authenticated){console.log("[AUTH] Not authenticated, redirecting to /login"),D!=="/login"&&D!=="/setup"&&g(`/login?returnUrl=${encodeURIComponent(D)}`,{replace:!0});return}console.log("[AUTH] Authenticated, allowing access")}else console.error("[AUTH] Auth check failed with status:",S.status),f(!1),l(!1),D!=="/setup"&&g("/setup",{replace:!0})}catch(S){console.error("[AUTH] Failed to check authentication:",S),f(!1),l(!1),b.pathname!=="/setup"&&g("/setup",{replace:!0})}finally{x(!1)}},[g,b.pathname]);u.useEffect(()=>{w.current||(console.log("[AUTH] AuthContext mounted, checking auth once"),w.current=!0,j())},[j]),u.useEffect(()=>{const S=T.current;T.current=b.pathname,(S==="/login"||S==="/setup")&&b.pathname!=="/login"&&b.pathname!=="/setup"&&(console.log("[AUTH] Navigated away from auth pages, re-checking"),j())},[b.pathname,j]);const C=async(S,D,U)=>{try{const y=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:S,password:D,rememberMe:U})});return y.ok&&(await y.json()).success?(l(!0),!0):!1}catch(y){return console.error("Login failed:",y),!1}},E=async()=>{try{await fetch("/api/logout",{method:"POST"})}catch(S){console.error("Logout failed:",S)}finally{l(!1),g("/login")}};return e.jsx(ev.Provider,{value:{isAuthenticated:r,isAuthRequired:o,isSetupComplete:h,isLoading:p,login:C,logout:E,checkAuth:j},children:a})}function tv(){const a=u.useContext(ev);if(a===void 0)throw new Error("useAuth must be used within an AuthProvider");return a}function VS({children:a}){const{isAuthenticated:r,isAuthRequired:l,isSetupComplete:o,isLoading:d}=tv(),h=na();return d?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600 mb-4"}),e.jsx("p",{className:"text-gray-400",children:"Checking authentication..."})]})}):o?l&&!r?(console.log("[PROTECTED ROUTE] Not authenticated, redirecting to /login"),e.jsx(lo,{to:`/login?returnUrl=${encodeURIComponent(h.pathname)}`,replace:!0})):(console.log("[PROTECTED ROUTE] User authenticated, allowing access to:",h.pathname),e.jsx(e.Fragment,{children:a})):(console.log("[PROTECTED ROUTE] Setup not complete, redirecting to /setup"),e.jsx(lo,{to:"/setup",replace:!0}))}var KS=Object.defineProperty,ZS=(a,r,l)=>r in a?KS(a,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[r]=l,ih=(a,r,l)=>(ZS(a,typeof r!="symbol"?r+"":r,l),l);let XS=class{constructor(){ih(this,"current",this.detect()),ih(this,"handoffState","pending"),ih(this,"currentId",0)}set(r){this.current!==r&&(this.handoffState="pending",this.currentId=0,this.current=r)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Ja=new XS;function Ao(a){var r;return Ja.isServer?null:a==null?document:(r=a==null?void 0:a.ownerDocument)!=null?r:document}function Gh(a){var r,l;return Ja.isServer?null:a==null?document:(l=(r=a==null?void 0:a.getRootNode)==null?void 0:r.call(a))!=null?l:document}function sv(a){var r,l;return(l=(r=Gh(a))==null?void 0:r.activeElement)!=null?l:null}function JS(a){return sv(a)===a}function kd(a){typeof queueMicrotask=="function"?queueMicrotask(a):Promise.resolve().then(a).catch(r=>setTimeout(()=>{throw r}))}function Mr(){let a=[],r={addEventListener(l,o,d,h){return l.addEventListener(o,d,h),r.add(()=>l.removeEventListener(o,d,h))},requestAnimationFrame(...l){let o=requestAnimationFrame(...l);return r.add(()=>cancelAnimationFrame(o))},nextFrame(...l){return r.requestAnimationFrame(()=>r.requestAnimationFrame(...l))},setTimeout(...l){let o=setTimeout(...l);return r.add(()=>clearTimeout(o))},microTask(...l){let o={current:!0};return kd(()=>{o.current&&l[0]()}),r.add(()=>{o.current=!1})},style(l,o,d){let h=l.style.getPropertyValue(o);return Object.assign(l.style,{[o]:d}),this.add(()=>{Object.assign(l.style,{[o]:h})})},group(l){let o=Mr();return l(o),this.add(()=>o.dispose())},add(l){return a.includes(l)||a.push(l),()=>{let o=a.indexOf(l);if(o>=0)for(let d of a.splice(o,1))d()}},dispose(){for(let l of a.splice(0))l()}};return r}function Ed(){let[a]=u.useState(Mr);return u.useEffect(()=>()=>a.dispose(),[a]),a}let Gs=(a,r)=>{Ja.isServer?u.useEffect(a,r):u.useLayoutEffect(a,r)};function rl(a){let r=u.useRef(a);return Gs(()=>{r.current=a},[a]),r}let zt=function(a){let r=rl(a);return ge.useCallback((...l)=>r.current(...l),[r])};function Ro(a){return u.useMemo(()=>a,Object.values(a))}let WS=u.createContext(void 0);function e3(){return u.useContext(WS)}function Yh(...a){return Array.from(new Set(a.flatMap(r=>typeof r=="string"?r.split(" "):[]))).filter(Boolean).join(" ")}function Dr(a,r,...l){if(a in r){let d=r[a];return typeof d=="function"?d(...l):d}let o=new Error(`Tried to handle "${a}" but there is no handler defined. Only defined handlers are: ${Object.keys(r).map(d=>`"${d}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,Dr),o}var xd=(a=>(a[a.None=0]="None",a[a.RenderStrategy=1]="RenderStrategy",a[a.Static=2]="Static",a))(xd||{}),xn=(a=>(a[a.Unmount=0]="Unmount",a[a.Hidden=1]="Hidden",a))(xn||{});function Ca(){let a=s3();return u.useCallback(r=>t3({mergeRefs:a,...r}),[a])}function t3({ourProps:a,theirProps:r,slot:l,defaultTag:o,features:d,visible:h=!0,name:f,mergeRefs:p}){p=p??a3;let x=av(r,a);if(h)return Jc(x,l,o,f,p);let g=d??0;if(g&2){let{static:b=!1,...w}=x;if(b)return Jc(w,l,o,f,p)}if(g&1){let{unmount:b=!0,...w}=x;return Dr(b?0:1,{0(){return null},1(){return Jc({...w,hidden:!0,style:{display:"none"}},l,o,f,p)}})}return Jc(x,l,o,f,p)}function Jc(a,r={},l,o,d){let{as:h=l,children:f,refName:p="ref",...x}=oh(a,["unmount","static"]),g=a.ref!==void 0?{[p]:a.ref}:{},b=typeof f=="function"?f(r):f;"className"in x&&x.className&&typeof x.className=="function"&&(x.className=x.className(r)),x["aria-labelledby"]&&x["aria-labelledby"]===x.id&&(x["aria-labelledby"]=void 0);let w={};if(r){let T=!1,j=[];for(let[C,E]of Object.entries(r))typeof E=="boolean"&&(T=!0),E===!0&&j.push(C.replace(/([A-Z])/g,S=>`-${S.toLowerCase()}`));if(T){w["data-headlessui-state"]=j.join(" ");for(let C of j)w[`data-${C}`]=""}}if(mo(h)&&(Object.keys(Un(x)).length>0||Object.keys(Un(w)).length>0))if(!u.isValidElement(b)||Array.isArray(b)&&b.length>1||n3(b)){if(Object.keys(Un(x)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${o} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Un(x)).concat(Object.keys(Un(w))).map(T=>`  - ${T}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(T=>`  - ${T}`).join(`
`)].join(`
`))}else{let T=b.props,j=T==null?void 0:T.className,C=typeof j=="function"?(...D)=>Yh(j(...D),x.className):Yh(j,x.className),E=C?{className:C}:{},S=av(b.props,Un(oh(x,["ref"])));for(let D in w)D in S&&delete w[D];return u.cloneElement(b,Object.assign({},S,w,g,{ref:d(r3(b),g.ref)},E))}return u.createElement(h,Object.assign({},oh(x,["ref"]),!mo(h)&&g,!mo(h)&&w),b)}function s3(){let a=u.useRef([]),r=u.useCallback(l=>{for(let o of a.current)o!=null&&(typeof o=="function"?o(l):o.current=l)},[]);return(...l)=>{if(!l.every(o=>o==null))return a.current=l,r}}function a3(...a){return a.every(r=>r==null)?void 0:r=>{for(let l of a)l!=null&&(typeof l=="function"?l(r):l.current=r)}}function av(...a){if(a.length===0)return{};if(a.length===1)return a[0];let r={},l={};for(let o of a)for(let d in o)d.startsWith("on")&&typeof o[d]=="function"?(l[d]!=null||(l[d]=[]),l[d].push(o[d])):r[d]=o[d];if(r.disabled||r["aria-disabled"])for(let o in l)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(o)&&(l[o]=[d=>{var h;return(h=d==null?void 0:d.preventDefault)==null?void 0:h.call(d)}]);for(let o in l)Object.assign(r,{[o](d,...h){let f=l[o];for(let p of f){if((d instanceof Event||(d==null?void 0:d.nativeEvent)instanceof Event)&&d.defaultPrevented)return;p(d,...h)}}});return r}function Vs(a){var r;return Object.assign(u.forwardRef(a),{displayName:(r=a.displayName)!=null?r:a.name})}function Un(a){let r=Object.assign({},a);for(let l in r)r[l]===void 0&&delete r[l];return r}function oh(a,r=[]){let l=Object.assign({},a);for(let o of r)o in l&&delete l[o];return l}function r3(a){return ge.version.split(".")[0]>="19"?a.props.ref:a.ref}function mo(a){return a===u.Fragment||a===Symbol.for("react.fragment")}function n3(a){return mo(a.type)}let l3="span";var gd=(a=>(a[a.None=1]="None",a[a.Focusable=2]="Focusable",a[a.Hidden=4]="Hidden",a))(gd||{});function i3(a,r){var l;let{features:o=1,...d}=a,h={ref:r,"aria-hidden":(o&2)===2?!0:(l=d["aria-hidden"])!=null?l:void 0,hidden:(o&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(o&4)===4&&(o&2)!==2&&{display:"none"}}};return Ca()({ourProps:h,theirProps:d,slot:{},defaultTag:l3,name:"Hidden"})}let Vh=Vs(i3);function o3(a){return typeof a!="object"||a===null?!1:"nodeType"in a}function bn(a){return o3(a)&&"tagName"in a}function al(a){return bn(a)&&"accessKey"in a}function gn(a){return bn(a)&&"tabIndex"in a}function c3(a){return bn(a)&&"style"in a}function d3(a){return al(a)&&a.nodeName==="IFRAME"}function u3(a){return al(a)&&a.nodeName==="INPUT"}let rv=Symbol();function m3(a,r=!0){return Object.assign(a,{[rv]:r})}function Wa(...a){let r=u.useRef(a);u.useEffect(()=>{r.current=a},[a]);let l=zt(o=>{for(let d of r.current)d!=null&&(typeof d=="function"?d(o):d.current=o)});return a.every(o=>o==null||(o==null?void 0:o[rv]))?void 0:l}let j0=u.createContext(null);j0.displayName="DescriptionContext";function nv(){let a=u.useContext(j0);if(a===null){let r=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(r,nv),r}return a}function h3(){let[a,r]=u.useState([]);return[a.length>0?a.join(" "):void 0,u.useMemo(()=>function(l){let o=zt(h=>(r(f=>[...f,h]),()=>r(f=>{let p=f.slice(),x=p.indexOf(h);return x!==-1&&p.splice(x,1),p}))),d=u.useMemo(()=>({register:o,slot:l.slot,name:l.name,props:l.props,value:l.value}),[o,l.slot,l.name,l.props,l.value]);return ge.createElement(j0.Provider,{value:d},l.children)},[r])]}let f3="p";function x3(a,r){let l=u.useId(),o=e3(),{id:d=`headlessui-description-${l}`,...h}=a,f=nv(),p=Wa(r);Gs(()=>f.register(d),[d,f.register]);let x=Ro({...f.slot,disabled:o||!1}),g={ref:p,...f.props,id:d};return Ca()({ourProps:g,theirProps:h,slot:x,defaultTag:f3,name:f.name||"Description"})}let g3=Vs(x3),p3=Object.assign(g3,{});var lv=(a=>(a.Space=" ",a.Enter="Enter",a.Escape="Escape",a.Backspace="Backspace",a.Delete="Delete",a.ArrowLeft="ArrowLeft",a.ArrowUp="ArrowUp",a.ArrowRight="ArrowRight",a.ArrowDown="ArrowDown",a.Home="Home",a.End="End",a.PageUp="PageUp",a.PageDown="PageDown",a.Tab="Tab",a))(lv||{});let b3=u.createContext(()=>{});function y3({value:a,children:r}){return ge.createElement(b3.Provider,{value:a},r)}let iv=class extends Map{constructor(r){super(),this.factory=r}get(r){let l=super.get(r);return l===void 0&&(l=this.factory(r),this.set(r,l)),l}};var v3=Object.defineProperty,j3=(a,r,l)=>r in a?v3(a,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[r]=l,w3=(a,r,l)=>(j3(a,r+"",l),l),ov=(a,r,l)=>{if(!r.has(a))throw TypeError("Cannot "+l)},pa=(a,r,l)=>(ov(a,r,"read from private field"),l?l.call(a):r.get(a)),ch=(a,r,l)=>{if(r.has(a))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(a):r.set(a,l)},db=(a,r,l,o)=>(ov(a,r,"write to private field"),r.set(a,l),l),Ya,so,ao;let N3=class{constructor(r){ch(this,Ya,{}),ch(this,so,new iv(()=>new Set)),ch(this,ao,new Set),w3(this,"disposables",Mr()),db(this,Ya,r),Ja.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return pa(this,Ya)}subscribe(r,l){if(Ja.isServer)return()=>{};let o={selector:r,callback:l,current:r(pa(this,Ya))};return pa(this,ao).add(o),this.disposables.add(()=>{pa(this,ao).delete(o)})}on(r,l){return Ja.isServer?()=>{}:(pa(this,so).get(r).add(l),this.disposables.add(()=>{pa(this,so).get(r).delete(l)}))}send(r){let l=this.reduce(pa(this,Ya),r);if(l!==pa(this,Ya)){db(this,Ya,l);for(let o of pa(this,ao)){let d=o.selector(pa(this,Ya));cv(o.current,d)||(o.current=d,o.callback(d))}for(let o of pa(this,so).get(r.type))o(pa(this,Ya),r)}}};Ya=new WeakMap,so=new WeakMap,ao=new WeakMap;function cv(a,r){return Object.is(a,r)?!0:typeof a!="object"||a===null||typeof r!="object"||r===null?!1:Array.isArray(a)&&Array.isArray(r)?a.length!==r.length?!1:dh(a[Symbol.iterator](),r[Symbol.iterator]()):a instanceof Map&&r instanceof Map||a instanceof Set&&r instanceof Set?a.size!==r.size?!1:dh(a.entries(),r.entries()):ub(a)&&ub(r)?dh(Object.entries(a)[Symbol.iterator](),Object.entries(r)[Symbol.iterator]()):!1}function dh(a,r){do{let l=a.next(),o=r.next();if(l.done&&o.done)return!0;if(l.done||o.done||!Object.is(l.value,o.value))return!1}while(!0)}function ub(a){if(Object.prototype.toString.call(a)!=="[object Object]")return!1;let r=Object.getPrototypeOf(a);return r===null||Object.getPrototypeOf(r)===null}var S3=Object.defineProperty,C3=(a,r,l)=>r in a?S3(a,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[r]=l,mb=(a,r,l)=>(C3(a,typeof r!="symbol"?r+"":r,l),l),k3=(a=>(a[a.Push=0]="Push",a[a.Pop=1]="Pop",a))(k3||{});let E3={0(a,r){let l=r.id,o=a.stack,d=a.stack.indexOf(l);if(d!==-1){let h=a.stack.slice();return h.splice(d,1),h.push(l),o=h,{...a,stack:o}}return{...a,stack:[...a.stack,l]}},1(a,r){let l=r.id,o=a.stack.indexOf(l);if(o===-1)return a;let d=a.stack.slice();return d.splice(o,1),{...a,stack:d}}},T3=class dv extends N3{constructor(){super(...arguments),mb(this,"actions",{push:r=>this.send({type:0,id:r}),pop:r=>this.send({type:1,id:r})}),mb(this,"selectors",{isTop:(r,l)=>r.stack[r.stack.length-1]===l,inStack:(r,l)=>r.stack.includes(l)})}static new(){return new dv({stack:[]})}reduce(r,l){return Dr(l.type,E3,r,l)}};const uv=new iv(()=>T3.new());var uh={exports:{}},mh={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hb;function A3(){if(hb)return mh;hb=1;var a=bd();function r(x,g){return x===g&&(x!==0||1/x===1/g)||x!==x&&g!==g}var l=typeof Object.is=="function"?Object.is:r,o=a.useSyncExternalStore,d=a.useRef,h=a.useEffect,f=a.useMemo,p=a.useDebugValue;return mh.useSyncExternalStoreWithSelector=function(x,g,b,w,T){var j=d(null);if(j.current===null){var C={hasValue:!1,value:null};j.current=C}else C=j.current;j=f(function(){function S(te){if(!D){if(D=!0,U=te,te=w(te),T!==void 0&&C.hasValue){var z=C.value;if(T(z,te))return y=z}return y=te}if(z=y,l(U,te))return z;var k=w(te);return T!==void 0&&T(z,k)?(U=te,z):(U=te,y=k)}var D=!1,U,y,F=b===void 0?null:b;return[function(){return S(g())},F===null?void 0:function(){return S(F())}]},[g,b,w,T]);var E=o(x,j[0],j[1]);return h(function(){C.hasValue=!0,C.value=E},[E]),p(E),E},mh}var fb;function R3(){return fb||(fb=1,uh.exports=A3()),uh.exports}var D3=R3();function mv(a,r,l=cv){return D3.useSyncExternalStoreWithSelector(zt(o=>a.subscribe(M3,o)),zt(()=>a.state),zt(()=>a.state),zt(r),l)}function M3(a){return a}function Do(a,r){let l=u.useId(),o=uv.get(r),[d,h]=mv(o,u.useCallback(f=>[o.selectors.isTop(f,l),o.selectors.inStack(f,l)],[o,l]));return Gs(()=>{if(a)return o.actions.push(l),()=>o.actions.pop(l)},[o,a,l]),a?h?d:!0:!1}let Kh=new Map,ho=new Map;function xb(a){var r;let l=(r=ho.get(a))!=null?r:0;return ho.set(a,l+1),l!==0?()=>gb(a):(Kh.set(a,{"aria-hidden":a.getAttribute("aria-hidden"),inert:a.inert}),a.setAttribute("aria-hidden","true"),a.inert=!0,()=>gb(a))}function gb(a){var r;let l=(r=ho.get(a))!=null?r:1;if(l===1?ho.delete(a):ho.set(a,l-1),l!==1)return;let o=Kh.get(a);o&&(o["aria-hidden"]===null?a.removeAttribute("aria-hidden"):a.setAttribute("aria-hidden",o["aria-hidden"]),a.inert=o.inert,Kh.delete(a))}function F3(a,{allowed:r,disallowed:l}={}){let o=Do(a,"inert-others");Gs(()=>{var d,h;if(!o)return;let f=Mr();for(let x of(d=l==null?void 0:l())!=null?d:[])x&&f.add(xb(x));let p=(h=r==null?void 0:r())!=null?h:[];for(let x of p){if(!x)continue;let g=Ao(x);if(!g)continue;let b=x.parentElement;for(;b&&b!==g.body;){for(let w of b.children)p.some(T=>w.contains(T))||f.add(xb(w));b=b.parentElement}}return f.dispose},[o,r,l])}function O3(a,r,l){let o=rl(d=>{let h=d.getBoundingClientRect();h.x===0&&h.y===0&&h.width===0&&h.height===0&&l()});u.useEffect(()=>{if(!a)return;let d=r===null?null:al(r)?r:r.current;if(!d)return;let h=Mr();if(typeof ResizeObserver<"u"){let f=new ResizeObserver(()=>o.current(d));f.observe(d),h.add(()=>f.disconnect())}if(typeof IntersectionObserver<"u"){let f=new IntersectionObserver(()=>o.current(d));f.observe(d),h.add(()=>f.disconnect())}return()=>h.dispose()},[r,o,a])}let pd=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(a=>`${a}:not([tabindex='-1'])`).join(","),L3=["[data-autofocus]"].map(a=>`${a}:not([tabindex='-1'])`).join(",");var Nr=(a=>(a[a.First=1]="First",a[a.Previous=2]="Previous",a[a.Next=4]="Next",a[a.Last=8]="Last",a[a.WrapAround=16]="WrapAround",a[a.NoScroll=32]="NoScroll",a[a.AutoFocus=64]="AutoFocus",a))(Nr||{}),Zh=(a=>(a[a.Error=0]="Error",a[a.Overflow=1]="Overflow",a[a.Success=2]="Success",a[a.Underflow=3]="Underflow",a))(Zh||{}),U3=(a=>(a[a.Previous=-1]="Previous",a[a.Next=1]="Next",a))(U3||{});function z3(a=document.body){return a==null?[]:Array.from(a.querySelectorAll(pd)).sort((r,l)=>Math.sign((r.tabIndex||Number.MAX_SAFE_INTEGER)-(l.tabIndex||Number.MAX_SAFE_INTEGER)))}function B3(a=document.body){return a==null?[]:Array.from(a.querySelectorAll(L3)).sort((r,l)=>Math.sign((r.tabIndex||Number.MAX_SAFE_INTEGER)-(l.tabIndex||Number.MAX_SAFE_INTEGER)))}var hv=(a=>(a[a.Strict=0]="Strict",a[a.Loose=1]="Loose",a))(hv||{});function P3(a,r=0){var l;return a===((l=Ao(a))==null?void 0:l.body)?!1:Dr(r,{0(){return a.matches(pd)},1(){let o=a;for(;o!==null;){if(o.matches(pd))return!0;o=o.parentElement}return!1}})}var q3=(a=>(a[a.Keyboard=0]="Keyboard",a[a.Mouse=1]="Mouse",a))(q3||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",a=>{a.metaKey||a.altKey||a.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",a=>{a.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:a.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Er(a){a==null||a.focus({preventScroll:!0})}let $3=["textarea","input"].join(",");function H3(a){var r,l;return(l=(r=a==null?void 0:a.matches)==null?void 0:r.call(a,$3))!=null?l:!1}function _3(a,r=l=>l){return a.slice().sort((l,o)=>{let d=r(l),h=r(o);if(d===null||h===null)return 0;let f=d.compareDocumentPosition(h);return f&Node.DOCUMENT_POSITION_FOLLOWING?-1:f&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function fo(a,r,{sorted:l=!0,relativeTo:o=null,skipElements:d=[]}={}){let h=Array.isArray(a)?a.length>0?Gh(a[0]):document:Gh(a),f=Array.isArray(a)?l?_3(a):a:r&64?B3(a):z3(a);d.length>0&&f.length>1&&(f=f.filter(j=>!d.some(C=>C!=null&&"current"in C?(C==null?void 0:C.current)===j:C===j))),o=o??(h==null?void 0:h.activeElement);let p=(()=>{if(r&5)return 1;if(r&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),x=(()=>{if(r&1)return 0;if(r&2)return Math.max(0,f.indexOf(o))-1;if(r&4)return Math.max(0,f.indexOf(o))+1;if(r&8)return f.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),g=r&32?{preventScroll:!0}:{},b=0,w=f.length,T;do{if(b>=w||b+w<=0)return 0;let j=x+b;if(r&16)j=(j+w)%w;else{if(j<0)return 3;if(j>=w)return 1}T=f[j],T==null||T.focus(g),b+=p}while(T!==sv(T));return r&6&&H3(T)&&T.select(),2}function fv(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function I3(){return/Android/gi.test(window.navigator.userAgent)}function pb(){return fv()||I3()}function Wc(a,r,l,o){let d=rl(l);u.useEffect(()=>{if(!a)return;function h(f){d.current(f)}return document.addEventListener(r,h,o),()=>document.removeEventListener(r,h,o)},[a,r,o])}function xv(a,r,l,o){let d=rl(l);u.useEffect(()=>{if(!a)return;function h(f){d.current(f)}return window.addEventListener(r,h,o),()=>window.removeEventListener(r,h,o)},[a,r,o])}const bb=30;function Q3(a,r,l){let o=rl(l),d=u.useCallback(function(p,x){if(p.defaultPrevented)return;let g=x(p);if(g===null||!g.getRootNode().contains(g)||!g.isConnected)return;let b=(function w(T){return typeof T=="function"?w(T()):Array.isArray(T)||T instanceof Set?T:[T]})(r);for(let w of b)if(w!==null&&(w.contains(g)||p.composed&&p.composedPath().includes(w)))return;return!P3(g,hv.Loose)&&g.tabIndex!==-1&&p.preventDefault(),o.current(p,g)},[o,r]),h=u.useRef(null);Wc(a,"pointerdown",p=>{var x,g;pb()||(h.current=((g=(x=p.composedPath)==null?void 0:x.call(p))==null?void 0:g[0])||p.target)},!0),Wc(a,"pointerup",p=>{if(pb()||!h.current)return;let x=h.current;return h.current=null,d(p,()=>x)},!0);let f=u.useRef({x:0,y:0});Wc(a,"touchstart",p=>{f.current.x=p.touches[0].clientX,f.current.y=p.touches[0].clientY},!0),Wc(a,"touchend",p=>{let x={x:p.changedTouches[0].clientX,y:p.changedTouches[0].clientY};if(!(Math.abs(x.x-f.current.x)>=bb||Math.abs(x.y-f.current.y)>=bb))return d(p,()=>gn(p.target)?p.target:null)},!0),xv(a,"blur",p=>d(p,()=>d3(window.document.activeElement)?window.document.activeElement:null),!0)}function w0(...a){return u.useMemo(()=>Ao(...a),[...a])}function gv(a,r,l,o){let d=rl(l);u.useEffect(()=>{a=a??window;function h(f){d.current(f)}return a.addEventListener(r,h,o),()=>a.removeEventListener(r,h,o)},[a,r,o])}function G3(a){return u.useSyncExternalStore(a.subscribe,a.getSnapshot,a.getSnapshot)}function Y3(a,r){let l=a(),o=new Set;return{getSnapshot(){return l},subscribe(d){return o.add(d),()=>o.delete(d)},dispatch(d,...h){let f=r[d].call(l,...h);f&&(l=f,o.forEach(p=>p()))}}}function V3(){let a;return{before({doc:r}){var l;let o=r.documentElement,d=(l=r.defaultView)!=null?l:window;a=Math.max(0,d.innerWidth-o.clientWidth)},after({doc:r,d:l}){let o=r.documentElement,d=Math.max(0,o.clientWidth-o.offsetWidth),h=Math.max(0,a-d);l.style(o,"paddingRight",`${h}px`)}}}function K3(){return fv()?{before({doc:a,d:r,meta:l}){function o(d){for(let h of l().containers)for(let f of h())if(f.contains(d))return!0;return!1}r.microTask(()=>{var d;if(window.getComputedStyle(a.documentElement).scrollBehavior!=="auto"){let p=Mr();p.style(a.documentElement,"scrollBehavior","auto"),r.add(()=>r.microTask(()=>p.dispose()))}let h=(d=window.scrollY)!=null?d:window.pageYOffset,f=null;r.addEventListener(a,"click",p=>{if(gn(p.target))try{let x=p.target.closest("a");if(!x)return;let{hash:g}=new URL(x.href),b=a.querySelector(g);gn(b)&&!o(b)&&(f=b)}catch{}},!0),r.group(p=>{r.addEventListener(a,"touchstart",x=>{if(p.dispose(),gn(x.target)&&c3(x.target))if(o(x.target)){let g=x.target;for(;g.parentElement&&o(g.parentElement);)g=g.parentElement;p.style(g,"overscrollBehavior","contain")}else p.style(x.target,"touchAction","none")})}),r.addEventListener(a,"touchmove",p=>{if(gn(p.target)){if(u3(p.target))return;if(o(p.target)){let x=p.target;for(;x.parentElement&&x.dataset.headlessuiPortal!==""&&!(x.scrollHeight>x.clientHeight||x.scrollWidth>x.clientWidth);)x=x.parentElement;x.dataset.headlessuiPortal===""&&p.preventDefault()}else p.preventDefault()}},{passive:!1}),r.add(()=>{var p;let x=(p=window.scrollY)!=null?p:window.pageYOffset;h!==x&&window.scrollTo(0,h),f&&f.isConnected&&(f.scrollIntoView({block:"nearest"}),f=null)})})}}:{}}function Z3(){return{before({doc:a,d:r}){r.style(a.documentElement,"overflow","hidden")}}}function yb(a){let r={};for(let l of a)Object.assign(r,l(r));return r}let qn=Y3(()=>new Map,{PUSH(a,r){var l;let o=(l=this.get(a))!=null?l:{doc:a,count:0,d:Mr(),meta:new Set,computedMeta:{}};return o.count++,o.meta.add(r),o.computedMeta=yb(o.meta),this.set(a,o),this},POP(a,r){let l=this.get(a);return l&&(l.count--,l.meta.delete(r),l.computedMeta=yb(l.meta)),this},SCROLL_PREVENT(a){let r={doc:a.doc,d:a.d,meta(){return a.computedMeta}},l=[K3(),V3(),Z3()];l.forEach(({before:o})=>o==null?void 0:o(r)),l.forEach(({after:o})=>o==null?void 0:o(r))},SCROLL_ALLOW({d:a}){a.dispose()},TEARDOWN({doc:a}){this.delete(a)}});qn.subscribe(()=>{let a=qn.getSnapshot(),r=new Map;for(let[l]of a)r.set(l,l.documentElement.style.overflow);for(let l of a.values()){let o=r.get(l.doc)==="hidden",d=l.count!==0;(d&&!o||!d&&o)&&qn.dispatch(l.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",l),l.count===0&&qn.dispatch("TEARDOWN",l)}});function X3(a,r,l=()=>({containers:[]})){let o=G3(qn),d=r?o.get(r):void 0,h=d?d.count>0:!1;return Gs(()=>{if(!(!r||!a))return qn.dispatch("PUSH",r,l),()=>qn.dispatch("POP",r,l)},[a,r]),h}function J3(a,r,l=()=>[document.body]){let o=Do(a,"scroll-lock");X3(o,r,d=>{var h;return{containers:[...(h=d.containers)!=null?h:[],l]}})}function W3(a=0){let[r,l]=u.useState(a),o=u.useCallback(x=>l(x),[]),d=u.useCallback(x=>l(g=>g|x),[]),h=u.useCallback(x=>(r&x)===x,[r]),f=u.useCallback(x=>l(g=>g&~x),[]),p=u.useCallback(x=>l(g=>g^x),[]);return{flags:r,setFlag:o,addFlag:d,hasFlag:h,removeFlag:f,toggleFlag:p}}var e6={},vb,jb;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((vb=process==null?void 0:e6)==null?void 0:vb.NODE_ENV)==="test"&&typeof((jb=Element==null?void 0:Element.prototype)==null?void 0:jb.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var t6=(a=>(a[a.None=0]="None",a[a.Closed=1]="Closed",a[a.Enter=2]="Enter",a[a.Leave=4]="Leave",a))(t6||{});function s6(a){let r={};for(let l in a)a[l]===!0&&(r[`data-${l}`]="");return r}function a6(a,r,l,o){let[d,h]=u.useState(l),{hasFlag:f,addFlag:p,removeFlag:x}=W3(a&&d?3:0),g=u.useRef(!1),b=u.useRef(!1),w=Ed();return Gs(()=>{var T;if(a){if(l&&h(!0),!r){l&&p(3);return}return(T=o==null?void 0:o.start)==null||T.call(o,l),r6(r,{inFlight:g,prepare(){b.current?b.current=!1:b.current=g.current,g.current=!0,!b.current&&(l?(p(3),x(4)):(p(4),x(2)))},run(){b.current?l?(x(3),p(4)):(x(4),p(3)):l?x(1):p(1)},done(){var j;b.current&&i6(r)||(g.current=!1,x(7),l||h(!1),(j=o==null?void 0:o.end)==null||j.call(o,l))}})}},[a,l,r,w]),a?[d,{closed:f(1),enter:f(2),leave:f(4),transition:f(2)||f(4)}]:[l,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function r6(a,{prepare:r,run:l,done:o,inFlight:d}){let h=Mr();return l6(a,{prepare:r,inFlight:d}),h.nextFrame(()=>{l(),h.requestAnimationFrame(()=>{h.add(n6(a,o))})}),h.dispose}function n6(a,r){var l,o;let d=Mr();if(!a)return d.dispose;let h=!1;d.add(()=>{h=!0});let f=(o=(l=a.getAnimations)==null?void 0:l.call(a).filter(p=>p instanceof CSSTransition))!=null?o:[];return f.length===0?(r(),d.dispose):(Promise.allSettled(f.map(p=>p.finished)).then(()=>{h||r()}),d.dispose)}function l6(a,{inFlight:r,prepare:l}){if(r!=null&&r.current){l();return}let o=a.style.transition;a.style.transition="none",l(),a.offsetHeight,a.style.transition=o}function i6(a){var r,l;return((l=(r=a.getAnimations)==null?void 0:r.call(a))!=null?l:[]).some(o=>o instanceof CSSTransition&&o.playState!=="finished")}function N0(a,r){let l=u.useRef([]),o=zt(a);u.useEffect(()=>{let d=[...l.current];for(let[h,f]of r.entries())if(l.current[h]!==f){let p=o(r,d);return l.current=r,p}},[o,...r])}let Td=u.createContext(null);Td.displayName="OpenClosedContext";var Ua=(a=>(a[a.Open=1]="Open",a[a.Closed=2]="Closed",a[a.Closing=4]="Closing",a[a.Opening=8]="Opening",a))(Ua||{});function Ad(){return u.useContext(Td)}function o6({value:a,children:r}){return ge.createElement(Td.Provider,{value:a},r)}function c6({children:a}){return ge.createElement(Td.Provider,{value:null},a)}function d6(a){function r(){document.readyState!=="loading"&&(a(),document.removeEventListener("DOMContentLoaded",r))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",r),r())}let rn=[];d6(()=>{function a(r){if(!gn(r.target)||r.target===document.body||rn[0]===r.target)return;let l=r.target;l=l.closest(pd),rn.unshift(l??r.target),rn=rn.filter(o=>o!=null&&o.isConnected),rn.splice(10)}window.addEventListener("click",a,{capture:!0}),window.addEventListener("mousedown",a,{capture:!0}),window.addEventListener("focus",a,{capture:!0}),document.body.addEventListener("click",a,{capture:!0}),document.body.addEventListener("mousedown",a,{capture:!0}),document.body.addEventListener("focus",a,{capture:!0})});function pv(a){let r=zt(a),l=u.useRef(!1);u.useEffect(()=>(l.current=!1,()=>{l.current=!0,kd(()=>{l.current&&r()})}),[r])}let bv=u.createContext(!1);function u6(){return u.useContext(bv)}function wb(a){return ge.createElement(bv.Provider,{value:a.force},a.children)}function m6(a){let r=u6(),l=u.useContext(vv),[o,d]=u.useState(()=>{var h;if(!r&&l!==null)return(h=l.current)!=null?h:null;if(Ja.isServer)return null;let f=a==null?void 0:a.getElementById("headlessui-portal-root");if(f)return f;if(a===null)return null;let p=a.createElement("div");return p.setAttribute("id","headlessui-portal-root"),a.body.appendChild(p)});return u.useEffect(()=>{o!==null&&(a!=null&&a.body.contains(o)||a==null||a.body.appendChild(o))},[o,a]),u.useEffect(()=>{r||l!==null&&d(l.current)},[l,d,r]),o}let yv=u.Fragment,h6=Vs(function(a,r){let{ownerDocument:l=null,...o}=a,d=u.useRef(null),h=Wa(m3(T=>{d.current=T}),r),f=w0(d.current),p=l??f,x=m6(p),g=u.useContext(Xh),b=Ed(),w=Ca();return pv(()=>{var T;x&&x.childNodes.length<=0&&((T=x.parentElement)==null||T.removeChild(x))}),x?jy.createPortal(ge.createElement("div",{"data-headlessui-portal":"",ref:T=>{b.dispose(),g&&T&&b.add(g.register(T))}},w({ourProps:{ref:h},theirProps:o,slot:{},defaultTag:yv,name:"Portal"})),x):null});function f6(a,r){let l=Wa(r),{enabled:o=!0,ownerDocument:d,...h}=a,f=Ca();return o?ge.createElement(h6,{...h,ownerDocument:d,ref:l}):f({ourProps:{ref:l},theirProps:h,slot:{},defaultTag:yv,name:"Portal"})}let x6=u.Fragment,vv=u.createContext(null);function g6(a,r){let{target:l,...o}=a,d={ref:Wa(r)},h=Ca();return ge.createElement(vv.Provider,{value:l},h({ourProps:d,theirProps:o,defaultTag:x6,name:"Popover.Group"}))}let Xh=u.createContext(null);function p6(){let a=u.useContext(Xh),r=u.useRef([]),l=zt(h=>(r.current.push(h),a&&a.register(h),()=>o(h))),o=zt(h=>{let f=r.current.indexOf(h);f!==-1&&r.current.splice(f,1),a&&a.unregister(h)}),d=u.useMemo(()=>({register:l,unregister:o,portals:r}),[l,o,r]);return[r,u.useMemo(()=>function({children:h}){return ge.createElement(Xh.Provider,{value:d},h)},[d])]}let b6=Vs(f6),jv=Vs(g6),y6=Object.assign(b6,{Group:jv});function v6(a,r=typeof document<"u"?document.defaultView:null,l){let o=Do(a,"escape");gv(r,"keydown",d=>{o&&(d.defaultPrevented||d.key===lv.Escape&&l(d))})}function j6(){var a;let[r]=u.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[l,o]=u.useState((a=r==null?void 0:r.matches)!=null?a:!1);return Gs(()=>{if(!r)return;function d(h){o(h.matches)}return r.addEventListener("change",d),()=>r.removeEventListener("change",d)},[r]),l}function w6({defaultContainers:a=[],portals:r,mainTreeNode:l}={}){let o=zt(()=>{var d,h;let f=Ao(l),p=[];for(let x of a)x!==null&&(bn(x)?p.push(x):"current"in x&&bn(x.current)&&p.push(x.current));if(r!=null&&r.current)for(let x of r.current)p.push(x);for(let x of(d=f==null?void 0:f.querySelectorAll("html > *, body > *"))!=null?d:[])x!==document.body&&x!==document.head&&bn(x)&&x.id!=="headlessui-portal-root"&&(l&&(x.contains(l)||x.contains((h=l==null?void 0:l.getRootNode())==null?void 0:h.host))||p.some(g=>x.contains(g))||p.push(x));return p});return{resolveContainers:o,contains:zt(d=>o().some(h=>h.contains(d)))}}let wv=u.createContext(null);function Nb({children:a,node:r}){let[l,o]=u.useState(null),d=Nv(r??l);return ge.createElement(wv.Provider,{value:d},a,d===null&&ge.createElement(Vh,{features:gd.Hidden,ref:h=>{var f,p;if(h){for(let x of(p=(f=Ao(h))==null?void 0:f.querySelectorAll("html > *, body > *"))!=null?p:[])if(x!==document.body&&x!==document.head&&bn(x)&&x!=null&&x.contains(h)){o(x);break}}}}))}function Nv(a=null){var r;return(r=u.useContext(wv))!=null?r:a}function N6(){let a=typeof document>"u";return"useSyncExternalStore"in vp?(r=>r.useSyncExternalStore)(vp)(()=>()=>{},()=>!1,()=>!a):!1}function Rd(){let a=N6(),[r,l]=u.useState(Ja.isHandoffComplete);return r&&Ja.isHandoffComplete===!1&&l(!1),u.useEffect(()=>{r!==!0&&l(!0)},[r]),u.useEffect(()=>Ja.handoff(),[]),a?!1:r}function S0(){let a=u.useRef(!1);return Gs(()=>(a.current=!0,()=>{a.current=!1}),[]),a}var ro=(a=>(a[a.Forwards=0]="Forwards",a[a.Backwards=1]="Backwards",a))(ro||{});function S6(){let a=u.useRef(0);return xv(!0,"keydown",r=>{r.key==="Tab"&&(a.current=r.shiftKey?1:0)},!0),a}function Sv(a){if(!a)return new Set;if(typeof a=="function")return new Set(a());let r=new Set;for(let l of a.current)bn(l.current)&&r.add(l.current);return r}let C6="div";var zn=(a=>(a[a.None=0]="None",a[a.InitialFocus=1]="InitialFocus",a[a.TabLock=2]="TabLock",a[a.FocusLock=4]="FocusLock",a[a.RestoreFocus=8]="RestoreFocus",a[a.AutoFocus=16]="AutoFocus",a))(zn||{});function k6(a,r){let l=u.useRef(null),o=Wa(l,r),{initialFocus:d,initialFocusFallback:h,containers:f,features:p=15,...x}=a;Rd()||(p=0);let g=w0(l.current);R6(p,{ownerDocument:g});let b=D6(p,{ownerDocument:g,container:l,initialFocus:d,initialFocusFallback:h});M6(p,{ownerDocument:g,container:l,containers:f,previousActiveElement:b});let w=S6(),T=zt(U=>{if(!al(l.current))return;let y=l.current;(F=>F())(()=>{Dr(w.current,{[ro.Forwards]:()=>{fo(y,Nr.First,{skipElements:[U.relatedTarget,h]})},[ro.Backwards]:()=>{fo(y,Nr.Last,{skipElements:[U.relatedTarget,h]})}})})}),j=Do(!!(p&2),"focus-trap#tab-lock"),C=Ed(),E=u.useRef(!1),S={ref:o,onKeyDown(U){U.key=="Tab"&&(E.current=!0,C.requestAnimationFrame(()=>{E.current=!1}))},onBlur(U){if(!(p&4))return;let y=Sv(f);al(l.current)&&y.add(l.current);let F=U.relatedTarget;gn(F)&&F.dataset.headlessuiFocusGuard!=="true"&&(Cv(y,F)||(E.current?fo(l.current,Dr(w.current,{[ro.Forwards]:()=>Nr.Next,[ro.Backwards]:()=>Nr.Previous})|Nr.WrapAround,{relativeTo:U.target}):gn(U.target)&&Er(U.target)))}},D=Ca();return ge.createElement(ge.Fragment,null,j&&ge.createElement(Vh,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:T,features:gd.Focusable}),D({ourProps:S,theirProps:x,defaultTag:C6,name:"FocusTrap"}),j&&ge.createElement(Vh,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:T,features:gd.Focusable}))}let E6=Vs(k6),T6=Object.assign(E6,{features:zn});function A6(a=!0){let r=u.useRef(rn.slice());return N0(([l],[o])=>{o===!0&&l===!1&&kd(()=>{r.current.splice(0)}),o===!1&&l===!0&&(r.current=rn.slice())},[a,rn,r]),zt(()=>{var l;return(l=r.current.find(o=>o!=null&&o.isConnected))!=null?l:null})}function R6(a,{ownerDocument:r}){let l=!!(a&8),o=A6(l);N0(()=>{l||JS(r==null?void 0:r.body)&&Er(o())},[l]),pv(()=>{l&&Er(o())})}function D6(a,{ownerDocument:r,container:l,initialFocus:o,initialFocusFallback:d}){let h=u.useRef(null),f=Do(!!(a&1),"focus-trap#initial-focus"),p=S0();return N0(()=>{if(a===0)return;if(!f){d!=null&&d.current&&Er(d.current);return}let x=l.current;x&&kd(()=>{if(!p.current)return;let g=r==null?void 0:r.activeElement;if(o!=null&&o.current){if((o==null?void 0:o.current)===g){h.current=g;return}}else if(x.contains(g)){h.current=g;return}if(o!=null&&o.current)Er(o.current);else{if(a&16){if(fo(x,Nr.First|Nr.AutoFocus)!==Zh.Error)return}else if(fo(x,Nr.First)!==Zh.Error)return;if(d!=null&&d.current&&(Er(d.current),(r==null?void 0:r.activeElement)===d.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}h.current=r==null?void 0:r.activeElement})},[d,f,a]),h}function M6(a,{ownerDocument:r,container:l,containers:o,previousActiveElement:d}){let h=S0(),f=!!(a&4);gv(r==null?void 0:r.defaultView,"focus",p=>{if(!f||!h.current)return;let x=Sv(o);al(l.current)&&x.add(l.current);let g=d.current;if(!g)return;let b=p.target;al(b)?Cv(x,b)?(d.current=b,Er(b)):(p.preventDefault(),p.stopPropagation(),Er(g)):Er(d.current)},!0)}function Cv(a,r){for(let l of a)if(l.contains(r))return!0;return!1}function kv(a){var r;return!!(a.enter||a.enterFrom||a.enterTo||a.leave||a.leaveFrom||a.leaveTo)||!mo((r=a.as)!=null?r:Tv)||ge.Children.count(a.children)===1}let Dd=u.createContext(null);Dd.displayName="TransitionContext";var F6=(a=>(a.Visible="visible",a.Hidden="hidden",a))(F6||{});function O6(){let a=u.useContext(Dd);if(a===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return a}function L6(){let a=u.useContext(Md);if(a===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return a}let Md=u.createContext(null);Md.displayName="NestingContext";function Fd(a){return"children"in a?Fd(a.children):a.current.filter(({el:r})=>r.current!==null).filter(({state:r})=>r==="visible").length>0}function Ev(a,r){let l=rl(a),o=u.useRef([]),d=S0(),h=Ed(),f=zt((j,C=xn.Hidden)=>{let E=o.current.findIndex(({el:S})=>S===j);E!==-1&&(Dr(C,{[xn.Unmount](){o.current.splice(E,1)},[xn.Hidden](){o.current[E].state="hidden"}}),h.microTask(()=>{var S;!Fd(o)&&d.current&&((S=l.current)==null||S.call(l))}))}),p=zt(j=>{let C=o.current.find(({el:E})=>E===j);return C?C.state!=="visible"&&(C.state="visible"):o.current.push({el:j,state:"visible"}),()=>f(j,xn.Unmount)}),x=u.useRef([]),g=u.useRef(Promise.resolve()),b=u.useRef({enter:[],leave:[]}),w=zt((j,C,E)=>{x.current.splice(0),r&&(r.chains.current[C]=r.chains.current[C].filter(([S])=>S!==j)),r==null||r.chains.current[C].push([j,new Promise(S=>{x.current.push(S)})]),r==null||r.chains.current[C].push([j,new Promise(S=>{Promise.all(b.current[C].map(([D,U])=>U)).then(()=>S())})]),C==="enter"?g.current=g.current.then(()=>r==null?void 0:r.wait.current).then(()=>E(C)):E(C)}),T=zt((j,C,E)=>{Promise.all(b.current[C].splice(0).map(([S,D])=>D)).then(()=>{var S;(S=x.current.shift())==null||S()}).then(()=>E(C))});return u.useMemo(()=>({children:o,register:p,unregister:f,onStart:w,onStop:T,wait:g,chains:b}),[p,f,o,w,T,b,g])}let Tv=u.Fragment,Av=xd.RenderStrategy;function U6(a,r){var l,o;let{transition:d=!0,beforeEnter:h,afterEnter:f,beforeLeave:p,afterLeave:x,enter:g,enterFrom:b,enterTo:w,entered:T,leave:j,leaveFrom:C,leaveTo:E,...S}=a,[D,U]=u.useState(null),y=u.useRef(null),F=kv(a),te=Wa(...F?[y,r,U]:r===null?[]:[r]),z=(l=S.unmount)==null||l?xn.Unmount:xn.Hidden,{show:k,appear:K,initial:ne}=O6(),[_,we]=u.useState(k?"visible":"hidden"),Y=L6(),{register:L,unregister:O}=Y;Gs(()=>L(y),[L,y]),Gs(()=>{if(z===xn.Hidden&&y.current){if(k&&_!=="visible"){we("visible");return}return Dr(_,{hidden:()=>O(y),visible:()=>L(y)})}},[_,y,L,O,k,z]);let be=Rd();Gs(()=>{if(F&&be&&_==="visible"&&y.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[y,_,be,F]);let I=ne&&!K,se=K&&k&&ne,de=u.useRef(!1),V=Ev(()=>{de.current||(we("hidden"),O(y))},Y),je=zt(Me=>{de.current=!0;let fe=Me?"enter":"leave";V.onStart(y,fe,Re=>{Re==="enter"?h==null||h():Re==="leave"&&(p==null||p())})}),B=zt(Me=>{let fe=Me?"enter":"leave";de.current=!1,V.onStop(y,fe,Re=>{Re==="enter"?f==null||f():Re==="leave"&&(x==null||x())}),fe==="leave"&&!Fd(V)&&(we("hidden"),O(y))});u.useEffect(()=>{F&&d||(je(k),B(k))},[k,F,d]);let R=!(!d||!F||!be||I),[,$]=a6(R,D,k,{start:je,end:B}),W=Un({ref:te,className:((o=Yh(S.className,se&&g,se&&b,$.enter&&g,$.enter&&$.closed&&b,$.enter&&!$.closed&&w,$.leave&&j,$.leave&&!$.closed&&C,$.leave&&$.closed&&E,!$.transition&&k&&T))==null?void 0:o.trim())||void 0,...s6($)}),he=0;_==="visible"&&(he|=Ua.Open),_==="hidden"&&(he|=Ua.Closed),k&&_==="hidden"&&(he|=Ua.Opening),!k&&_==="visible"&&(he|=Ua.Closing);let Se=Ca();return ge.createElement(Md.Provider,{value:V},ge.createElement(o6,{value:he},Se({ourProps:W,theirProps:S,defaultTag:Tv,features:Av,visible:_==="visible",name:"Transition.Child"})))}function z6(a,r){let{show:l,appear:o=!1,unmount:d=!0,...h}=a,f=u.useRef(null),p=kv(a),x=Wa(...p?[f,r]:r===null?[]:[r]);Rd();let g=Ad();if(l===void 0&&g!==null&&(l=(g&Ua.Open)===Ua.Open),l===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[b,w]=u.useState(l?"visible":"hidden"),T=Ev(()=>{l||w("hidden")}),[j,C]=u.useState(!0),E=u.useRef([l]);Gs(()=>{j!==!1&&E.current[E.current.length-1]!==l&&(E.current.push(l),C(!1))},[E,l]);let S=u.useMemo(()=>({show:l,appear:o,initial:j}),[l,o,j]);Gs(()=>{l?w("visible"):!Fd(T)&&f.current!==null&&w("hidden")},[l,T]);let D={unmount:d},U=zt(()=>{var te;j&&C(!1),(te=a.beforeEnter)==null||te.call(a)}),y=zt(()=>{var te;j&&C(!1),(te=a.beforeLeave)==null||te.call(a)}),F=Ca();return ge.createElement(Md.Provider,{value:T},ge.createElement(Dd.Provider,{value:S},F({ourProps:{...D,as:u.Fragment,children:ge.createElement(Rv,{ref:x,...D,...h,beforeEnter:U,beforeLeave:y})},theirProps:{},defaultTag:u.Fragment,features:Av,visible:b==="visible",name:"Transition"})))}function B6(a,r){let l=u.useContext(Dd)!==null,o=Ad()!==null;return ge.createElement(ge.Fragment,null,!l&&o?ge.createElement(Jh,{ref:r,...a}):ge.createElement(Rv,{ref:r,...a}))}let Jh=Vs(z6),Rv=Vs(U6),C0=Vs(B6),Gt=Object.assign(Jh,{Child:C0,Root:Jh});var P6=(a=>(a[a.Open=0]="Open",a[a.Closed=1]="Closed",a))(P6||{}),q6=(a=>(a[a.SetTitleId=0]="SetTitleId",a))(q6||{});let $6={0(a,r){return a.titleId===r.id?a:{...a,titleId:r.id}}},k0=u.createContext(null);k0.displayName="DialogContext";function Od(a){let r=u.useContext(k0);if(r===null){let l=new Error(`<${a} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,Od),l}return r}function H6(a,r){return Dr(r.type,$6,a,r)}let Sb=Vs(function(a,r){let l=u.useId(),{id:o=`headlessui-dialog-${l}`,open:d,onClose:h,initialFocus:f,role:p="dialog",autoFocus:x=!0,__demoMode:g=!1,unmount:b=!1,...w}=a,T=u.useRef(!1);p=(function(){return p==="dialog"||p==="alertdialog"?p:(T.current||(T.current=!0,console.warn(`Invalid role [${p}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let j=Ad();d===void 0&&j!==null&&(d=(j&Ua.Open)===Ua.Open);let C=u.useRef(null),E=Wa(C,r),S=w0(C.current),D=d?0:1,[U,y]=u.useReducer(H6,{titleId:null,descriptionId:null,panelRef:u.createRef()}),F=zt(()=>h(!1)),te=zt($=>y({type:0,id:$})),z=Rd()?D===0:!1,[k,K]=p6(),ne={get current(){var $;return($=U.panelRef.current)!=null?$:C.current}},_=Nv(),{resolveContainers:we}=w6({mainTreeNode:_,portals:k,defaultContainers:[ne]}),Y=j!==null?(j&Ua.Closing)===Ua.Closing:!1;F3(g||Y?!1:z,{allowed:zt(()=>{var $,W;return[(W=($=C.current)==null?void 0:$.closest("[data-headlessui-portal]"))!=null?W:null]}),disallowed:zt(()=>{var $;return[($=_==null?void 0:_.closest("body > *:not(#headlessui-portal-root)"))!=null?$:null]})});let L=uv.get(null);Gs(()=>{if(z)return L.actions.push(o),()=>L.actions.pop(o)},[L,o,z]);let O=mv(L,u.useCallback($=>L.selectors.isTop($,o),[L,o]));Q3(O,we,$=>{$.preventDefault(),F()}),v6(O,S==null?void 0:S.defaultView,$=>{$.preventDefault(),$.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),F()}),J3(g||Y?!1:z,S,we),O3(z,C,F);let[be,I]=h3(),se=u.useMemo(()=>[{dialogState:D,close:F,setTitleId:te,unmount:b},U],[D,F,te,b,U]),de=Ro({open:D===0}),V={ref:E,id:o,role:p,tabIndex:-1,"aria-modal":g?void 0:D===0?!0:void 0,"aria-labelledby":U.titleId,"aria-describedby":be,unmount:b},je=!j6(),B=zn.None;z&&!g&&(B|=zn.RestoreFocus,B|=zn.TabLock,x&&(B|=zn.AutoFocus),je&&(B|=zn.InitialFocus));let R=Ca();return ge.createElement(c6,null,ge.createElement(wb,{force:!0},ge.createElement(y6,null,ge.createElement(k0.Provider,{value:se},ge.createElement(jv,{target:C},ge.createElement(wb,{force:!1},ge.createElement(I,{slot:de},ge.createElement(K,null,ge.createElement(T6,{initialFocus:f,initialFocusFallback:C,containers:we,features:B},ge.createElement(y3,{value:F},R({ourProps:V,theirProps:w,slot:de,defaultTag:_6,features:I6,visible:D===0,name:"Dialog"})))))))))))}),_6="div",I6=xd.RenderStrategy|xd.Static;function Q6(a,r){let{transition:l=!1,open:o,...d}=a,h=Ad(),f=a.hasOwnProperty("open")||h!==null,p=a.hasOwnProperty("onClose");if(!f&&!p)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!f)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!p)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!h&&typeof a.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${a.open}`);if(typeof a.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${a.onClose}`);return(o!==void 0||l)&&!d.static?ge.createElement(Nb,null,ge.createElement(Gt,{show:o,transition:l,unmount:d.unmount},ge.createElement(Sb,{ref:r,...d}))):ge.createElement(Nb,null,ge.createElement(Sb,{ref:r,open:o,...d}))}let G6="div";function Y6(a,r){let l=u.useId(),{id:o=`headlessui-dialog-panel-${l}`,transition:d=!1,...h}=a,[{dialogState:f,unmount:p},x]=Od("Dialog.Panel"),g=Wa(r,x.panelRef),b=Ro({open:f===0}),w=zt(S=>{S.stopPropagation()}),T={ref:g,id:o,onClick:w},j=d?C0:u.Fragment,C=d?{unmount:p}:{},E=Ca();return ge.createElement(j,{...C},E({ourProps:T,theirProps:h,slot:b,defaultTag:G6,name:"Dialog.Panel"}))}let V6="div";function K6(a,r){let{transition:l=!1,...o}=a,[{dialogState:d,unmount:h}]=Od("Dialog.Backdrop"),f=Ro({open:d===0}),p={ref:r,"aria-hidden":!0},x=l?C0:u.Fragment,g=l?{unmount:h}:{},b=Ca();return ge.createElement(x,{...g},b({ourProps:p,theirProps:o,slot:f,defaultTag:V6,name:"Dialog.Backdrop"}))}let Z6="h2";function X6(a,r){let l=u.useId(),{id:o=`headlessui-dialog-title-${l}`,...d}=a,[{dialogState:h,setTitleId:f}]=Od("Dialog.Title"),p=Wa(r);u.useEffect(()=>(f(o),()=>f(null)),[o,f]);let x=Ro({open:h===0}),g={ref:p,id:o};return Ca()({ourProps:g,theirProps:d,slot:x,defaultTag:Z6,name:"Dialog.Title"})}let J6=Vs(Q6),W6=Vs(Y6);Vs(K6);let eC=Vs(X6),ns=Object.assign(J6,{Panel:W6,Title:eC,Description:p3});function tC({isOpen:a,onClose:r,event:l,onSuccess:o}){var k,K,ne,_,we,Y;const[d,h]=u.useState(!0),[f,p]=u.useState(null),[x,g]=u.useState(!0),[b,w]=u.useState(!1),[T,j]=u.useState(!1),C=u.useRef(null);u.useEffect(()=>()=>{C.current&&clearTimeout(C.current)},[]);const E=l.sport||((k=l.league)==null?void 0:k.sport)||"Unknown";E==="Unknown"&&console.error(" TheSportsDB API Error - Missing sport field:",l);const S=E==="Fighting"||E==="Boxing"||E==="MMA",D=!S&&E!=="Unknown",{data:U}=f5(),y=L=>typeof L=="string"?L:L.name,F=L=>{try{return new Date(L).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}catch{return L}},te=async()=>{var O,be,I;if(E==="Unknown"){console.error(" Sportarr-API Integration Error - Event missing sport field:",l),pe.error("API Integration Error",{description:"This event is missing sport classification from TheSportsDB. This indicates an issue with the Sportarr-API integration."});return}if(f===null){pe.error("Quality Profile Required",{description:"Please select a quality profile before adding this event."});return}if(!(U==null?void 0:U.some(se=>se.isDefault))){pe.error("Default Quality Profile Required",{description:"Please set a default quality profile in Settings  Profiles before adding events."});return}w(!0);try{const se={title:l.title,sport:E,eventDate:l.eventDate,venue:l.venue,location:l.location,monitored:d,qualityProfileId:f,externalId:l.externalId,broadcast:l.broadcast,status:l.status,season:l.season,round:l.round,leagueId:l.leagueId||((O=l.league)==null?void 0:O.id),homeTeamId:l.homeTeamId||((be=l.homeTeam)==null?void 0:be.id),awayTeamId:l.awayTeamId||((I=l.awayTeam)==null?void 0:I.id)},de=await qe.post("/events",se);if(de.data.alreadyAdded){pe.info("Event Already Added",{description:`This event is already in your library.
Monitored: ${de.data.monitored?"Yes":"No"}

You can change monitoring from the Leagues page.`}),r();return}pe.success("Event Added Successfully",{description:`${l.title} has been added to your library.`}),o(),C.current=setTimeout(()=>{r()},100)}catch(se){console.error("Failed to add event:",se),pe.error("Failed to Add Event",{description:se instanceof Error?se.message:"An unexpected error occurred. Please try again."})}finally{w(!1)}},z=new Date(l.eventDate)>new Date;return e.jsx(Gt,{appear:!0,show:a,as:u.Fragment,unmount:!0,afterLeave:()=>{document.querySelectorAll("[inert]").forEach(L=>{L.removeAttribute("inert")})},children:e.jsxs(ns,{as:"div",className:"relative z-50",onClose:r,children:[e.jsx(Gt.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm"})}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:e.jsx(Gt.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsxs(ns.Panel,{className:"w-full max-w-4xl transform overflow-hidden rounded-2xl bg-gradient-to-br from-gray-900 to-black border border-red-900/30 text-left align-middle shadow-xl transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-red-900/30",children:[e.jsxs(ns.Title,{as:"h3",className:"text-2xl font-bold text-white flex items-center",children:[e.jsx(Ut,{className:"w-7 h-7 text-red-600 mr-2"}),"Add Event"]}),e.jsx("button",{type:"button",className:"text-gray-400 hover:text-white transition-colors",onClick:r,children:e.jsx(pt,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"md:col-span-1",children:e.jsxs("div",{className:"relative aspect-[2/3] bg-gray-950 rounded-lg overflow-hidden border border-red-900/30",children:[l.posterUrl?e.jsx("img",{src:l.posterUrl,alt:l.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("svg",{className:"w-24 h-24 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),z&&e.jsx("div",{className:"absolute top-2 left-2",children:e.jsx("span",{className:"px-3 py-1 bg-green-600 text-white text-sm font-semibold rounded-full",children:"UPCOMING"})})]})}),e.jsxs("div",{className:"md:col-span-2 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-2xl font-bold text-white mb-4",children:l.title}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fd,{className:"w-5 h-5 text-red-400"}),e.jsx("span",{className:`px-3 py-1 font-semibold rounded-lg ${E==="Unknown"?"bg-yellow-900/30 text-yellow-400 border border-yellow-600":"bg-red-900/30 text-red-400"}`,children:E})]}),E==="Unknown"&&e.jsxs("div",{className:"bg-yellow-900/20 border border-yellow-600/50 rounded-lg p-3",children:[e.jsx("p",{className:"text-yellow-400 text-sm font-semibold mb-1",children:" Sportarr-API Integration Error"}),e.jsx("p",{className:"text-yellow-300/80 text-xs",children:"This event is missing sport classification from TheSportsDB. Check Sportarr-API response or network connection."})]}),S&&l.organization&&e.jsxs("div",{className:"flex items-center text-gray-300",children:[e.jsx(Jy,{className:"w-5 h-5 mr-3 text-gray-500"}),e.jsx("span",{className:"font-semibold",children:l.organization})]}),D&&(l.league||l.leagueId)&&e.jsxs("div",{className:"flex items-center text-gray-300",children:[e.jsx(fd,{className:"w-5 h-5 mr-3 text-gray-500"}),e.jsx("span",{className:"font-semibold",children:((K=l.league)==null?void 0:K.name)||`League #${l.leagueId}`})]}),D&&(l.homeTeam||l.awayTeam)&&e.jsxs("div",{className:"pl-8 space-y-2 border-l-2 border-red-900/30",children:[l.homeTeam&&e.jsxs("div",{className:"flex items-center text-gray-300",children:[e.jsx("span",{className:"text-gray-500 text-sm mr-2",children:"Home:"}),e.jsx("span",{className:"font-semibold",children:l.homeTeam.name})]}),l.awayTeam&&e.jsxs("div",{className:"flex items-center text-gray-300",children:[e.jsx("span",{className:"text-gray-500 text-sm mr-2",children:"Away:"}),e.jsx("span",{className:"font-semibold",children:l.awayTeam.name})]})]}),(l.season||l.round)&&e.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-400",children:[l.season&&e.jsxs("span",{children:["Season: ",l.season]}),l.round&&e.jsxs("span",{children:["Round: ",l.round]})]}),e.jsxs("div",{className:"flex items-center text-gray-300",children:[e.jsx(Xn,{className:"w-5 h-5 mr-3 text-gray-500"}),e.jsx("span",{children:F(l.eventDate)})]}),(l.venue||l.location)&&e.jsxs("div",{className:"flex items-center text-gray-300",children:[e.jsx(Wy,{className:"w-5 h-5 mr-3 text-gray-500"}),e.jsx("span",{children:l.venue&&l.location?`${l.venue}, ${l.location}`:l.venue||l.location})]}),l.broadcast&&e.jsxs("div",{className:"flex items-center text-gray-300",children:[e.jsx(uo,{className:"w-5 h-5 mr-3 text-green-500"}),e.jsx("span",{className:"text-green-400 font-semibold",children:l.broadcast})]}),l.status&&e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:"px-3 py-1 bg-gray-800 text-gray-300 text-sm rounded",children:["Status: ",l.status]})})]})]}),e.jsxs("div",{className:"space-y-4 bg-black/30 rounded-lg p-4 border border-red-900/20",children:[e.jsx("h5",{className:"text-lg font-semibold text-white mb-3",children:"Configuration"}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("input",{type:"checkbox",id:"monitored",checked:d,onChange:L=>h(L.target.checked),className:"mt-1 w-5 h-5 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600 focus:ring-offset-gray-900"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"monitored",className:"text-white font-medium cursor-pointer",children:"Monitor Event"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Search for monitored event when available"})]})]}),d&&e.jsx("div",{className:"pl-8 text-sm text-gray-400 border-l-2 border-red-900/30",children:S?"Combat sports events will be managed as complete events":"Team sports events will be managed as complete games"}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"qualityProfile",className:"block text-white font-medium mb-2",children:"Quality Profile"}),e.jsxs("select",{id:"qualityProfile",value:f??"",onChange:L=>p(L.target.value?Number(L.target.value):null),className:`w-full px-4 py-2.5 bg-gray-800 border rounded-lg focus:outline-none focus:border-red-600 focus:ring-2 focus:ring-red-600/20 transition-all ${f===null?"border-yellow-600 text-yellow-400":"border-gray-700 text-white"}`,children:[e.jsx("option",{value:"",children:"Select a Quality Profile *"}),U==null?void 0:U.map(L=>e.jsxs("option",{value:L.id,children:[L.name,L.isDefault?" (Default)":""]},L.id))]}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Select the quality settings for downloads"})]}),e.jsxs("button",{type:"button",onClick:()=>j(!T),className:"flex items-center text-red-400 hover:text-red-300 text-sm font-medium transition-colors",children:[e.jsx(Ss,{className:`w-4 h-4 mr-1 transition-transform ${T?"rotate-180":""}`}),T?"Hide":"Show"," Advanced Options"]}),T&&e.jsx("div",{className:"pt-2 space-y-4 border-t border-red-900/20",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("input",{type:"checkbox",id:"searchOnAdd",checked:x,onChange:L=>g(L.target.checked),className:"mt-1 w-5 h-5 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600 focus:ring-offset-gray-900"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"searchOnAdd",className:"text-white font-medium cursor-pointer",children:"Start search immediately"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Begin searching for this event as soon as it's added"})]})]})})]}),S&&l.fights&&l.fights.length>0&&e.jsxs("div",{className:"bg-black/30 rounded-lg p-4 border border-red-900/20",children:[e.jsxs("h5",{className:"text-white font-semibold mb-3",children:["Fight Card (",l.fights.length," ",l.fights.length===1?"fight":"fights",")"]}),e.jsxs("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:[l.fights.slice(0,8).map((L,O)=>e.jsxs("div",{className:"flex items-center justify-between text-sm p-2 bg-gray-950/50 rounded",children:[e.jsxs("span",{className:"text-white",children:[y(L.fighter1)," vs ",y(L.fighter2)]}),e.jsxs("div",{className:"flex items-center gap-2",children:[L.weightClass&&e.jsx("span",{className:"text-gray-400 text-xs",children:L.weightClass}),L.isMainEvent&&e.jsx("span",{className:"px-2 py-0.5 bg-red-600 text-white text-xs rounded-full",children:"MAIN"})]})]},O)),l.fights.length>8&&e.jsxs("p",{className:"text-gray-500 text-xs text-center pt-2",children:["+ ",l.fights.length-8," more fights"]})]})]}),D&&(l.homeTeam||l.awayTeam)&&e.jsxs("div",{className:"bg-black/30 rounded-lg p-4 border border-red-900/20",children:[e.jsx("h5",{className:"text-white font-semibold mb-3",children:"Matchup"}),e.jsxs("div",{className:"flex items-center justify-center gap-4 text-lg",children:[e.jsxs("div",{className:"flex-1 text-center",children:[e.jsx("div",{className:"font-bold text-white mb-1",children:((ne=l.homeTeam)==null?void 0:ne.name)||"TBD"}),((_=l.homeTeam)==null?void 0:_.shortName)&&e.jsx("div",{className:"text-sm text-gray-400",children:l.homeTeam.shortName})]}),e.jsx("div",{className:"text-2xl font-bold text-red-500",children:"VS"}),e.jsxs("div",{className:"flex-1 text-center",children:[e.jsx("div",{className:"font-bold text-white mb-1",children:((we=l.awayTeam)==null?void 0:we.name)||"TBD"}),((Y=l.awayTeam)==null?void 0:Y.shortName)&&e.jsx("div",{className:"text-sm text-gray-400",children:l.awayTeam.shortName})]})]})]})]})]})}),e.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-red-900/30 bg-black/30",children:[e.jsx("button",{type:"button",onClick:r,disabled:b,className:"px-6 py-2.5 bg-gray-800 hover:bg-gray-700 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),e.jsx("button",{type:"button",onClick:te,disabled:b||E==="Unknown",className:"px-6 py-2.5 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white font-semibold rounded-lg shadow-lg transform transition hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center",children:b?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Adding..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ut,{className:"w-5 h-5 mr-2"}),"Add Event"]})})]})]})})})})]})})}let Wi=null;async function sC(){if(Wi)return Wi;try{const a=await fetch("/initialize.json");if(!a.ok)throw new Error("Failed to fetch initialize data");if(Wi=(await a.json()).apiKey,!Wi)throw new Error("API key not found in initialize data");return Wi}catch(a){throw console.error("Failed to get API key:",a),a}}async function Ld(a,r={}){const l=await sC(),o=new Headers(r.headers);return o.set("X-Api-Key",l),fetch(a,{...r,headers:o})}async function js(a){return Ld(a,{method:"GET"})}async function Jn(a,r){return Ld(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})}async function nl(a,r){return Ld(a,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})}async function Ud(a){return Ld(a,{method:"DELETE"})}function aC({progressPercent:a,progressStatus:r}){const l=()=>{switch(r){case"complete":return"bg-green-500";case"continuing":return"bg-blue-500";case"partial":return"bg-yellow-500";case"missing":return"bg-red-500";case"unmonitored":default:return"bg-gray-600"}},o=Math.min(100,Math.max(0,a));return e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-black/50",children:e.jsx("div",{className:`h-full transition-all duration-300 ${l()}`,style:{width:`${o}%`}})})}const hh={"American Football":"",Athletics:"","Australian Football":"",Badminton:"",Baseball:"",Basketball:"",Climbing:"",Cricket:"",Cycling:"",Darts:"",Esports:"",Equestrian:"","Extreme Sports":"","Field Hockey":"",Fighting:"",Gaelic:"",Gambling:"",Golf:"",Gymnastics:"",Handball:"","Ice Hockey":"",Lacrosse:"",Motorsport:"","Multi Sports":"",Netball:"",Rugby:"",Shooting:"",Skating:"",Skiing:"",Snooker:"",Soccer:"","Table Tennis":"",Tennis:"",Volleyball:"",Watersports:"",Weightlifting:"",Wintersports:""};function rC(){const[a,r]=u.useState(""),[l,o]=u.useState("all"),[d,h]=u.useState(!1),[f,p]=u.useState(new Set),[x,g]=u.useState(!1),[b,w]=u.useState(!1),[T,j]=u.useState(!1),C=Sa(),E=Ys(),{data:S,isLoading:D,error:U,refetch:y}=Jt({queryKey:["leagues"],queryFn:async()=>(await qe.get("/leagues")).data,staleTime:120*1e3,refetchOnWindowFocus:!1}),F=(S==null?void 0:S.filter(L=>{var I;const O=l==="all"||L.sport===l,be=(I=L.name)==null?void 0:I.toLowerCase().includes(a.toLowerCase());return O&&be}))||[],te=(S==null?void 0:S.reduce((L,O)=>(O.sport&&(L[O.sport]=(L[O.sport]||0)+1),L),{}))||{},z=u.useMemo(()=>{const L=[{id:"all",name:"All Sports",icon:""}];return Array.from(new Set((S==null?void 0:S.map(be=>be.sport).filter(Boolean))||[])).forEach(be=>{L.push({id:be,name:be,icon:hh[be]||""})}),L},[S]),k=(L,O)=>{O.stopPropagation(),p(be=>{const I=new Set(be);return I.has(L)?I.delete(L):I.add(L),I})},K=()=>{p(new Set(F.map(L=>L.id)))},ne=()=>{p(new Set)},_=()=>{h(!1),p(new Set)},we=async()=>{if(f.size!==0){j(!0);try{await Promise.all(Array.from(f).map(L=>qe.delete(`/leagues/${L}`,{params:{deleteFiles:b}}))),g(!1),w(!1),p(new Set),h(!1),E.invalidateQueries({queryKey:["leagues"]})}catch(L){console.error("Failed to delete leagues:",L)}finally{j(!1)}}},Y=u.useMemo(()=>(S==null?void 0:S.filter(L=>f.has(L.id)))||[],[S,f]);return D?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"})}):U?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-500 text-xl mb-4",children:"Failed to load leagues"}),e.jsx("button",{onClick:()=>y(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Retry"})]})}):e.jsxs("div",{className:"p-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Leagues"}),e.jsx("p",{className:"text-gray-400",children:"Manage your monitored leagues and competitions across all sports"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[d?e.jsxs("button",{onClick:_,className:"px-6 py-3 bg-gray-700 text-white rounded-lg hover:bg-gray-600 font-semibold transition-colors flex items-center gap-2",children:[e.jsx(pt,{className:"h-5 w-5"}),"Cancel"]}):e.jsxs("button",{onClick:()=>h(!0),className:"px-6 py-3 bg-gray-800 text-white rounded-lg hover:bg-gray-700 font-semibold transition-colors border border-red-900/30 flex items-center gap-2",children:[e.jsx(Sr,{className:"h-5 w-5"}),"Select"]}),e.jsx("button",{onClick:()=>C("/add-league/search"),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 font-semibold transition-colors",children:"+ Add League"})]})]})}),z.length>1&&e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:z.map(L=>e.jsxs("button",{onClick:()=>o(L.id),className:`
                  flex items-center gap-2 px-4 py-2 rounded-lg whitespace-nowrap font-medium transition-all
                  ${l===L.id?"bg-red-600 text-white":"bg-gray-900 text-gray-400 hover:bg-gray-800 hover:text-white border border-red-900/30"}
                `,children:[e.jsx("span",{className:"text-xl",children:L.icon}),e.jsx("span",{children:L.name}),L.id!=="all"&&te[L.id]&&e.jsx("span",{className:"ml-1 px-2 py-0.5 bg-black/30 rounded text-xs",children:te[L.id]})]},L.id))})}),e.jsx("div",{className:"mb-8 max-w-2xl",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(ks,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",value:a,onChange:L=>r(L.target.value),placeholder:"Search leagues...",className:"w-full pl-12 pr-4 py-3 bg-gray-900 border border-red-900/30 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-red-600 focus:ring-2 focus:ring-red-600/20 transition-all"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-gray-900 border border-red-900/30 rounded-lg p-4",children:[e.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Total Leagues"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:(S==null?void 0:S.length)||0})]}),e.jsxs("div",{className:"bg-gray-900 border border-red-900/30 rounded-lg p-4",children:[e.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Monitored Leagues"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:(S==null?void 0:S.filter(L=>L.monitored).length)||0})]}),e.jsxs("div",{className:"bg-gray-900 border border-red-900/30 rounded-lg p-4",children:[e.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Total Events"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:(S==null?void 0:S.reduce((L,O)=>L+(O.eventCount||0),0))||0})]}),e.jsxs("div",{className:"bg-gray-900 border border-red-900/30 rounded-lg p-4",children:[e.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Monitored Events"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:(S==null?void 0:S.reduce((L,O)=>L+(O.monitoredEventCount||0),0))||0})]}),e.jsxs("div",{className:"bg-gray-900 border border-red-900/30 rounded-lg p-4",children:[e.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Downloaded"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:(S==null?void 0:S.reduce((L,O)=>L+(O.fileCount||0),0))||0})]})]}),F.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-400 text-lg",children:a?"No leagues found":l==="all"?"No leagues yet":`No ${l} leagues`}),e.jsx("p",{className:"text-gray-500 text-sm mt-2",children:'Click "Add League" to start tracking sports competitions'})]}):e.jsx("div",{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 ${d&&f.size>0?"pb-24":""}`,children:F.map(L=>{const O=f.has(L.id);return e.jsxs("div",{onClick:()=>{d?p(be=>{const I=new Set(be);return I.has(L.id)?I.delete(L.id):I.add(L.id),I}):C(`/leagues/${L.id}`)},className:`bg-gray-900 border rounded-lg overflow-hidden hover:shadow-lg transition-all cursor-pointer group ${O?"border-red-500 ring-2 ring-red-500/50 shadow-red-900/30":"border-red-900/30 hover:border-red-600/50 hover:shadow-red-900/20"}`,children:[e.jsxs("div",{className:"relative aspect-[16/9] bg-gray-800 overflow-hidden",children:[L.logoUrl||L.bannerUrl||L.posterUrl?e.jsx("img",{src:L.logoUrl||L.bannerUrl||L.posterUrl,alt:L.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("span",{className:"text-6xl font-bold text-gray-700",children:L.name.charAt(0)})}),d&&e.jsx("div",{className:"absolute top-2 left-2 z-10",onClick:be=>k(L.id,be),children:e.jsx("div",{className:`w-6 h-6 rounded border-2 flex items-center justify-center transition-colors ${O?"bg-red-600 border-red-600":"bg-black/50 border-white/50 hover:border-white"}`,children:O&&e.jsx(Sr,{className:"h-4 w-4 text-white"})})}),e.jsx("div",{className:`absolute top-2 ${d?"left-10":"left-2"} transition-all`,children:e.jsxs("span",{className:"px-2 py-1 bg-black/70 backdrop-blur-sm text-white text-xs font-semibold rounded",children:[hh[L.sport]||""," ",L.sport]})}),e.jsx("div",{className:"absolute top-2 right-2 flex flex-col gap-2 items-end",children:L.monitored?e.jsx("span",{className:"px-2 py-1 bg-green-600/90 backdrop-blur-sm text-white text-xs font-semibold rounded",children:"Monitored"}):e.jsx("span",{className:"px-2 py-1 bg-gray-600/90 backdrop-blur-sm text-white text-xs font-semibold rounded",children:"Not Monitored"})}),e.jsx("div",{className:"absolute bottom-3 left-2",children:e.jsxs("span",{className:"px-3 py-1 bg-black/70 backdrop-blur-sm text-white text-sm font-semibold rounded",children:[L.eventCount||0," ",(L.eventCount||0)===1?"Event":"Events"]})}),e.jsx(aC,{progressPercent:L.progressPercent||0,progressStatus:L.progressStatus||"unmonitored"})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-white font-bold text-lg mb-2 truncate",children:L.name}),L.country&&e.jsx("p",{className:"text-gray-400 text-sm mb-3",children:L.country}),e.jsxs("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1 text-sm mb-3",children:[e.jsxs("div",{className:"flex items-center gap-1 whitespace-nowrap",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500 flex-shrink-0"}),e.jsx("span",{className:"text-gray-400",children:"Monitored:"}),e.jsx("span",{className:"text-white font-semibold",children:L.monitoredEventCount||0})]}),e.jsxs("div",{className:"flex items-center gap-1 whitespace-nowrap",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 flex-shrink-0"}),e.jsx("span",{className:"text-gray-400",children:"Have:"}),e.jsx("span",{className:"text-white font-semibold",children:L.downloadedMonitoredCount||0})]}),(L.missingCount||0)>0&&e.jsxs("div",{className:"flex items-center gap-1 whitespace-nowrap",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500 flex-shrink-0"}),e.jsx("span",{className:"text-gray-400",children:"Missing:"}),e.jsx("span",{className:"text-red-400 font-semibold",children:L.missingCount})]})]}),L.qualityProfileId&&e.jsx("div",{className:"text-xs",children:e.jsxs("span",{className:"px-2 py-1 bg-gray-800 text-gray-300 rounded",children:["Quality Profile #",L.qualityProfileId]})})]})]},L.id)})}),d&&f.size>0&&e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-900 border-t border-red-900/50 shadow-lg shadow-black/50 z-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-8 py-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"text-white font-semibold",children:[f.size," ",f.size===1?"League":"Leagues"," Selected"]}),e.jsxs("button",{onClick:K,className:"text-sm text-gray-400 hover:text-white transition-colors",children:["Select All (",F.length,")"]}),e.jsx("button",{onClick:ne,className:"text-sm text-gray-400 hover:text-white transition-colors",children:"Clear Selection"})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("button",{onClick:()=>g(!0),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-semibold transition-colors flex items-center gap-2",children:[e.jsx(vt,{className:"h-5 w-5"}),"Delete Selected"]})})]})}),x&&e.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gray-900 border border-red-900/50 rounded-lg p-6 max-w-lg w-full mx-4 shadow-2xl",children:[e.jsxs("h2",{className:"text-xl font-bold text-white mb-4",children:["Delete ",f.size," ",f.size===1?"League":"Leagues","?"]}),e.jsxs("p",{className:"text-gray-400 mb-4",children:["The following ",f.size===1?"league":"leagues"," and all associated events will be removed from Sportarr:"]}),e.jsx("div",{className:"bg-gray-800/50 rounded-lg p-3 mb-4 max-h-40 overflow-y-auto",children:Y.map(L=>e.jsxs("div",{className:"flex items-center gap-2 py-1 text-sm text-white",children:[e.jsx("span",{children:hh[L.sport]||""}),e.jsx("span",{children:L.name}),(L.eventCount||0)>0&&e.jsxs("span",{className:"text-gray-500",children:["(",L.eventCount," events)"]})]},L.id))}),e.jsxs("label",{className:"flex items-start gap-3 mb-6 cursor-pointer group",children:[e.jsxs("div",{className:"relative flex items-center",children:[e.jsx("input",{type:"checkbox",checked:b,onChange:L=>w(L.target.checked),className:"sr-only"}),e.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${b?"bg-red-600 border-red-600":"border-gray-500 group-hover:border-gray-400"}`,children:b&&e.jsx(Sr,{className:"h-3 w-3 text-white"})})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-medium",children:"Delete league folder(s)"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"This will permanently delete the league folders and all files from disk."})]})]}),b&&e.jsx("div",{className:"bg-red-900/30 border border-red-600/50 rounded-lg p-3 mb-4",children:e.jsxs("p",{className:"text-red-400 text-sm",children:[e.jsx("strong",{children:"Warning:"})," This action cannot be undone. All media files in the selected league folders will be permanently deleted."]})}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>{g(!1),w(!1)},disabled:T,className:"px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 font-semibold transition-colors disabled:opacity-50",children:"Cancel"}),e.jsx("button",{onClick:we,disabled:T,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-semibold transition-colors disabled:opacity-50 flex items-center gap-2",children:T?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Deleting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"h-5 w-5"}),"Delete"]})})]})]})})]})}function nC({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const fh=u.forwardRef(nC);function lC({title:a,titleId:r,...l},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},l),a?u.createElement("title",{id:r},a):null,u.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const xh=u.forwardRef(lC);function iC({isOpen:a,onClose:r,eventId:l,eventTitle:o,part:d,existingFiles:h}){const[f,p]=u.useState("search"),[x,g]=u.useState(!1),[b,w]=u.useState([]),[T,j]=u.useState(null),[C,E]=u.useState(null),[S,D]=u.useState(null),[U,y]=u.useState("score"),[F,te]=u.useState("desc"),[z,k]=u.useState(!1),[K,ne]=u.useState([]),[_,we]=u.useState(!1),[Y,L]=u.useState([]),[O,be]=u.useState(!1),[I,se]=u.useState(null);u.useEffect(()=>{a&&(w([]),j(null),E(null),D(null),p("search"),de(),V())},[a,l,d]);const de=async()=>{try{const N=h&&h.length>0,G=d?h==null?void 0:h.some(Te=>Te.partName===d):N;k(!!G);const P=await js("/api/queue");if(P.ok){const Ae=(await P.json()).filter(J=>J.eventId===l);ne(Ae)}}catch(N){console.error("Failed to check existing files/queue:",N)}},V=async()=>{be(!0);try{const N=d?`/api/event/${l}/history?part=${encodeURIComponent(d)}`:`/api/event/${l}/history`,G=await js(N);if(G.ok){const P=await G.json();L(P)}}catch(N){console.error("Failed to load history:",N)}finally{be(!1)}},je=N=>{if(!N)return"N/A";const G=N/(1024*1024*1024);return G>=1?`${G.toFixed(2)} GiB`:`${(N/(1024*1024)).toFixed(1)} MiB`},B=N=>{const G=new Date,P=new Date(N),Te=G.getTime()-P.getTime(),Ae=Math.floor(Te/(1e3*60*60*24));return Ae===0?"Today":Ae===1?"1 day":`${Ae} days`},R=N=>new Date(N).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),$=async()=>{g(!0),j(null),w([]);try{const N=`/api/event/${l}/search`,P=await(await Jn(N,{part:d})).json();w(P||[])}catch(N){console.error("Search failed:",N),j("Failed to search indexers. Please try again.")}finally{g(!1)}},W=(N,G,P=!1)=>{if(N.isBlocklisted){D({index:G,result:N});return}he(N,G,P)},he=async(N,G,P=!1)=>{D(null),E(G),j(null);try{if(P&&K.length>0)for(const J of K)try{await Jn(`/api/queue/${J.eventId}/remove`,{})}catch(xe){console.warn("Failed to remove queue item:",xe)}const Te=await Jn("/api/release/grab",{...N,eventId:l,overrideBlocklist:N.isBlocklisted,replaceExisting:P});if(!Te.ok){const J=await Te.json();throw new Error(J.message||"Download failed")}const Ae=await Te.json();console.log("Download started:",Ae),pe.success(P?"Override Started":"Download Started",{description:`${N.title}

The release has been sent to your download client.`}),r()}catch(Te){console.error("Download failed:",Te);const Ae=Te instanceof Error?Te.message:"Failed to start download. Please try again.";j(Ae)}finally{E(null)}},Se=async(N,G)=>{try{const P=G?"blocklistAndSearch":"blocklistOnly";(await Ud(`/api/history/${N.id}?blocklistAction=${P}`)).ok?(pe.success("Marked as Failed",{description:G?"Release blocklisted and searching for replacement...":"Release added to blocklist."}),V(),de()):pe.error("Failed",{description:"Could not mark release as failed."})}catch(P){console.error("Mark as failed error:",P),pe.error("Error",{description:"Failed to mark release as failed."})}finally{se(null)}},Me=()=>d?`${o} (${d})`:o,fe=N=>{if(!N)return null;const G=N.match(/\b(2160p|1080p|720p|480p|360p)\b/i);return G?G[1].toLowerCase():null},Re=(N,G)=>{if(!N||!G)return null;const P=N.toLowerCase().replace(/-/g,"").replace(/ /g,"");return P.includes("web")?`WEB ${G}`:P.includes("hdtv")?`HDTV ${G}`:P.includes("blu")||P.includes("bray")?`Bluray ${G}`:P.includes("dvd")?"DVD":null},_e=N=>{if(!d||!h||h.length===0)return[];const G=h.filter(ae=>ae.partName&&ae.partName!==d);if(G.length===0)return[];const P=[],Te=G[0],Ae=fe(Te.quality),J=fe(N.quality);Ae&&J&&Ae!==J&&P.push(`Different resolution than ${Te.partName}: ${Ae}`),Te.codec&&N.codec&&Te.codec.toLowerCase()!==N.codec.toLowerCase()&&P.push(`Different codec than ${Te.partName}: ${Te.codec}`);const xe=Re(Te.source,Ae),ze=Re(N.source,J);return xe&&ze&&xe!==ze&&P.push(`Different source than ${Te.partName}: ${xe}`),P},Ye=N=>N?N.filter(G=>{const P=G.name.toLowerCase();return!P.startsWith("not ")&&!P.startsWith("not-")}):[],Je=N=>{var P;const G=[...N.rejections||[]];if(N.customFormatScore<0){const Te=(P=N.matchedFormats)==null?void 0:P.filter(Ae=>Ae.score<0&&!Ae.name.toLowerCase().startsWith("not ")).map(Ae=>Ae.name).join(", ");Te&&G.push(`Custom Formats ${Te} have score ${N.customFormatScore} below minimum`)}return G},re=N=>{var G;if(N.protocol){const P=N.protocol.toLowerCase();if(P==="torrent"||P.includes("torrent"))return"torrent";if(P==="usenet"||P.includes("usenet")||P==="nzb")return"usenet"}return N.seeders!==null||N.leechers!==null?"torrent":((G=N.indexer)!=null&&G.toLowerCase().includes("nzb"),"usenet")},ke=N=>{if(!N)return 0;const G=N.toLowerCase();return G.includes("2160p")||G.includes("4k")?4:G.includes("1080p")?3:G.includes("720p")?2:G.includes("480p")?1:0},Fe=N=>{if(!N)return 0;const G=N.toLowerCase().replace(/-/g,"").replace(/ /g,"");return G.includes("remux")?7:G.includes("bluray")||G.includes("bray")?6:G.includes("webdl")?5:G.includes("webrip")?4:G.includes("web")?3:G.includes("hdtv")?2:G.includes("dvd")?1:0},Ge=N=>{if(!N)return 1/0;const G=new Date(N);return Math.floor((new Date().getTime()-G.getTime())/(1e3*60*60*24))},Ve=N=>{var P;let G=((P=N.rejections)==null?void 0:P.length)??0;return N.isBlocklisted&&G++,G+=_e(N).length,G},q=u.useMemo(()=>[...b].sort((N,G)=>{let P=0;switch(U){case"score":{const Te=typeof N.customFormatScore=="number"?N.customFormatScore:0,Ae=typeof G.customFormatScore=="number"?G.customFormatScore:0;P=Te-Ae;break}case"quality":{const Te=typeof N.qualityScore=="number"?N.qualityScore:0,Ae=typeof G.qualityScore=="number"?G.qualityScore:0;if(Te!==Ae)P=Te-Ae;else{const J=ke(N.quality),xe=ke(G.quality);J!==xe?P=J-xe:P=Fe(N.source)-Fe(G.source)}break}case"source":{P=Fe(N.source)-Fe(G.source);break}case"age":{P=Ge(N.publishDate)-Ge(G.publishDate);break}case"title":{P=(N.title||"").localeCompare(G.title||"");break}case"indexer":{P=(N.indexer||"").localeCompare(G.indexer||"");break}case"size":{P=(N.size??0)-(G.size??0);break}case"peers":{const Te=(N.seeders??0)+(N.leechers??0),Ae=(G.seeders??0)+(G.leechers??0);P=Te-Ae;break}case"language":{P=(N.language||"Unknown").localeCompare(G.language||"Unknown");break}case"warnings":{P=Ve(N)-Ve(G);break}}return F==="desc"?-P:P}),[b,U,F,h,d]),ye=N=>{U===N?te(G=>G==="desc"?"asc":"desc"):(y(N),te("desc"))},De=N=>{switch(N){case"grabbed":return e.jsx(oo,{className:"w-4 h-4 text-blue-400",title:"Grabbed"});case"import":case"completed":return e.jsx(Qs,{className:"w-4 h-4 text-green-400",title:"Imported"});case"failed":return e.jsx(pt,{className:"w-4 h-4 text-red-400",title:"Failed"});case"warning":return e.jsx(za,{className:"w-4 h-4 text-yellow-400",title:"Warning"});case"blocklist":return e.jsx(co,{className:"w-4 h-4 text-orange-400",title:"Blocklisted"});case"deleted":return e.jsx(vt,{className:"w-4 h-4 text-gray-400",title:"Deleted"});default:return e.jsx(ja,{className:"w-4 h-4 text-gray-400"})}};return e.jsxs(Gt,{appear:!0,show:a,as:u.Fragment,unmount:!0,afterLeave:()=>{document.querySelectorAll("[inert]").forEach(N=>{N.removeAttribute("inert")})},children:[e.jsxs(ns,{as:"div",className:"relative z-50",onClose:r,children:[e.jsx(Gt.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black/80"})}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-2",children:e.jsx(Gt.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsxs(ns.Panel,{className:"w-[98vw] max-w-none transform overflow-hidden rounded-lg bg-gradient-to-br from-gray-900 to-black border border-red-900/30 shadow-2xl transition-all",children:[e.jsxs("div",{className:"relative bg-gradient-to-r from-gray-900 via-red-950/20 to-gray-900 border-b border-red-900/30",children:[e.jsxs("div",{className:"px-6 py-4 flex items-center justify-between",children:[e.jsx("div",{children:e.jsx("h2",{className:"text-xl font-bold text-white",children:Me()})}),e.jsx("button",{onClick:r,className:"p-2 rounded-lg bg-black/50 hover:bg-black/70 transition-colors",children:e.jsx(pt,{className:"w-6 h-6 text-white"})})]}),e.jsxs("div",{className:"px-6 flex gap-1",children:[e.jsx("button",{onClick:()=>p("search"),className:`px-4 py-2 text-sm font-medium rounded-t-lg transition-colors ${f==="search"?"bg-gray-800 text-white border-t border-l border-r border-gray-700":"text-gray-400 hover:text-white hover:bg-gray-800/50"}`,children:"Search"}),e.jsx("button",{onClick:()=>p("history"),className:`px-4 py-2 text-sm font-medium rounded-t-lg transition-colors ${f==="history"?"bg-gray-800 text-white border-t border-l border-r border-gray-700":"text-gray-400 hover:text-white hover:bg-gray-800/50"}`,children:"History"})]})]}),f==="search"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"px-6 py-3 border-b border-gray-800 flex items-center justify-between",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Search indexers for available releases"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>we(!_),className:"px-3 py-1.5 bg-gray-800 hover:bg-gray-700 text-gray-300 rounded transition-colors flex items-center gap-1.5 text-sm",children:[e.jsx(Xy,{className:"w-4 h-4"}),"Filter"]}),e.jsx("button",{onClick:$,disabled:x,className:"px-4 py-1.5 bg-red-600 hover:bg-red-700 disabled:bg-gray-600 text-white rounded transition-colors flex items-center gap-2 text-sm",children:x?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Searching..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(ks,{className:"w-4 h-4"}),e.jsx("span",{children:"Search Indexers"})]})})]})]}),T&&e.jsx("div",{className:"mx-6 mt-3 bg-red-900/20 border border-red-600/50 rounded-lg p-3",children:e.jsx("p",{className:"text-red-400 text-sm",children:T})}),b.length>0&&e.jsxs("div",{className:"px-6 py-2 text-gray-400 text-sm",children:["Found ",b.length," releases"]}),e.jsx("div",{className:"max-h-[65vh] overflow-y-auto",children:x?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"Searching indexers for releases..."})]}):q.length>0?e.jsxs("table",{className:"w-full text-xs table-fixed",children:[e.jsx("thead",{className:"bg-gray-900/80 sticky top-0 z-10",children:e.jsxs("tr",{className:"border-b border-gray-800",children:[e.jsx("th",{className:"text-left py-1.5 px-2 text-gray-400 font-medium w-[52px] cursor-pointer hover:text-white transition-colors select-none",onClick:()=>ye("source"),title:"Sort by source type",children:e.jsxs("div",{className:"flex items-center gap-0.5",children:[e.jsx("span",{children:"Source"}),U==="source"&&(F==="desc"?e.jsx(Ss,{className:"w-3 h-3"}):e.jsx(Fa,{className:"w-3 h-3"}))]})}),e.jsx("th",{className:"text-left py-1.5 px-2 text-gray-400 font-medium w-[60px] cursor-pointer hover:text-white transition-colors select-none",onClick:()=>ye("age"),title:"Sort by age",children:e.jsxs("div",{className:"flex items-center gap-0.5",children:[e.jsx("span",{children:"Age"}),U==="age"&&(F==="desc"?e.jsx(Ss,{className:"w-3 h-3"}):e.jsx(Fa,{className:"w-3 h-3"}))]})}),e.jsx("th",{className:"text-left py-1.5 px-2 text-gray-400 font-medium cursor-pointer hover:text-white transition-colors select-none",onClick:()=>ye("title"),title:"Sort by title",children:e.jsxs("div",{className:"flex items-center gap-0.5",children:[e.jsx("span",{children:"Title"}),U==="title"&&(F==="desc"?e.jsx(Ss,{className:"w-3 h-3"}):e.jsx(Fa,{className:"w-3 h-3"}))]})}),e.jsx("th",{className:"text-left py-1.5 px-2 text-gray-400 font-medium w-[140px] cursor-pointer hover:text-white transition-colors select-none",onClick:()=>ye("indexer"),title:"Sort by indexer",children:e.jsxs("div",{className:"flex items-center gap-0.5",children:[e.jsx("span",{children:"Indexer"}),U==="indexer"&&(F==="desc"?e.jsx(Ss,{className:"w-3 h-3"}):e.jsx(Fa,{className:"w-3 h-3"}))]})}),e.jsx("th",{className:"text-left py-1.5 px-2 text-gray-400 font-medium w-[60px] cursor-pointer hover:text-white transition-colors select-none",onClick:()=>ye("size"),title:"Sort by size",children:e.jsxs("div",{className:"flex items-center gap-0.5",children:[e.jsx("span",{children:"Size"}),U==="size"&&(F==="desc"?e.jsx(Ss,{className:"w-3 h-3"}):e.jsx(Fa,{className:"w-3 h-3"}))]})}),e.jsx("th",{className:"text-left py-1.5 px-2 text-gray-400 font-medium w-[70px] cursor-pointer hover:text-white transition-colors select-none",onClick:()=>ye("peers"),title:"Sort by peers (seeders + leechers)",children:e.jsxs("div",{className:"flex items-center gap-0.5",children:[e.jsx("span",{children:"Peers"}),U==="peers"&&(F==="desc"?e.jsx(Ss,{className:"w-3 h-3"}):e.jsx(Fa,{className:"w-3 h-3"}))]})}),e.jsx("th",{className:"text-left py-1.5 pl-4 pr-2 text-gray-400 font-medium w-[80px] cursor-pointer hover:text-white transition-colors select-none",onClick:()=>ye("language"),title:"Sort by language",children:e.jsxs("div",{className:"flex items-center gap-0.5",children:[e.jsx("span",{children:"Language"}),U==="language"&&(F==="desc"?e.jsx(Ss,{className:"w-3 h-3"}):e.jsx(Fa,{className:"w-3 h-3"}))]})}),e.jsx("th",{className:"text-left py-1.5 px-2 text-gray-400 font-medium w-[120px] cursor-pointer hover:text-white transition-colors select-none",onClick:()=>ye("quality"),title:"Sort by quality/resolution",children:e.jsxs("div",{className:"flex items-center gap-0.5",children:[e.jsx("span",{children:"Quality"}),U==="quality"&&(F==="desc"?e.jsx(Ss,{className:"w-3 h-3"}):e.jsx(Fa,{className:"w-3 h-3"}))]})}),e.jsx("th",{className:"text-center py-1.5 px-2 text-gray-400 font-medium w-[50px] cursor-pointer hover:text-white transition-colors select-none",onClick:()=>ye("score"),title:"Sort by Custom Format score",children:e.jsxs("div",{className:"flex items-center justify-center gap-0.5",children:[e.jsx("span",{children:"CF"}),U==="score"&&(F==="desc"?e.jsx(Ss,{className:"w-3 h-3"}):e.jsx(Fa,{className:"w-3 h-3"}))]})}),e.jsx("th",{className:"text-center py-1.5 px-2 text-gray-400 font-medium w-[24px] cursor-pointer hover:text-white transition-colors select-none",onClick:()=>ye("warnings"),title:"Sort by warnings/rejections",children:U==="warnings"&&(F==="desc"?e.jsx(Ss,{className:"w-3 h-3"}):e.jsx(Fa,{className:"w-3 h-3"}))}),e.jsx("th",{className:"text-right py-1.5 px-2 text-gray-400 font-medium w-[70px]",children:"Actions"})]})}),e.jsx("tbody",{children:q.map((N,G)=>{const P=re(N),Te=Je(N),Ae=_e(N),J=Te.length>0||N.isBlocklisted,xe=z||K.length>0;return e.jsxs("tr",{className:`border-b border-gray-800/50 hover:bg-gray-800/30 transition-colors ${N.isBlocklisted?"bg-orange-900/10":""}`,children:[e.jsx("td",{className:"py-1 px-2",children:e.jsx("span",{className:`px-1 py-0.5 text-[10px] font-semibold rounded ${P==="torrent"?"bg-green-900/50 text-green-400":"bg-blue-900/50 text-blue-400"}`,children:P==="torrent"?"torrent":"nzb"})}),e.jsx("td",{className:"py-1 px-2 text-gray-400 whitespace-nowrap",children:B(N.publishDate)}),e.jsx("td",{className:"py-1 px-2",children:e.jsxs("div",{className:"flex items-start gap-1 min-w-0",children:[N.isBlocklisted&&e.jsx(co,{className:"w-3 h-3 text-orange-400 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:`break-words ${N.isBlocklisted?"text-orange-300":"text-white"}`,children:N.title})]})}),e.jsx("td",{className:"py-1 px-2",children:e.jsx("span",{className:"text-gray-300 truncate block",title:N.indexer,children:N.indexer})}),e.jsx("td",{className:"py-1 px-2 text-gray-400 whitespace-nowrap",children:je(N.size)}),e.jsx("td",{className:"py-1 px-2",children:P==="torrent"&&N.seeders!==null?e.jsxs("span",{className:"whitespace-nowrap",children:[e.jsxs("span",{className:"text-green-400",children:["",N.seeders]}),N.leechers!==null&&e.jsxs("span",{className:"text-red-400 ml-1",children:["",N.leechers]})]}):e.jsx("span",{className:"text-gray-600",children:"-"})}),e.jsx("td",{className:"py-1 pl-4 pr-2",children:e.jsx("span",{className:"px-1 py-0.5 bg-gray-700 text-gray-300 text-[10px] rounded whitespace-nowrap",children:N.language||"English"})}),e.jsx("td",{className:"py-1 px-2",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"px-1 py-0.5 bg-blue-900/50 text-blue-400 text-[10px] rounded inline-block w-fit whitespace-nowrap",children:N.quality||"Unknown"}),Ae.length>0&&e.jsxs("div",{className:"relative group flex items-center gap-0.5 mt-0.5",children:[e.jsx(za,{className:"w-3 h-3 text-orange-400 flex-shrink-0 cursor-help"}),e.jsx("span",{className:"text-[9px] text-orange-400 truncate max-w-[90px]",children:Ae.length===1?Ae[0].split(":")[0]:`${Ae.length} warnings`}),e.jsxs("div",{className:"absolute left-0 top-4 z-50 hidden group-hover:block w-64 p-2 bg-gray-900 border border-gray-700 rounded-lg shadow-xl text-left",children:[e.jsx("p",{className:"text-orange-400 text-[10px] font-semibold mb-1",children:"Quality Mismatch:"}),Ae.map((ze,ae)=>e.jsxs("p",{className:"text-gray-400 text-[10px]",children:[" ",ze]},ae))]})]})]})}),e.jsx("td",{className:"py-1 px-2 text-center",children:e.jsxs("div",{className:"relative group",children:[e.jsxs("span",{className:`font-bold text-xs cursor-help ${N.customFormatScore>0?"text-green-400":N.customFormatScore<0?"text-red-400":"text-gray-400"}`,children:[N.customFormatScore>0?"+":"",N.customFormatScore]}),Ye(N.matchedFormats).length>0&&e.jsx("div",{className:"absolute right-0 top-5 z-50 hidden group-hover:block p-1.5 bg-gray-900 border border-gray-700 rounded-lg shadow-xl",children:e.jsx("div",{className:"flex flex-wrap gap-0.5 max-w-[200px]",children:Ye(N.matchedFormats).map((ze,ae)=>e.jsx("span",{className:`px-1 py-0.5 text-[9px] rounded whitespace-nowrap ${ze.score>0?"bg-green-900/50 text-green-400":ze.score<0?"bg-red-900/50 text-red-400":"bg-gray-700 text-gray-300"}`,children:ze.name},ae))})})]})}),e.jsx("td",{className:"py-1 px-2 text-center",children:J?e.jsxs("div",{className:"relative group",children:[e.jsx(za,{className:`w-3.5 h-3.5 mx-auto cursor-help ${N.isBlocklisted?"text-orange-400":"text-red-400"}`}),e.jsxs("div",{className:"absolute right-0 top-5 z-50 hidden group-hover:block w-64 p-2 bg-gray-900 border border-gray-700 rounded-lg shadow-xl text-left",children:[N.isBlocklisted&&e.jsxs("div",{className:"mb-1.5",children:[e.jsx("p",{className:"text-orange-400 text-[10px] font-semibold",children:"Blocklisted"}),N.blocklistReason&&e.jsx("p",{className:"text-gray-400 text-[10px]",children:N.blocklistReason})]}),Te.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-red-400 text-[10px] font-semibold mb-0.5",children:"Rejections:"}),Te.map((ze,ae)=>e.jsxs("p",{className:"text-gray-400 text-[10px]",children:[" ",ze]},ae))]})]})]}):e.jsx("span",{className:"text-gray-700",children:"-"})}),e.jsx("td",{className:"py-1 px-2",children:e.jsxs("div",{className:"flex items-center justify-end gap-0.5",children:[e.jsx("button",{onClick:()=>W(N,G,!1),disabled:C!==null,className:"p-1 bg-gray-700 hover:bg-gray-600 disabled:bg-gray-800 disabled:cursor-not-allowed text-white rounded transition-colors",title:"Download",children:C===G?e.jsx("div",{className:"animate-spin rounded-full h-3.5 w-3.5 border-b-2 border-white"}):e.jsx(Qs,{className:"w-3.5 h-3.5"})}),xe&&e.jsx("button",{onClick:()=>W(N,G,!0),disabled:C!==null,className:"p-1 bg-orange-700 hover:bg-orange-600 disabled:bg-gray-800 disabled:cursor-not-allowed text-white rounded transition-colors",title:K.length>0?"Replace queued download":"Replace existing file",children:e.jsx(E5,{className:"w-3.5 h-3.5"})})]})})]},G)})})]}):e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(ks,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 mb-2",children:"No search performed yet"}),e.jsx("p",{className:"text-gray-500 text-sm",children:'Click "Search Indexers" to manually search for releases'})]})})]}),f==="history"&&e.jsx("div",{className:"max-h-[65vh] overflow-y-auto",children:O?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"Loading history..."})]}):Y.length>0?e.jsxs("table",{className:"w-full text-xs table-fixed",children:[e.jsx("thead",{className:"bg-gray-900/80 sticky top-0 z-10",children:e.jsxs("tr",{className:"border-b border-gray-800",children:[e.jsx("th",{className:"text-left py-1.5 px-2 text-gray-400 font-medium w-[28px]"}),e.jsx("th",{className:"text-left py-1.5 px-2 text-gray-400 font-medium",children:"Source Title"}),!d&&Y.some(N=>N.part)&&e.jsx("th",{className:"text-left py-1.5 px-2 text-gray-400 font-medium w-[80px]",children:"Part"}),e.jsx("th",{className:"text-left py-1.5 px-2 text-gray-400 font-medium w-[70px]",children:"Language"}),e.jsx("th",{className:"text-left py-1.5 px-2 text-gray-400 font-medium w-[90px]",children:"Quality"}),e.jsx("th",{className:"text-left py-1.5 px-2 text-gray-400 font-medium w-[140px]",children:"Date"}),e.jsx("th",{className:"text-right py-1.5 px-2 text-gray-400 font-medium w-[60px]",children:"Actions"})]})}),e.jsx("tbody",{children:Y.map(N=>e.jsxs("tr",{className:"border-b border-gray-800/50 hover:bg-gray-800/30 transition-colors",children:[e.jsx("td",{className:"py-1 px-2",children:De(N.type)}),e.jsx("td",{className:"py-1 px-2",children:e.jsxs("div",{className:"flex flex-col min-w-0",children:[e.jsx("span",{className:"text-white truncate",title:N.sourcePath,children:N.sourcePath}),N.destinationPath&&e.jsxs("span",{className:"text-gray-500 text-[10px] truncate",title:N.destinationPath,children:[" ",N.destinationPath]})]})}),!d&&Y.some(G=>G.part)&&e.jsx("td",{className:"py-1 px-2",children:N.part?e.jsx("span",{className:"px-1 py-0.5 bg-purple-900/50 text-purple-400 text-[10px] rounded whitespace-nowrap",children:N.part}):e.jsx("span",{className:"text-gray-600",children:"-"})}),e.jsx("td",{className:"py-1 px-2",children:e.jsx("span",{className:"px-1 py-0.5 bg-gray-700 text-gray-300 text-[10px] rounded whitespace-nowrap",children:"English"})}),e.jsx("td",{className:"py-1 px-2",children:N.quality?e.jsx("span",{className:"px-1 py-0.5 bg-blue-900/50 text-blue-400 text-[10px] rounded whitespace-nowrap",children:N.quality}):e.jsx("span",{className:"text-gray-600",children:"-"})}),e.jsx("td",{className:"py-1 px-2 text-gray-400 whitespace-nowrap",children:R(N.date)}),e.jsx("td",{className:"py-1 px-2",children:e.jsxs("div",{className:"flex items-center justify-end gap-0.5",children:[(N.errors.length>0||N.warnings.length>0)&&e.jsxs("div",{className:"relative group",children:[e.jsx(ja,{className:"w-3.5 h-3.5 text-gray-500 cursor-help"}),e.jsxs("div",{className:"absolute right-0 top-5 z-50 hidden group-hover:block w-56 p-1.5 bg-gray-900 border border-gray-700 rounded-lg shadow-xl text-left",children:[N.errors.map((G,P)=>e.jsxs("p",{className:"text-red-400 text-[10px]",children:[" ",G]},P)),N.warnings.map((G,P)=>e.jsxs("p",{className:"text-yellow-400 text-[10px]",children:[" ",G]},P))]})]}),N.type==="grabbed"&&e.jsx("button",{onClick:()=>se(N),className:"p-1 text-gray-500 hover:text-red-400 hover:bg-gray-800 rounded transition-colors",title:"Mark as Failed",children:e.jsx(pt,{className:"w-3.5 h-3.5"})})]})})]},`${N.type}-${N.id}`))})]}):e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(ja,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 mb-2",children:"No history for this event"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Download history will appear here after grabbing releases"})]})}),e.jsx("div",{className:"px-6 py-3 bg-gray-900/50 border-t border-red-900/30 flex justify-end",children:e.jsx("button",{onClick:r,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors text-sm",children:"Close"})})]})})})})]}),S&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-[60] p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-orange-700 rounded-lg max-w-lg w-full p-6",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx(co,{className:"w-8 h-8 text-orange-400 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Download Blocklisted Release?"}),e.jsx("p",{className:"text-orange-400 text-sm mt-1",children:"This release has been blocklisted"})]})]}),e.jsxs("div",{className:"bg-orange-900/20 border border-orange-600/30 rounded-lg p-4 mb-4",children:[e.jsx("p",{className:"text-white font-medium text-sm truncate mb-2",title:S.result.title,children:S.result.title}),S.result.blocklistReason&&e.jsxs("p",{className:"text-orange-300 text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Reason: "}),S.result.blocklistReason]})]}),e.jsx("p",{className:"text-gray-300 text-sm mb-6",children:"This release was previously blocklisted. Are you sure you want to download it anyway? This will override the blocklist for this download only."}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>D(null),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:()=>he(S.result,S.index),className:"px-4 py-2 bg-orange-600 hover:bg-orange-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[e.jsx(Qs,{className:"w-4 h-4"}),"Download Anyway"]})]})]})}),I&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-[60] p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-700 rounded-lg max-w-lg w-full p-6",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx(vt,{className:"w-8 h-8 text-red-400 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Mark as Failed?"}),e.jsx("p",{className:"text-red-400 text-sm mt-1",children:"This will blocklist the release"})]})]}),e.jsx("div",{className:"bg-red-900/20 border border-red-600/30 rounded-lg p-4 mb-4",children:e.jsx("p",{className:"text-white font-medium text-sm truncate",title:I.sourcePath,children:I.sourcePath})}),e.jsx("p",{className:"text-gray-300 text-sm mb-6",children:"This will add the release to the blocklist so it won't be downloaded again. Would you like to search for a replacement?"}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>se(null),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:()=>Se(I,!1),className:"px-4 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors",children:"Blocklist Only"}),e.jsxs("button",{onClick:()=>Se(I,!0),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[e.jsx(ks,{className:"w-4 h-4"}),"Blocklist & Search"]})]})]})})]})}const no=a=>["Fighting","MMA","UFC","Boxing","Kickboxing","Wrestling"].some(l=>a.toLowerCase().includes(l.toLowerCase())),sn=a=>["Motorsport","Racing","Formula 1","F1","NASCAR","IndyCar","MotoGP","WEC","Formula E","Rally","WRC","DTM","Super GT","IMSA","V8 Supercars","Supercars","Le Mans"].some(l=>a.toLowerCase().includes(l.toLowerCase())),eo=a=>no(a)?["Early Prelims","Prelims","Main Card"]:[];function Dv({league:a,isOpen:r,onClose:l,onAdd:o,isAdding:d,editMode:h=!1,leagueId:f}){const[p,x]=u.useState(new Set),[g,b]=u.useState(!1),[w,T]=u.useState("All"),[j,C]=u.useState(null),[E,S]=u.useState(!1),[D,U]=u.useState(!1),[y,F]=u.useState(new Set),[te,z]=u.useState(!1),[k,K]=u.useState(!0),[ne,_]=u.useState(new Set),[we,Y]=u.useState(!1),L=u.useRef(!1),O=u.useRef(!1),be=u.useRef(null),{data:I,isLoading:se}=Jt({queryKey:["league-teams",a==null?void 0:a.idLeague],queryFn:async()=>{if(!(a!=null&&a.idLeague))return null;const q=await fetch(`/api/leagues/external/${a.idLeague}/teams`);if(!q.ok)throw new Error("Failed to fetch teams");return q.json()},enabled:r&&!!a&&!sn(a.strSport),staleTime:300*1e3}),de=I||[],{data:V=[]}=Jt({queryKey:["quality-profiles"],queryFn:async()=>{const q=await fetch("/api/qualityprofile");if(!q.ok)throw new Error("Failed to fetch quality profiles");return q.json()},staleTime:300*1e3}),{data:je}=Jt({queryKey:["config"],queryFn:async()=>(await qe.get("/config")).data}),{data:B}=Jt({queryKey:["motorsport-session-types",a==null?void 0:a.strLeague],queryFn:async()=>{if(!(a!=null&&a.strLeague))return[];const q=await fetch(`/api/motorsport/session-types?leagueName=${encodeURIComponent(a.strLeague)}`);if(!q.ok)throw new Error("Failed to fetch session types");return q.json()},enabled:r&&!!a&&sn(a.strSport),staleTime:300*1e3}),R=B||[],$=f==null?void 0:f.toString(),{data:W}=Jt({queryKey:["league",$],queryFn:async()=>{if(!f)return null;const q=await fetch(`/api/leagues/${f}`);if(!q.ok)throw new Error("Failed to fetch league");return q.json()},enabled:r&&h&&!!f,refetchOnMount:"always"});u.useEffect(()=>{if(h&&r&&W&&W.monitoredTeams&&de.length>0&&a&&!sn(a.strSport)){if(L.current)return;L.current=!0;const q=W.monitoredTeams.filter(ye=>ye.monitored&&ye.team).map(ye=>ye.team.externalId);x(new Set(q)),b(q.length===de.length)}},[h,r,W,de,a]),u.useEffect(()=>{if(h&&r&&W&&(a!=null&&a.strSport)){const q=JSON.stringify({id:W.id,monitorType:W.monitorType,qualityProfileId:W.qualityProfileId,monitoredParts:W.monitoredParts,monitoredSessionTypes:W.monitoredSessionTypes,searchForMissingEvents:W.searchForMissingEvents,searchForCutoffUnmetEvents:W.searchForCutoffUnmetEvents,availableSessionTypesCount:R.length});if(O.current&&be.current===q)return;if(O.current=!0,be.current=q,T(W.monitorType||"All"),C(W.qualityProfileId||null),S(W.searchForMissingEvents||!1),U(W.searchForCutoffUnmetEvents||!1),no(a.strSport)){const ye=eo(a.strSport);if(W.monitoredParts===null||W.monitoredParts===void 0)F(new Set(ye)),z(!0);else if(W.monitoredParts==="")F(new Set),z(!1);else{const De=W.monitoredParts.split(",").filter(N=>N.trim());F(new Set(De)),z(De.length===ye.length)}}if(sn(a.strSport)&&R.length>0)if(W.monitoredSessionTypes===null||W.monitoredSessionTypes===void 0)_(new Set(R)),Y(!0);else if(W.monitoredSessionTypes==="")_(new Set),Y(!1);else{const ye=W.monitoredSessionTypes.split(",").filter(De=>De.trim());_(new Set(ye)),Y(ye.length===R.length)}}},[h,r,W,a==null?void 0:a.strSport,R]),u.useEffect(()=>{if(!h&&r&&(a!=null&&a.idLeague)){if(O.current)return;if(O.current=!0,x(new Set),b(!1),T("Future"),C(V.length>0?V[0].id:null),S(!1),U(!1),no(a.strSport)){const q=eo(a.strSport);F(new Set(q)),z(q.length>0)}else F(new Set),z(!1);sn(a.strSport)&&R.length>0?(_(new Set(R)),Y(!0)):(_(new Set),Y(!1))}},[a==null?void 0:a.idLeague,a==null?void 0:a.strSport,h,r,V,R]),u.useEffect(()=>{r||(L.current=!1,O.current=!1,be.current=null)},[r]);const he=q=>{x(ye=>{const De=new Set(ye);return De.has(q)?De.delete(q):De.add(q),De})},Se=()=>{g?(x(new Set),b(!1)):(x(new Set(de.map(q=>q.idTeam))),b(!0))},Me=q=>{F(ye=>{const De=new Set(ye);if(De.has(q)?De.delete(q):De.add(q),a!=null&&a.strSport){const N=eo(a.strSport);z(De.size===N.length)}return De})},fe=q=>{_(ye=>{const De=new Set(ye);return De.has(q)?De.delete(q):De.add(q),Y(De.size===R.length),De})},Re=()=>{we?(_(new Set),Y(!1)):(_(new Set(R)),Y(!0))},_e=()=>{if(!a)return;const q=Array.from(p),ye=eo(a.strSport);let De=null;je!=null&&je.enableMultiPartEpisodes&&no(a.strSport)&&(y.size===ye.length?De=null:y.size===0?De="":De=Array.from(y).join(","));let N=null;sn(a.strSport)&&R.length>0&&(ne.size===R.length?N=null:ne.size===0?N="":N=Array.from(ne).join(",")),o(a,q,w,j,E,D,De,k,N)},Ye=p.size,Je=(a==null?void 0:a.strBadge)||(a==null?void 0:a.strLogo),re=a?eo(a.strSport):[];y.size;const ke=ne.size,Fe=a?!sn(a.strSport):!1,Ge=(je==null?void 0:je.enableMultiPartEpisodes)&&a&&no(a.strSport),Ve=a&&sn(a.strSport)&&R.length>0;return e.jsx(Gt,{appear:!0,show:r&&!!a,as:u.Fragment,unmount:!0,afterLeave:()=>{document.querySelectorAll("[inert]").forEach(q=>{q.removeAttribute("inert")})},children:e.jsxs(ns,{as:"div",className:"relative z-50",onClose:l,children:[e.jsx(Gt.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black/80"})}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:e.jsx(Gt.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsxs(ns.Panel,{className:"w-full max-w-4xl transform overflow-hidden rounded-lg bg-gradient-to-br from-gray-900 to-black border border-red-900/30 text-left align-middle shadow-xl transition-all",children:[e.jsx("div",{className:"border-b border-red-900/30 p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[Je&&e.jsx("img",{src:Je,alt:(a==null?void 0:a.strLeague)||"League",className:"w-16 h-16 object-contain"}),e.jsxs("div",{children:[e.jsxs(ns.Title,{as:"h3",className:"text-2xl font-bold text-white",children:[h?"Edit ":"Add ",(a==null?void 0:a.strLeague)||""]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:"px-2 py-1 bg-red-600/20 text-red-400 text-xs rounded font-medium",children:(a==null?void 0:a.strSport)||""}),(a==null?void 0:a.strCountry)&&e.jsx("span",{className:"text-sm text-gray-400",children:a.strCountry})]})]})]}),e.jsx("button",{onClick:l,className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(pt,{className:"w-6 h-6"})})]})}),Fe&&e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Select Teams to Monitor"}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Choose which teams you want to follow. Only events involving selected teams will be synced.",Ye===0&&e.jsx("span",{className:"text-yellow-500",children:" No teams selected = league will not be monitored."})]})]}),se&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mb-4"}),e.jsx("p",{className:"text-gray-400",children:"Loading teams..."})]}),!se&&de.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-4 p-3 bg-black/50 rounded-lg border border-red-900/20",children:e.jsxs("button",{onClick:Se,className:"flex items-center justify-between w-full text-left",children:[e.jsxs("span",{className:"font-medium text-white",children:[g?"Deselect All":"Select All"," (",de.length," teams)"]}),e.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${g?"bg-red-600 border-red-600":"border-gray-600"}`,children:g&&e.jsx(Sr,{className:"w-4 h-4 text-white"})})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-h-96 overflow-y-auto",children:de.map(q=>{const ye=p.has(q.idTeam);return e.jsxs("button",{onClick:()=>he(q.idTeam),className:`flex items-center gap-3 p-3 rounded-lg border transition-all text-left ${ye?"bg-red-600/20 border-red-600":"bg-black/30 border-gray-700 hover:border-gray-600"}`,children:[q.strTeamBadge&&e.jsx("img",{src:q.strTeamBadge,alt:q.strTeam,className:"w-10 h-10 object-contain"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-white",children:q.strTeam}),q.strTeamShort&&e.jsx("div",{className:"text-xs text-gray-400",children:q.strTeamShort})]}),e.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${ye?"bg-red-600 border-red-600":"border-gray-600"}`,children:ye&&e.jsx(Sr,{className:"w-4 h-4 text-white"})})]},q.idTeam)})})]}),!se&&de.length===0&&e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-400",children:"No teams found for this league. All events will be monitored."})})]}),Ve&&e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Select Session Types to Monitor"}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Choose which types of sessions you want to monitor. Each session is a separate event.",ke===0&&e.jsx("span",{className:"text-yellow-500",children:" No sessions selected = none will be monitored."})]})]}),e.jsx("div",{className:"mb-4 p-3 bg-black/50 rounded-lg border border-red-900/20",children:e.jsxs("button",{onClick:Re,className:"flex items-center justify-between w-full text-left",children:[e.jsxs("span",{className:"font-medium text-white",children:[we?"Deselect All":"Select All"," (",R.length," session types)"]}),e.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${we?"bg-red-600 border-red-600":"border-gray-600"}`,children:we&&e.jsx(Sr,{className:"w-4 h-4 text-white"})})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:R.map(q=>{const ye=ne.has(q);return e.jsxs("button",{onClick:()=>fe(q),className:`flex items-center gap-3 p-3 rounded-lg border transition-all text-left ${ye?"bg-red-600/20 border-red-600":"bg-black/30 border-gray-700 hover:border-gray-600"}`,children:[e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"font-medium text-white",children:q})}),e.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${ye?"bg-red-600 border-red-600":"border-gray-600"}`,children:ye&&e.jsx(Sr,{className:"w-4 h-4 text-white"})})]},q)})})]}),e.jsxs("div",{className:"px-6 pb-6 border-t border-red-900/20 pt-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Monitoring Options"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Monitor Events"}),e.jsxs("select",{value:w,onChange:q=>T(q.target.value),className:"w-full px-3 py-2 bg-black border border-red-900/30 rounded-lg text-white focus:outline-none focus:border-red-600 focus:ring-1 focus:ring-red-600",children:[e.jsx("option",{value:"All",children:"All Events (past, present, and future)"}),e.jsx("option",{value:"Future",children:"Future Events (events that haven't occurred yet)"}),e.jsx("option",{value:"CurrentSeason",children:"Current Season Only"}),e.jsx("option",{value:"LatestSeason",children:"Latest Season Only"}),e.jsx("option",{value:"NextSeason",children:"Next Season Only"}),e.jsx("option",{value:"Recent",children:"Recent Events (last 30 days)"}),e.jsx("option",{value:"None",children:"None (manual monitoring only)"})]})]}),Ge&&e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Monitor Parts"}),e.jsx("div",{className:"space-y-2",children:re.map(q=>e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:y.has(q),onChange:()=>Me(q),className:"w-5 h-5 bg-black border-2 border-gray-600 rounded text-red-600 focus:ring-red-600 focus:ring-offset-0 focus:ring-2"}),e.jsx("span",{className:"text-sm text-white",children:q})]},q))}),e.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Select which parts of fight cards to monitor. Unselected parts will not be searched.",h&&" Changes will apply to all existing events in this league."]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Quality Profile"}),e.jsxs("select",{value:j||"",onChange:q=>C(q.target.value?parseInt(q.target.value):null),className:"w-full px-3 py-2 bg-black border border-red-900/30 rounded-lg text-white focus:outline-none focus:border-red-600 focus:ring-1 focus:ring-red-600",children:[e.jsx("option",{value:"",children:"No Quality Profile"}),V.map(q=>e.jsx("option",{value:q.id,children:q.name},q.id))]}),h&&e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Changes will apply to all events in this league."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:E,onChange:q=>S(q.target.checked),className:"w-5 h-5 bg-black border-2 border-gray-600 rounded text-red-600 focus:ring-red-600 focus:ring-offset-0 focus:ring-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-white",children:"Search on add/update"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Automatically search when league is added or settings change"})]})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:D,onChange:q=>U(q.target.checked),className:"w-5 h-5 bg-black border-2 border-gray-600 rounded text-red-600 focus:ring-red-600 focus:ring-offset-0 focus:ring-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-white",children:"Search for upgrades on add/update"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Search for quality upgrades when league is added or settings change"})]})]})]})]}),e.jsx("div",{className:"border-t border-red-900/30 p-6 bg-black/30",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-sm text-gray-400",children:Ve?ke>0?e.jsxs("span",{children:[e.jsx("span",{className:"font-semibold text-white",children:ke})," session type",ke!==1?"s":""," selected"]}):e.jsx("span",{className:"text-yellow-500",children:"No session types selected - no events will be monitored"}):Fe?Ye>0?e.jsxs("span",{children:[e.jsx("span",{className:"font-semibold text-white",children:Ye})," team",Ye!==1?"s":""," selected"]}):e.jsx("span",{className:"text-yellow-500",children:"No teams selected - league will not be monitored"}):e.jsx("span",{children:"All events will be monitored"})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:l,disabled:d,className:"px-6 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),e.jsx("button",{onClick:_e,disabled:d||Fe&&se,className:"px-6 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:d?h?"Updating...":"Adding...":h?"Update":"Add to Library"})]})]})})]})})})})]})})}function Mv({isOpen:a,onClose:r,onConfirm:l,title:o="",message:d="",confirmText:h="Confirm",confirmButtonClass:f="bg-red-600 hover:bg-red-700",isLoading:p=!1}){const x=!!o||!!d;return e.jsx(Gt,{appear:!0,show:a&&x,as:u.Fragment,unmount:!0,afterLeave:()=>{document.querySelectorAll("[inert]").forEach(g=>{g.removeAttribute("inert")})},children:e.jsxs(ns,{as:"div",className:"relative z-50",onClose:r,children:[e.jsx(Gt.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black/80"})}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:e.jsx(Gt.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsxs(ns.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-lg bg-gradient-to-br from-gray-900 to-black border border-red-900/30 text-left align-middle shadow-xl transition-all",children:[e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-red-600/20 flex items-center justify-center",children:e.jsx(za,{className:"w-6 h-6 text-red-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(ns.Title,{as:"h3",className:"text-lg font-bold text-white mb-2",children:o}),e.jsx("p",{className:"text-sm text-gray-400",children:d})]})]})}),e.jsxs("div",{className:"border-t border-red-900/30 p-4 bg-black/30 flex gap-3 justify-end",children:[e.jsx("button",{onClick:r,disabled:p,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),e.jsx("button",{onClick:l,disabled:p,className:`px-4 py-2 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${f}`,children:p?"Processing...":h})]})]})})})})]})})}function Cb(a){if(a===0)return"0 B";const r=1024,l=["B","KB","MB","GB","TB"],o=Math.floor(Math.log(a)/Math.log(r));return parseFloat((a/Math.pow(r,o)).toFixed(2))+" "+l[o]}function oC(a){return new Date(a).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function cC({isOpen:a,onClose:r,eventId:l,eventTitle:o,files:d,leagueId:h,isFightingSport:f=!1}){const p=Ys(),[x,g]=u.useState(d),[b,w]=u.useState(null),[T,j]=u.useState("none"),[C,E]=u.useState(!1);u.useEffect(()=>{g(d)},[d]);const S=rs({mutationFn:async({fileId:k,blocklistAction:K})=>({data:(await qe.delete(`/events/${l}/files/${k}`,{params:{blocklistAction:K}})).data,fileId:k}),onSuccess:async({data:k,fileId:K})=>{const ne=b==null?void 0:b.blocklistAction;let _="File deleted";ne==="blocklistAndSearch"?_="File deleted, release blocklisted, searching for replacement...":ne==="blocklistOnly"&&(_="File deleted and release blocklisted"),pe.success(_),w(null),g(we=>we.filter(Y=>Y.id!==K)),h&&(await p.refetchQueries({queryKey:["league-events",h]}),await p.refetchQueries({queryKey:["league",h]})),await p.refetchQueries({queryKey:["leagues"]}),k.eventHasFiles||r()},onError:k=>{var K,ne;pe.error(((ne=(K=k.response)==null?void 0:K.data)==null?void 0:ne.detail)||"Failed to delete file")}}),D=rs({mutationFn:async k=>(await qe.delete(`/events/${l}/files`,{params:{blocklistAction:k}})).data,onSuccess:async k=>{let K="All files deleted";T==="blocklistAndSearch"?K="All files deleted, releases blocklisted, searching for replacements...":T==="blocklistOnly"&&(K="All files deleted and releases blocklisted"),pe.success(K),E(!1),g([]),h&&(await p.refetchQueries({queryKey:["league-events",h]}),await p.refetchQueries({queryKey:["league",h]})),await p.refetchQueries({queryKey:["leagues"]}),r()},onError:k=>{var K,ne;pe.error(((ne=(K=k.response)==null?void 0:K.data)==null?void 0:ne.detail)||"Failed to delete files")}}),U=x.filter(k=>k.exists),y=U.reduce((k,K)=>k+K.size,0),F=()=>{b&&S.mutate({fileId:b.file.id,blocklistAction:b.blocklistAction})},te=()=>{D.mutate(T)},z=k=>{w({file:k,blocklistAction:"none"})};return e.jsxs(e.Fragment,{children:[e.jsx(Gt,{appear:!0,show:a,as:u.Fragment,unmount:!0,afterLeave:()=>{document.querySelectorAll("[inert]").forEach(k=>{k.removeAttribute("inert")}),w(null),E(!1),j("none")},children:e.jsxs(ns,{as:"div",className:"relative z-50",onClose:r,children:[e.jsx(Gt.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black/80"})}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:e.jsx(Gt.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsxs(ns.Panel,{className:"w-full max-w-2xl transform overflow-hidden rounded-lg bg-gray-900 text-left align-middle shadow-xl transition-all border border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[e.jsxs("div",{children:[e.jsx(ns.Title,{className:"text-lg font-medium text-white",children:"Event Files"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:o})]}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(pt,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"p-4 bg-gray-800/50 border-b border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[e.jsx(sl,{className:"w-5 h-5"}),e.jsxs("span",{children:[U.length," file",U.length!==1?"s":""]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[e.jsx(va,{className:"w-5 h-5"}),e.jsx("span",{children:Cb(y)})]})]}),U.length>1&&e.jsxs("button",{onClick:()=>{j("none"),E(!0)},disabled:D.isPending||S.isPending,className:"px-3 py-1.5 bg-red-600 hover:bg-red-700 disabled:bg-red-600/50 text-white text-sm font-medium rounded transition-colors flex items-center gap-2",children:[e.jsx(vt,{className:"w-4 h-4"}),"Delete All"]})]})}),e.jsx("div",{className:"p-4 max-h-96 overflow-y-auto",children:U.length===0?e.jsx("div",{className:"text-center py-8 text-gray-400",children:"No files found for this event"}):e.jsx("div",{className:"space-y-3",children:U.map(k=>e.jsx("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[f&&k.partName&&e.jsx("div",{className:"text-sm font-medium text-red-400 mb-1",children:k.partName}),e.jsx("div",{className:"text-sm text-gray-200 font-mono truncate",title:k.filePath,children:k.filePath.split(/[/\\]/).pop()}),e.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 mt-2 text-xs text-gray-400",children:[e.jsx("span",{children:Cb(k.size)}),k.quality&&e.jsx("span",{className:"px-2 py-0.5 bg-blue-600/20 text-blue-400 rounded",children:k.quality}),k.customFormatScore!==void 0&&k.customFormatScore!==0&&e.jsxs("span",{className:"px-2 py-0.5 bg-purple-600/20 text-purple-400 rounded",title:"Custom Format Score - Higher is better",children:["CF Score: ",k.customFormatScore]}),e.jsxs("span",{children:["Added: ",oC(k.added)]})]}),k.originalTitle&&e.jsxs("details",{className:"mt-2",children:[e.jsx("summary",{className:"text-xs text-gray-500 cursor-pointer hover:text-gray-400",children:"Original grabbed title"}),e.jsx("div",{className:"mt-1 p-2 bg-yellow-900/20 border border-yellow-600/30 rounded text-xs text-yellow-300 font-mono break-all",children:k.originalTitle})]}),e.jsxs("details",{className:"mt-2",children:[e.jsx("summary",{className:"text-xs text-gray-500 cursor-pointer hover:text-gray-400",children:"Full path"}),e.jsx("div",{className:"mt-1 p-2 bg-gray-900 rounded text-xs text-gray-400 font-mono break-all",children:k.filePath})]})]}),e.jsx("button",{onClick:()=>z(k),disabled:S.isPending||D.isPending,className:"p-2 text-gray-400 hover:text-red-400 hover:bg-red-600/10 rounded transition-colors disabled:opacity-50",title:"Delete file",children:e.jsx(vt,{className:"w-5 h-5"})})]})},k.id))})}),e.jsx("div",{className:"flex justify-end gap-3 p-4 border-t border-gray-700 bg-gray-800/50",children:e.jsx("button",{onClick:r,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded transition-colors",children:"Close"})})]})})})})]})}),b&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-[60] p-4",onClick:k=>{k.stopPropagation(),k.target===k.currentTarget&&w(null)},children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-700 rounded-lg max-w-lg w-full p-6",onClick:k=>k.stopPropagation(),children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Delete File"}),e.jsx("button",{onClick:()=>w(null),className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(pt,{className:"w-6 h-6"})})]}),e.jsx("p",{className:"text-gray-300 mb-2",children:"Are you sure you want to delete this file?"}),b.file.partName&&e.jsxs("p",{className:"text-red-400 text-sm mb-2",children:["Part: ",b.file.partName]}),e.jsx("p",{className:"text-gray-400 text-sm font-mono mb-6 break-all",children:b.file.filePath.split(/[/\\]/).pop()}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-gray-300 font-medium mb-2",children:"Blocklist Release"}),e.jsxs("select",{value:b.blocklistAction,onChange:k=>w({...b,blocklistAction:k.target.value}),className:"w-full px-4 py-2 bg-gray-800 border border-gray-600 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600",children:[e.jsx("option",{value:"none",children:"Do not Blocklist"}),e.jsx("option",{value:"blocklistAndSearch",children:"Blocklist and Search for Replacement"}),e.jsx("option",{value:"blocklistOnly",children:"Blocklist Only"})]}),e.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:[b.blocklistAction==="none"&&"The release will remain eligible for future searches",b.blocklistAction==="blocklistAndSearch"&&"Blocklist this release and automatically search for a replacement",b.blocklistAction==="blocklistOnly"&&"Blocklist this release without searching for a replacement"]})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>w(null),className:"px-6 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:F,disabled:S.isPending,className:"px-6 py-2 bg-red-600 hover:bg-red-700 disabled:bg-red-600/50 text-white rounded-lg transition-colors",children:S.isPending?"Deleting...":"Delete"})]})]})}),C&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-[60] p-4",onClick:k=>{k.stopPropagation(),k.target===k.currentTarget&&E(!1)},children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-700 rounded-lg max-w-lg w-full p-6",onClick:k=>k.stopPropagation(),children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Delete All Files"}),e.jsx("button",{onClick:()=>E(!1),className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(pt,{className:"w-6 h-6"})})]}),e.jsxs("p",{className:"text-gray-300 mb-2",children:["Are you sure you want to delete ALL ",U.length," files for this event?"]}),e.jsx("p",{className:"text-red-400 text-sm mb-6",children:"This action cannot be undone."}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-gray-300 font-medium mb-2",children:"Blocklist Releases"}),e.jsxs("select",{value:T,onChange:k=>j(k.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-600 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600",children:[e.jsx("option",{value:"none",children:"Do not Blocklist"}),e.jsx("option",{value:"blocklistAndSearch",children:"Blocklist All and Search for Replacements"}),e.jsx("option",{value:"blocklistOnly",children:"Blocklist All Only"})]}),e.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:[T==="none"&&"Releases will remain eligible for future searches",T==="blocklistAndSearch"&&"Blocklist all releases and automatically search for replacements",T==="blocklistOnly"&&"Blocklist all releases without searching for replacements"]})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>E(!1),className:"px-6 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:te,disabled:D.isPending,className:"px-6 py-2 bg-red-600 hover:bg-red-700 disabled:bg-red-600/50 text-white rounded-lg transition-colors",children:D.isPending?"Deleting...":"Delete All"})]})]})})]})}function Wh(a){if(a===0)return"0 B";const r=1024,l=["B","KB","MB","GB","TB"],o=Math.floor(Math.log(a)/Math.log(r));return parseFloat((a/Math.pow(r,o)).toFixed(2))+" "+l[o]}function dC(a){return new Date(a).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})}function uC({isOpen:a,onClose:r,leagueId:l,leagueName:o,season:d}){const h=Ys(),[f,p]=u.useState(new Set),[x,g]=u.useState(new Set);u.useEffect(()=>{a||g(new Set)},[a]);const{data:b,isLoading:w}=Jt({queryKey:d?["league-season-files",l,d]:["league-files",l],queryFn:async()=>{const U=d?`/leagues/${l}/seasons/${encodeURIComponent(d)}/files`:`/leagues/${l}/files`;return(await qe.get(U)).data},enabled:a&&!!l}),T=(b==null?void 0:b.files.filter(U=>!x.has(U.id)))||[],j=rs({mutationFn:async({eventId:U,fileId:y})=>({data:(await qe.delete(`/events/${U}/files/${y}`)).data,fileId:y}),onSuccess:async({fileId:U})=>{pe.success("File deleted"),g(y=>new Set(y).add(U)),d?await h.refetchQueries({queryKey:["league-season-files",l,d]}):await h.refetchQueries({queryKey:["league-files",l]}),await h.refetchQueries({queryKey:["league-events",l.toString()]}),await h.refetchQueries({queryKey:["league",l.toString()]}),await h.refetchQueries({queryKey:["leagues"]})},onError:U=>{var y,F;pe.error(((F=(y=U.response)==null?void 0:y.data)==null?void 0:F.detail)||"Failed to delete file")}}),C=T.reduce((U,y)=>{const F=y.season||"Unknown";return U[F]||(U[F]=[]),U[F].push(y),U},{}),E=Object.keys(C).sort((U,y)=>{const F=parseInt(U.replace(/\D/g,""))||0;return(parseInt(y.replace(/\D/g,""))||0)-F}),S=U=>{p(y=>{const F=new Set(y);return F.has(U)?F.delete(U):F.add(U),F})},D=d?`${o} - ${d} Files`:`${o} - All Files`;return e.jsx(Gt,{appear:!0,show:a,as:u.Fragment,unmount:!0,afterLeave:()=>{document.querySelectorAll("[inert]").forEach(U=>{U.removeAttribute("inert")}),p(new Set)},children:e.jsxs(ns,{as:"div",className:"relative z-50",onClose:r,children:[e.jsx(Gt.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black/80"})}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:e.jsx(Gt.Child,{as:u.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsxs(ns.Panel,{className:"w-full max-w-4xl transform overflow-hidden rounded-lg bg-gray-900 text-left align-middle shadow-xl transition-all border border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[e.jsxs("div",{children:[e.jsx(ns.Title,{className:"text-lg font-medium text-white",children:D}),b&&e.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:[T.length," file",T.length!==1?"s":"","  ",Wh(T.reduce((U,y)=>U+y.size,0))]})]}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(pt,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:w?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-red-500"})}):T.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-400",children:[e.jsx(va,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No files found"})]}):d?e.jsx("div",{className:"p-4 space-y-2",children:T.map(U=>e.jsx(kb,{file:U,onDelete:()=>j.mutate({eventId:U.eventId,fileId:U.id}),isDeleting:j.isPending,showEventInfo:!0},U.id))}):e.jsx("div",{className:"divide-y divide-gray-700",children:E.map(U=>{const y=C[U],F=y.reduce((z,k)=>z+k.size,0),te=f.has(U);return e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>S(U),className:"w-full flex items-center justify-between p-4 hover:bg-gray-800/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[te?e.jsx(Ss,{className:"w-5 h-5 text-gray-400"}):e.jsx(To,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"text-white font-medium",children:U}),e.jsxs("span",{className:"text-sm text-gray-400",children:[y.length," file",y.length!==1?"s":""]})]}),e.jsx("span",{className:"text-sm text-gray-400",children:Wh(F)})]}),te&&e.jsx("div",{className:"px-4 pb-4 space-y-2",children:y.map(z=>e.jsx(kb,{file:z,onDelete:()=>j.mutate({eventId:z.eventId,fileId:z.id}),isDeleting:j.isPending,showEventInfo:!0},z.id))})]},U)})})}),e.jsx("div",{className:"flex justify-end gap-3 p-4 border-t border-gray-700 bg-gray-800/50",children:e.jsx("button",{onClick:r,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded transition-colors",children:"Close"})})]})})})})]})})}function kb({file:a,onDelete:r,isDeleting:l,showEventInfo:o}){return e.jsx("div",{className:"bg-gray-800 rounded-lg p-3 border border-gray-700",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[o&&e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-sm font-medium text-white truncate",children:a.eventTitle}),e.jsx("span",{className:"text-xs text-gray-500",children:dC(a.eventDate)})]}),a.partName&&e.jsx("div",{className:"text-xs font-medium text-red-400 mb-1",children:a.partName}),e.jsxs("div",{className:"text-sm text-gray-300 font-mono truncate",title:a.filePath,children:[e.jsx(sl,{className:"w-4 h-4 inline mr-1.5 text-gray-500"}),a.fileName]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1 mt-1.5 text-xs text-gray-400",children:[e.jsx("span",{children:Wh(a.size)}),a.quality&&e.jsx("span",{className:"px-1.5 py-0.5 bg-blue-600/20 text-blue-400 rounded",children:a.quality}),a.customFormatScore!==void 0&&a.customFormatScore!==0&&e.jsxs("span",{className:"px-1.5 py-0.5 bg-purple-600/20 text-purple-400 rounded",title:"Custom Format Score - Higher is better",children:["CF Score: ",a.customFormatScore]})]})]}),e.jsx("button",{onClick:()=>{confirm(`Delete "${a.fileName}"? This action cannot be undone.`)&&r()},disabled:l,className:"p-2 text-gray-400 hover:text-red-400 hover:bg-red-600/10 rounded transition-colors disabled:opacity-50 flex-shrink-0",title:"Delete file",children:e.jsx(vt,{className:"w-5 h-5"})})]})})}function mC(){var Ge,Ve;const{id:a}=h1(),r=Sa();na();const l=Ys(),[o,d]=u.useState({isOpen:!1,eventId:0,eventTitle:""}),[h,f]=u.useState({isOpen:!1,eventId:0,eventTitle:"",files:[],isFightingSport:!1}),[p,x]=u.useState({isOpen:!1}),[g,b]=u.useState(!1),[w,T]=u.useState(!1),j=u.useRef(null),C=u.useRef(null),E=new Date().getFullYear().toString(),[S,D]=u.useState(new Set([E])),{data:U}=Jt({queryKey:["config"],queryFn:async()=>(await qe.get("/config")).data}),{data:y,isLoading:F,error:te}=Jt({queryKey:["league",a],queryFn:async()=>(await qe.get(`/leagues/${a}`)).data}),{data:z=[],isLoading:k}=Jt({queryKey:["league-events",a],queryFn:async()=>(await qe.get(`/leagues/${a}/events`)).data,enabled:!!a,refetchInterval:q=>{const ye=q.state.data;return!ye||ye.length===0?3e3:!1}}),{data:K=[]}=Jt({queryKey:["quality-profiles"],queryFn:async()=>(await qe.get("/qualityprofile")).data}),ne=rs({mutationFn:async({eventId:q,monitored:ye,monitoredParts:De})=>(await qe.put(`/events/${q}`,{monitored:ye,monitoredParts:ye?De:null})).data,onSuccess:async()=>{await l.refetchQueries({queryKey:["league-events",a]}),await l.refetchQueries({queryKey:["league",a]}),await l.refetchQueries({queryKey:["leagues"]}),pe.success("Event updated")},onError:()=>{pe.error("Failed to update event")}}),_=rs({mutationFn:async({eventId:q,qualityProfileId:ye})=>(await qe.put(`/events/${q}`,{qualityProfileId:ye})).data,onSuccess:async()=>{await l.refetchQueries({queryKey:["league-events",a]}),pe.success("Quality profile updated")},onError:()=>{pe.error("Failed to update quality profile")}}),we=rs({mutationFn:async q=>(await qe.put(`/leagues/${a}`,{monitored:q})).data,onSuccess:async()=>{await l.refetchQueries({queryKey:["league",a]}),await l.refetchQueries({queryKey:["league-events",a]}),await l.refetchQueries({queryKey:["leagues"]}),pe.success("League monitoring updated")},onError:()=>{pe.error("Failed to update league monitoring")}}),Y=q=>["Motorsport","Racing","Formula 1","F1","NASCAR","IndyCar","MotoGP","WEC","Formula E","Rally","WRC","DTM","Super GT","IMSA","V8 Supercars","Supercars","Le Mans"].some(De=>q.toLowerCase().includes(De.toLowerCase())),L=rs({mutationFn:async q=>{const ye=y!=null&&y.sport?Y(y.sport):!1,De={...q};delete De.monitoredTeamIds,q.monitoredTeamIds!==void 0&&(De.monitored=ye?!0:q.monitoredTeamIds.length>0);const N=await qe.put(`/leagues/${a}`,De);return!ye&&q.monitoredTeamIds!==void 0&&await qe.put(`/leagues/${a}/teams`,{monitoredTeamIds:q.monitoredTeamIds.length>0?q.monitoredTeamIds:null}),N.data},onSuccess:async(q,ye)=>{await l.refetchQueries({queryKey:["league",a]}),await l.refetchQueries({queryKey:["league-events",a]}),await l.refetchQueries({queryKey:["leagues"]}),ye.monitoredTeamIds!==void 0&&(je(),pe.success("League settings updated"))},onError:()=>{pe.error("Failed to update league settings"),l.invalidateQueries({queryKey:["league",a]})}}),O=rs({mutationFn:async()=>(await qe.delete(`/leagues/${a}`,{params:{deleteFiles:!1}})).data,onSuccess:async()=>{pe.success("League deleted successfully"),await l.invalidateQueries({queryKey:["leagues"]}),r("/leagues")},onError:q=>{var De,N;const ye=((N=(De=q.response)==null?void 0:De.data)==null?void 0:N.error)||"Failed to delete league";pe.error(ye)}}),be=rs({mutationFn:async({eventId:q,monitoredParts:ye})=>(await qe.put(`/events/${q}/parts`,{monitoredParts:ye})).data,onSuccess:async()=>{await l.refetchQueries({queryKey:["league-events",a]}),await l.refetchQueries({queryKey:["league",a]}),pe.success("Event parts updated")},onError:()=>{pe.error("Failed to update event parts")}}),I=rs({mutationFn:async({eventId:q,fileId:ye})=>(await qe.delete(`/events/${q}/files/${ye}`)).data,onSuccess:async q=>{await l.refetchQueries({queryKey:["league-events",a]}),await l.refetchQueries({queryKey:["league",a]}),await l.refetchQueries({queryKey:["leagues"]}),pe.success(q.message||"File deleted")},onError:q=>{var ye,De;pe.error(((De=(ye=q.response)==null?void 0:ye.data)==null?void 0:De.detail)||"Failed to delete file")}}),se=rs({mutationFn:async({leagueId:q,season:ye,monitored:De})=>(await qe.put(`/leagues/${q}/seasons/${ye}/toggle`,{monitored:De})).data,onSuccess:async q=>{await l.refetchQueries({queryKey:["league-events",a]}),await l.refetchQueries({queryKey:["league",a]}),pe.success(q.message||"Season monitoring updated")},onError:()=>{pe.error("Failed to toggle season monitoring")}}),de=(q,ye,De,N,G,P,Te,Ae,J)=>{L.mutate({monitoredTeamIds:ye,monitorType:De,qualityProfileId:N,searchForMissingEvents:G,searchForCutoffUnmetEvents:P,monitoredParts:Te,applyMonitoredPartsToEvents:Ae,monitoredSessionTypes:J})},V=()=>{var q;y&&y.externalId&&(j.current={league:{idLeague:y.externalId,strLeague:y.name,strSport:y.sport,strCountry:y.country,strLeagueAlternate:void 0,strDescriptionEN:y.description,strBadge:y.logoUrl,strLogo:y.logoUrl,strBanner:y.bannerUrl,strPoster:y.posterUrl,strWebsite:y.website,intFormedYear:(q=y.formedYear)==null?void 0:q.toString()},leagueId:y.id},b(!0))},je=()=>{b(!1),setTimeout(()=>{j.current=null},300)},B=()=>{y&&(C.current={name:y.name,eventCount:y.eventCount},T(!0))},R=()=>{T(!1),setTimeout(()=>{C.current=null},300)},$=(q,ye,De,N)=>{d({isOpen:!0,eventId:q,eventTitle:ye,part:De,existingFiles:N})},W=async(q,ye,De,N)=>{try{const G=N?`${ye} (${N})`:ye;pe.info("Starting automatic search...",{description:`Searching indexers for ${G}`});const P=await qe.post(`/event/${q}/automatic-search`,{qualityProfileId:De,part:N});P.data.success?pe.success("Automatic search started",{description:P.data.message||`Task queued for ${ye}. Will download if missing or upgrade if better quality is available.`}):pe.error("Automatic search failed",{description:P.data.message||"Failed to queue automatic search"})}catch(G){console.error("Automatic search error:",G),pe.error("Automatic search failed",{description:"Failed to start automatic search. Please try again."})}},he=async()=>{if(a)try{pe.info("Starting league search...",{description:`Searching all monitored events in ${y==null?void 0:y.name} for missing files and quality upgrades`});const q=await qe.post(`/league/${a}/automatic-search`);q.data.success?(pe.success("League search started",{description:`${q.data.message}. Missing events will be downloaded and existing events will be upgraded if better quality is found.`}),l.invalidateQueries({queryKey:["league",a]})):pe.error("League search failed",{description:q.data.message||"Failed to queue league search"})}catch(q){console.error("League search error:",q),pe.error("League search failed",{description:"Failed to start league search. Please try again."})}},Se=async()=>{if(a)try{pe.info("Refreshing events...",{description:`Fetching events from TheSportsDB for ${y==null?void 0:y.name}`});const q=await qe.post(`/leagues/${a}/refresh-events`,{});q.data.success?(pe.success("Events refreshed successfully",{description:`${q.data.newEvents} new events added, ${q.data.updatedEvents} updated, ${q.data.skippedEvents} skipped`}),l.invalidateQueries({queryKey:["league",a]}),l.invalidateQueries({queryKey:["league",a,"events"]}),l.invalidateQueries({queryKey:["leagues"]})):pe.error("Failed to refresh events",{description:q.data.message||"Failed to fetch events from TheSportsDB"})}catch(q){console.error("Refresh events error:",q),pe.error("Failed to refresh events",{description:"An error occurred while fetching events. Please try again."})}};if(F)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"})});if(te||!y)return e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("button",{onClick:()=>r("/leagues"),className:"flex items-center gap-2 text-gray-400 hover:text-white mb-4 transition-colors",children:[e.jsx(hd,{className:"w-5 h-5"}),"Back to Leagues"]}),e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-red-500 text-xl mb-4",children:"League not found"}),e.jsx("button",{onClick:()=>r("/leagues"),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Go to Leagues"})]})]})});const Me=(z||[]).reduce((q,ye)=>{const De=ye.season||"Unknown";return q[De]||(q[De]=[]),q[De].push(ye),q},{}),fe=Object.keys(Me).sort((q,ye)=>q==="Unknown"?1:ye==="Unknown"?-1:parseInt(ye)-parseInt(q)),Re=q=>{D(ye=>{const De=new Set(ye);return De.has(q)?De.delete(q):De.add(q),De})},_e=q=>["Fighting","MMA","UFC","Boxing","Kickboxing","Wrestling"].some(De=>q.toLowerCase().includes(De.toLowerCase())),Ye=q=>{if(q===0)return"0 B";const ye=1024,De=["B","KB","MB","GB","TB"],N=Math.floor(Math.log(q)/Math.log(ye));return parseFloat((q/Math.pow(ye,N)).toFixed(1))+" "+De[N]},Je=[{name:"Early Prelims",label:"Early Prelims"},{name:"Prelims",label:"Prelims"},{name:"Main Card",label:"Main Card"}],re=q=>q.partStatuses&&q.partStatuses.length>0?q.partStatuses.map(ye=>({name:ye.partName,label:ye.partName})):Je,ke=q=>{if(!q)return null;const ye=q.match(/\b(2160p|1080p|720p|480p|360p)\b/i);return ye?ye[1].toLowerCase():null},Fe=q=>{if(!q||q.length<2)return[];const ye=q.filter(P=>P.exists&&P.partName);if(ye.length<2)return[];const De=[],N=ye[0],G=ke(N.quality);for(let P=1;P<ye.length;P++){const Te=ye[P],Ae=ke(Te.quality);G&&Ae&&G!==Ae&&De.push(`Resolution mismatch: ${N.partName} (${G}) vs ${Te.partName} (${Ae})`),N.codec&&Te.codec&&N.codec!==Te.codec&&De.push(`Codec mismatch: ${N.partName} (${N.codec}) vs ${Te.partName} (${Te.codec})`),N.source&&Te.source&&N.source!==Te.source&&De.push(`Source mismatch: ${N.partName} (${N.source}) vs ${Te.partName} (${Te.source})`)}return De};return e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("button",{onClick:()=>r("/leagues"),className:"flex items-center gap-2 text-gray-400 hover:text-white mb-6 transition-colors",children:[e.jsx(hd,{className:"w-5 h-5"}),"Back to Leagues"]}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg overflow-hidden mb-8",children:[(y.bannerUrl||y.logoUrl||y.posterUrl)&&e.jsxs("div",{className:"relative h-64 bg-gray-800",children:[e.jsx("img",{src:y.bannerUrl||y.logoUrl||y.posterUrl,alt:y.name,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent"})]}),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:y.name}),e.jsxs("div",{className:"flex items-center gap-4 text-gray-400",children:[e.jsx("span",{className:"px-3 py-1 bg-red-600/20 text-red-400 text-sm rounded font-medium",children:y.sport}),y.country&&e.jsx("span",{className:"text-sm",children:y.country}),y.formedYear&&e.jsxs("span",{className:"text-sm",children:["Est. ",y.formedYear]})]})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("button",{onClick:()=>we.mutate(!y.monitored),disabled:we.isPending,className:`px-4 py-2 text-white text-sm font-semibold rounded-lg transition-colors ${y.monitored?"bg-green-600 hover:bg-green-700":"bg-gray-600 hover:bg-gray-700"} ${we.isPending?"opacity-50 cursor-not-allowed":""}`,title:"Toggle league monitoring - When monitored, events will be tracked for downloads",children:y.monitored?"Monitored":"Not Monitored"}),e.jsxs("button",{onClick:V,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold rounded-lg transition-colors flex items-center justify-center gap-2",title:"Edit monitored teams and monitoring settings",children:[e.jsx($S,{className:"w-4 h-4"}),"Edit"]}),y.fileCount>0&&e.jsxs("button",{onClick:()=>x({isOpen:!0}),className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white text-sm font-semibold rounded-lg transition-colors flex items-center justify-center gap-2",title:"View all downloaded files for this league",children:[e.jsx(Ih,{className:"w-4 h-4"}),"All Files (",y.fileCount,")"]}),e.jsx("button",{onClick:B,disabled:O.isPending,className:"px-4 py-2 bg-red-600/80 hover:bg-red-700 text-white text-sm font-semibold rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Remove league from library",children:O.isPending?"Deleting...":"Delete League"})]})]}),y.description&&e.jsx("p",{className:"text-gray-400 mt-4 leading-relaxed",children:y.description}),y.website&&e.jsx("a",{href:y.website.startsWith("http://")||y.website.startsWith("https://")?y.website:`https://${y.website}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 mt-4 text-red-400 hover:text-red-300 transition-colors",children:"Visit Official Website "}),e.jsx("div",{className:"mt-6 pt-6 border-t border-red-900/30",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-1",children:"Search All Monitored Events"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Search all monitored events for missing files and quality upgrades"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:he,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white text-sm font-medium rounded transition-colors flex items-center gap-2",title:"Search all monitored events - downloads missing files and upgrades existing files if better quality is available",children:[e.jsx(ks,{className:"w-4 h-4"}),"Search League"]}),e.jsxs("button",{onClick:Se,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded transition-colors flex items-center gap-2",title:"Refresh events from TheSportsDB API - fetches and adds new events to the league",children:[e.jsx(Rt,{className:"w-4 h-4"}),"Refresh Events"]})]})]})}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-red-900/30",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-4",children:"Monitoring Settings"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-2",children:"Monitor Events"}),e.jsxs("select",{value:(y==null?void 0:y.monitorType)||"Future",onChange:q=>L.mutate({monitorType:q.target.value}),disabled:L.isPending,className:"w-full px-3 py-2 bg-black border border-red-900/30 rounded text-white text-sm focus:outline-none focus:border-red-600 focus:ring-1 focus:ring-red-600 disabled:opacity-50",children:[e.jsx("option",{value:"All",children:"All Events"}),e.jsx("option",{value:"Future",children:"Future Events"}),e.jsx("option",{value:"CurrentSeason",children:"Current Season"}),e.jsx("option",{value:"LatestSeason",children:"Latest Season"}),e.jsx("option",{value:"NextSeason",children:"Next Season"}),e.jsx("option",{value:"Recent",children:"Recent (30 days)"}),e.jsx("option",{value:"None",children:"None"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-2",children:"Quality Profile"}),e.jsxs("select",{value:(y==null?void 0:y.qualityProfileId)||"",onChange:q=>L.mutate({qualityProfileId:q.target.value?parseInt(q.target.value):null}),disabled:L.isPending,className:"w-full px-3 py-2 bg-black border border-red-900/30 rounded text-white text-sm focus:outline-none focus:border-red-600 focus:ring-1 focus:ring-red-600 disabled:opacity-50",children:[e.jsx("option",{value:"",children:"No Quality Profile"}),K.map(q=>e.jsx("option",{value:q.id,children:q.name},q.id))]})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:(y==null?void 0:y.searchForMissingEvents)||!1,onChange:q=>L.mutate({searchForMissingEvents:q.target.checked}),disabled:L.isPending,className:"w-4 h-4 bg-black border-2 border-gray-600 rounded text-red-600 focus:ring-red-600 focus:ring-offset-0 focus:ring-2 disabled:opacity-50"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-white",children:"Search on add/update"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Search when league settings change"})]})]})}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:(y==null?void 0:y.searchForCutoffUnmetEvents)||!1,onChange:q=>L.mutate({searchForCutoffUnmetEvents:q.target.checked}),disabled:L.isPending,className:"w-4 h-4 bg-black border-2 border-gray-600 rounded text-red-600 focus:ring-red-600 focus:ring-offset-0 focus:ring-2 disabled:opacity-50"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-white",children:"Search for upgrades on add/update"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Search for quality upgrades when settings change"})]})]})})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-900 border border-red-900/30 rounded-lg p-6",children:[e.jsx("div",{className:"text-gray-400 text-sm mb-1",children:"Total Events"}),e.jsx("div",{className:"text-3xl font-bold text-white",children:y.eventCount})]}),e.jsxs("div",{className:"bg-gray-900 border border-red-900/30 rounded-lg p-6",children:[e.jsx("div",{className:"text-gray-400 text-sm mb-1",children:"Monitored Events"}),e.jsx("div",{className:"text-3xl font-bold text-green-400",children:y.monitoredEventCount})]}),e.jsxs("div",{className:"bg-gray-900 border border-red-900/30 rounded-lg p-6",children:[e.jsx("div",{className:"text-gray-400 text-sm mb-1",children:"Downloaded Files"}),e.jsx("div",{className:"text-3xl font-bold text-blue-400",children:y.fileCount})]})]}),e.jsxs("div",{className:"bg-gray-900 border border-red-900/30 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-red-900/30",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Events"}),e.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:[Array.isArray(z)?z.length:0," event",Array.isArray(z)&&z.length!==1?"s":""," in this league"]})]}),k?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"Loading events..."})]}):!Array.isArray(z)||z.length===0?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 mb-2",children:"Syncing events from TheSportsDB..."}),e.jsx("p",{className:"text-gray-500 text-sm",children:"This may take a moment for leagues with many seasons"})]}):e.jsx("div",{children:fe.map(q=>{const ye=Me[q],De=S.has(q),N=ye.filter(P=>P.monitored).length,G=ye.filter(P=>P.hasFile).length;return e.jsxs("div",{className:"border-b border-red-900/30 last:border-b-0",children:[e.jsxs("div",{className:"p-6 hover:bg-gray-800/30 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:P=>{P.stopPropagation(),se.mutate({leagueId:Number(a),season:q,monitored:N===0})},className:"focus:outline-none focus:ring-2 focus:ring-red-500 rounded flex-shrink-0",disabled:se.isPending,title:N>0?"Unmonitor all events in this season":"Monitor all events in this season",children:N>0?e.jsx(fh,{className:"w-6 h-6 text-green-500"}):e.jsx(xh,{className:"w-6 h-6 text-gray-600"})}),e.jsxs("button",{onClick:()=>Re(q),className:"flex items-center gap-2 flex-1 text-left",children:[De?e.jsx(Ss,{className:"w-5 h-5 text-gray-400"}):e.jsx(To,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:q==="Unknown"?"No Season Info":`Season ${q}`}),e.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:[ye.length," event",ye.length!==1?"s":"",N>0&&`  ${N} monitored`,G>0&&`  ${G} downloaded`]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-4 ml-10",children:[e.jsxs("select",{value:(y==null?void 0:y.qualityProfileId)||"",onChange:P=>L.mutate({qualityProfileId:P.target.value?parseInt(P.target.value):null}),disabled:L.isPending,className:"px-3 py-1.5 bg-gray-800 border border-gray-700 text-gray-200 text-sm rounded focus:outline-none focus:ring-2 focus:ring-red-500",onClick:P=>P.stopPropagation(),children:[e.jsx("option",{value:"",children:"No Quality Profile"}),K.map(P=>e.jsx("option",{value:P.id,children:P.name},P.id))]}),e.jsxs("button",{onClick:async P=>{P.stopPropagation(),pe.info("Season manual search",{description:"This will open manual search for all monitored events in this season"})},className:"px-4 py-1.5 bg-gray-700 hover:bg-gray-600 text-white text-sm font-medium rounded transition-colors flex items-center gap-2",title:"Manual Search - Browse and select releases for all events in this season",children:[e.jsx(lh,{className:"w-4 h-4"}),"Manual Search"]}),e.jsxs("button",{onClick:async P=>{if(P.stopPropagation(),!!(y!=null&&y.id))try{pe.info("Starting season search...",{description:`Searching all monitored events in ${q}`});const Te=await qe.post(`/leagues/${y.id}/seasons/${q}/automatic-search`);Te.data.success?(pe.success("Season search queued",{description:Te.data.message||`Queued searches for all monitored events in ${q}`}),await l.refetchQueries({queryKey:["league-events",a]}),await l.refetchQueries({queryKey:["league",a]})):pe.error("Season search failed",{description:Te.data.message||"Failed to queue season search"})}catch(Te){console.error("Season search error:",Te),pe.error("Season search failed",{description:"Failed to start season search. Please try again."})}},className:"px-4 py-1.5 bg-red-600 hover:bg-red-700 text-white text-sm font-medium rounded transition-colors flex items-center gap-2",title:"Automatic Search - Search for all monitored events in this season",children:[e.jsx(ks,{className:"w-4 h-4"}),"Auto Search"]}),G>0&&e.jsxs("button",{onClick:P=>{P.stopPropagation(),x({isOpen:!0,season:q})},className:"px-4 py-1.5 bg-gray-700 hover:bg-gray-600 text-white text-sm font-medium rounded transition-colors flex items-center gap-2",title:`View all downloaded files for ${q}`,children:[e.jsx(Ih,{className:"w-4 h-4"}),"Files (",G,")"]})]})]}),De&&e.jsx("div",{className:"divide-y divide-red-900/30",children:ye.map(P=>{var J;const Te=P.hasFile,Ae=new Date(P.eventDate);return e.jsx("div",{className:"hover:bg-gray-800/50 transition-colors",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>ne.mutate({eventId:P.id,monitored:!P.monitored,monitoredParts:y==null?void 0:y.monitoredParts}),className:"focus:outline-none focus:ring-2 focus:ring-red-500 rounded flex-shrink-0",disabled:ne.isPending,children:P.monitored?e.jsx(fh,{className:"w-6 h-6 text-green-500"}):e.jsx(xh,{className:"w-6 h-6 text-gray-600"})}),e.jsx("div",{className:"flex-1",children:e.jsx("h3",{className:"text-lg font-semibold text-white",children:P.title})}),Te&&e.jsxs("button",{onClick:()=>f({isOpen:!0,eventId:P.id,eventTitle:P.title,files:P.files||[],isFightingSport:_e(P.sport)}),className:"px-3 py-1 bg-green-600 hover:bg-green-700 text-white text-xs font-semibold rounded transition-colors flex items-center gap-1.5",title:"Click to view and manage downloaded files",children:[e.jsx(sl,{className:"w-3.5 h-3.5"}),P.files&&P.files.length>1?`${P.files.length} Files`:"Downloaded"]})]}),e.jsxs("div",{className:"ml-10 mt-2 space-y-1",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-gray-400",children:[e.jsx("span",{children:Ae.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}),P.round&&e.jsx("span",{className:"px-2 py-0.5 bg-red-600/20 text-red-400 rounded",children:P.round}),P.status&&e.jsx("span",{className:`px-2 py-0.5 rounded ${P.status.toLowerCase()==="completed"?"bg-blue-600/20 text-blue-400":P.status.toLowerCase()==="live"?"bg-green-600/20 text-green-400":"bg-gray-600/20 text-gray-400"}`,children:P.status})]}),P.homeTeamName&&P.awayTeamName&&e.jsxs("div",{className:"text-sm text-gray-300",children:[P.homeTeamName," vs ",P.awayTeamName,P.homeScore!==void 0&&P.awayScore!==void 0&&e.jsxs("span",{className:"ml-2 text-gray-400",children:["(",P.homeScore," - ",P.awayScore,")"]})]}),P.venue&&e.jsxs("div",{className:"text-sm text-gray-400",children:[P.venue,P.location&&`, ${P.location}`]})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-4 ml-10",children:[e.jsx("div",{className:"flex-1 max-w-xs",children:e.jsxs("select",{value:P.qualityProfileId||(y==null?void 0:y.qualityProfileId)||"",onChange:xe=>_.mutate({eventId:P.id,qualityProfileId:xe.target.value?Number(xe.target.value):null}),className:"w-full px-3 py-1.5 bg-gray-800 border border-gray-700 text-gray-200 text-sm rounded focus:outline-none focus:ring-2 focus:ring-red-500",disabled:_.isPending,children:[e.jsx("option",{value:"",children:y!=null&&y.qualityProfileId?`Use League Default (${Array.isArray(K)&&((J=K.find(xe=>xe.id===y.qualityProfileId))==null?void 0:J.name)||"Unknown"})`:"No Quality Profile"}),Array.isArray(K)&&K.map(xe=>e.jsxs("option",{value:xe.id,children:[xe.name,P.qualityProfileId===xe.id&&" (Custom)"]},xe.id))]})}),!(U!=null&&U.enableMultiPartEpisodes&&_e(P.sport))&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>$(P.id,P.title),className:"px-4 py-1.5 bg-gray-700 hover:bg-gray-600 text-white text-sm font-medium rounded transition-colors flex items-center gap-2",title:"Manual Search - Browse and select from available releases",children:[e.jsx(lh,{className:"w-4 h-4"}),"Manual Search"]}),e.jsxs("button",{onClick:()=>W(P.id,P.title,P.qualityProfileId||(y==null?void 0:y.qualityProfileId)),className:"px-4 py-1.5 bg-red-600 hover:bg-red-700 text-white text-sm font-medium rounded transition-colors flex items-center gap-2",title:"Search for monitored event",children:[e.jsx(ks,{className:"w-4 h-4"}),"Auto Search"]})]})]}),(U==null?void 0:U.enableMultiPartEpisodes)&&_e(P.sport)&&e.jsxs("div",{className:"mt-4 ml-10 space-y-3",children:[re(P).map(xe=>{var St,Ks,Zs;const ze=P.monitoredParts!==null&&P.monitoredParts!==void 0?P.monitoredParts:(y==null?void 0:y.monitoredParts)??null,ae=ze==null,$e=ze?ze.split(",").map(et=>et.trim()).filter(Boolean):[],Qe=((St=y==null?void 0:y.monitoredTeams)==null?void 0:St.some(et=>et.monitored))??!1,Ot=(P.monitored||Qe)&&(ae||$e.includes(xe.name)),ot=(Ks=P.partStatuses)==null?void 0:Ks.find(et=>et.partName===xe.name),Nt=(ot==null?void 0:ot.file)??((Zs=P.files)==null?void 0:Zs.find(et=>et.partName===xe.name&&et.exists));return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>{let et;const cs=re(P);Ot?ae?et=cs.map(Ct=>Ct.name).filter(Ct=>Ct!==xe.name):et=$e.filter(Ct=>Ct!==xe.name):et=[...$e,xe.name];const xs=cs.map(Ct=>Ct.name),ds=et.length===xs.length&&xs.every(Ct=>et.includes(Ct));be.mutate({eventId:P.id,monitoredParts:ds?null:et.length>0?et.join(","):""})},className:"focus:outline-none focus:ring-2 focus:ring-red-500 rounded flex-shrink-0",disabled:be.isPending,title:`${Ot?"Unmonitor":"Monitor"} ${xe.label}`,children:Ot?e.jsx(fh,{className:"w-5 h-5 text-green-500"}):e.jsx(xh,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[e.jsx("span",{className:`text-sm font-medium ${Ot?"text-white":"text-gray-500"}`,children:xe.label}),Nt&&e.jsxs("span",{className:"text-xs text-gray-400 flex items-center gap-1.5",children:[e.jsx(sl,{className:"w-3.5 h-3.5 text-green-500"}),Nt.quality&&e.jsx("span",{className:"text-blue-400",children:Nt.quality}),e.jsxs("span",{children:["(",Ye(Nt.size),")"]}),Nt.customFormatScore!==void 0&&Nt.customFormatScore!==0&&e.jsxs("span",{className:`px-1.5 py-0.5 rounded text-xs font-medium ${Nt.customFormatScore>0?"bg-green-900/40 text-green-400":"bg-red-900/40 text-red-400"}`,children:["CF: ",Nt.customFormatScore>0?"+":"",Nt.customFormatScore]})]})]}),Nt&&e.jsx("button",{onClick:()=>{confirm(`Delete the downloaded file for ${xe.label}? This cannot be undone.`)&&I.mutate({eventId:P.id,fileId:Nt.id})},className:"p-1.5 text-gray-400 hover:text-red-400 hover:bg-red-600/10 rounded transition-colors",disabled:I.isPending,title:`Delete ${xe.label} file`,children:e.jsx(vt,{className:"w-4 h-4"})}),e.jsxs("button",{onClick:()=>$(P.id,P.title,xe.name,P.files),className:"px-4 py-1.5 bg-gray-700 hover:bg-gray-600 text-white text-sm font-medium rounded transition-colors flex items-center gap-2",title:`Manual Search - Browse and select ${xe.label} releases`,children:[e.jsx(lh,{className:"w-4 h-4"}),"Manual Search"]}),e.jsxs("button",{onClick:()=>W(P.id,P.title,P.qualityProfileId||(y==null?void 0:y.qualityProfileId),xe.name),className:"px-4 py-1.5 bg-red-600 hover:bg-red-700 text-white text-sm font-medium rounded transition-colors flex items-center gap-2",title:`Search for monitored ${xe.label}`,children:[e.jsx(ks,{className:"w-4 h-4"}),"Auto Search"]})]},xe.name)}),(()=>{const xe=Fe(P.files);return xe.length===0?null:e.jsx("div",{className:"mt-3 p-3 bg-yellow-900/20 border border-yellow-600/30 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(za,{className:"w-5 h-5 text-yellow-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-yellow-400 text-sm font-medium mb-1",children:"Part files may not play back-to-back correctly in Plex"}),e.jsx("ul",{className:"text-yellow-300/80 text-xs space-y-0.5",children:xe.map((ze,ae)=>e.jsxs("li",{children:[" ",ze]},ae))}),e.jsx("p",{className:"text-yellow-300/60 text-xs mt-2",children:"For seamless playback, all parts should have the same quality, codec, and source."})]})]})})})()]})]})},P.id)})})]},q)})})]})]}),e.jsx(iC,{isOpen:o.isOpen,onClose:()=>d({...o,isOpen:!1}),eventId:o.eventId,eventTitle:o.eventTitle,part:o.part,existingFiles:o.existingFiles}),e.jsx(cC,{isOpen:h.isOpen,onClose:()=>f({...h,isOpen:!1}),eventId:h.eventId,eventTitle:h.eventTitle,files:h.files,leagueId:a,isFightingSport:h.isFightingSport}),y&&e.jsx(uC,{isOpen:p.isOpen,onClose:()=>x({isOpen:!1}),leagueId:y.id,leagueName:y.name,season:p.season}),e.jsx(Dv,{league:((Ge=j.current)==null?void 0:Ge.league)||null,isOpen:g,onClose:je,onAdd:de,isAdding:L.isPending,editMode:!0,leagueId:((Ve=j.current)==null?void 0:Ve.leagueId)||null}),e.jsx(Mv,{isOpen:w,onClose:R,onConfirm:()=>{O.mutate(),R()},title:C.current?"Delete League":void 0,message:C.current?`Are you sure you want to delete "${C.current.name}"? This will remove the league${C.current.eventCount>0?` and all ${C.current.eventCount} event${C.current.eventCount!==1?"s":""}`:""} from your library.`:void 0,confirmText:"Delete League",confirmButtonClass:"bg-red-600 hover:bg-red-700",isLoading:O.isPending})]})}const hC=[{id:"Soccer",name:"Soccer",icon:""},{id:"Basketball",name:"Basketball",icon:""},{id:"Fighting",name:"Fighting",icon:""},{id:"Baseball",name:"Baseball",icon:""},{id:"Football",name:"Football",icon:""},{id:"Hockey",name:"Hockey",icon:""},{id:"Tennis",name:"Tennis",icon:""},{id:"Golf",name:"Golf",icon:""},{id:"Racing",name:"Racing",icon:""}];function fC(){const[a,r]=u.useState("Soccer"),[l,o]=u.useState(E()),[d,h]=u.useState(""),[f,p]=u.useState(null),[x,g]=u.useState(!1),{data:b,isLoading:w,error:T,refetch:j}=Jt({queryKey:["tv-schedule",a,l],queryFn:async()=>{const y=new URLSearchParams({sport:a,date:l}),F=await fetch(`/api/events/tv-schedule?${y}`);if(!F.ok)throw new Error("Failed to fetch TV schedule");return F.json()}}),C=(b==null?void 0:b.filter(y=>{var te,z,k;if(!d)return!0;const F=d.toLowerCase();return y.strEvent.toLowerCase().includes(F)||((te=y.strLeague)==null?void 0:te.toLowerCase().includes(F))||((z=y.strHomeTeam)==null?void 0:z.toLowerCase().includes(F))||((k=y.strAwayTeam)==null?void 0:k.toLowerCase().includes(F))}))||[];function E(){return new Date().toISOString().split("T")[0]}const S=y=>new Date(y).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),D=y=>{const F=y.strSport==="Fighting"||y.strSport==="Boxing"||y.strSport==="MMA";p({externalId:y.idEvent,title:y.strEvent,sport:y.strSport,eventDate:y.dateEvent+(y.strTime?`T${y.strTime}`:"T00:00:00"),venue:y.strVenue,location:y.strCity&&y.strCountry?`${y.strCity}, ${y.strCountry}`:y.strCountry||void 0,posterUrl:y.strPoster||y.strThumb||y.strBanner,status:y.strStatus,season:y.strSeason,round:y.intRound,...F&&{organization:y.strLeague},...!F&&{league:{id:0,name:y.strLeague,sport:y.strSport},homeTeam:y.strHomeTeam?{id:0,name:y.strHomeTeam}:void 0,awayTeam:y.strAwayTeam?{id:0,name:y.strAwayTeam}:void 0}}),g(!0)},U=()=>{g(!1),p(null)};return T?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-500 text-xl mb-4",children:"Failed to load events"}),e.jsx("button",{onClick:()=>j(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Retry"})]})}):e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Add Events"}),e.jsx("p",{className:"text-gray-400",children:"Browse and add sporting events from TheSportsDB"})]}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:hC.map(y=>e.jsxs("button",{onClick:()=>r(y.id),className:`
                flex items-center gap-2 px-4 py-2 rounded-lg whitespace-nowrap font-medium transition-all
                ${a===y.id?"bg-red-600 text-white":"bg-gray-900 text-gray-400 hover:bg-gray-800 hover:text-white border border-red-900/30"}
              `,children:[e.jsx("span",{className:"text-xl",children:y.icon}),e.jsx("span",{children:y.name})]},y.id))})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:[e.jsx(Xn,{className:"inline w-4 h-4 mr-1"}),"Select Date"]}),e.jsx("input",{type:"date",value:l,onChange:y=>o(y.target.value),className:"w-full px-4 py-3 bg-gray-900 border border-red-900/30 rounded-lg text-white focus:outline-none focus:border-red-600 focus:ring-2 focus:ring-red-600/20"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:[e.jsx(ks,{className:"inline w-4 h-4 mr-1"}),"Filter Events"]}),e.jsx("input",{type:"text",value:d,onChange:y=>h(y.target.value),placeholder:"Search by event, league, or team...",className:"w-full px-4 py-3 bg-gray-900 border border-red-900/30 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-red-600 focus:ring-2 focus:ring-red-600/20"})]})]}),w&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600 mb-4"}),e.jsx("p",{className:"text-gray-400",children:"Loading events..."})]}),!w&&C.length===0&&e.jsxs("div",{className:"text-center py-12 bg-gray-800/50 rounded-lg border border-gray-700",children:[e.jsx("p",{className:"text-gray-400 text-lg",children:"No events found"}),e.jsx("p",{className:"text-gray-500 text-sm mt-2",children:d?"Try a different search term":"No events scheduled for this date"})]}),!w&&C.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-gray-400 mb-4",children:["Found ",C.length," event",C.length!==1?"s":""," on ",S(l)]}),C.map(y=>e.jsx("div",{className:"bg-gradient-to-r from-gray-900 to-gray-800 border border-gray-700 rounded-lg p-6 hover:border-red-600 transition-colors",children:e.jsxs("div",{className:"flex gap-6",children:[e.jsx("div",{className:"flex-shrink-0",children:y.strPoster||y.strThumb||y.strBanner?e.jsx("img",{src:y.strPoster||y.strThumb||y.strBanner,alt:y.strEvent,className:"w-32 h-48 object-cover rounded-lg",onError:F=>{F.currentTarget.style.display="none"}}):e.jsx("div",{className:"w-32 h-48 bg-gray-700 rounded-lg flex items-center justify-center",children:e.jsx(Xn,{className:"w-12 h-12 text-gray-500"})})}),e.jsxs("div",{className:"flex-grow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:y.strEvent}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[e.jsx("span",{className:"px-2 py-1 bg-red-900/30 text-red-400 rounded",children:y.strSport}),e.jsx("span",{className:"px-2 py-1 bg-gray-800 text-gray-300 rounded",children:y.strLeague})]})]}),e.jsx("button",{onClick:()=>D(y),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold transition-colors",children:"+ Add to Library"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[e.jsx(Xn,{className:"w-5 h-5 text-gray-500"}),e.jsx("span",{children:S(y.dateEvent)}),y.strTimeLocal&&e.jsxs("span",{className:"text-gray-400 text-sm",children:["at ",y.strTimeLocal]})]}),y.strVenue&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[e.jsx(Wy,{className:"w-5 h-5 text-gray-500"}),e.jsx("span",{children:y.strVenue})]}),(y.strCity||y.strCountry)&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-300 text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Location:"}),e.jsx("span",{children:y.strCity&&y.strCountry?`${y.strCity}, ${y.strCountry}`:y.strCountry||y.strCity})]})]}),y.strHomeTeam&&y.strAwayTeam&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-center gap-4 text-lg",children:[e.jsx("span",{className:"text-white font-semibold",children:y.strHomeTeam}),e.jsx("span",{className:"text-gray-500",children:"vs"}),e.jsx("span",{className:"text-white font-semibold",children:y.strAwayTeam})]}),y.strSeason&&e.jsxs("p",{className:"text-center text-gray-400 text-sm mt-2",children:["Season ",y.strSeason,y.intRound&&`  Round ${y.intRound}`]})]}),y.strStatus&&y.strStatus!=="Scheduled"&&e.jsx("div",{className:"mt-3",children:e.jsx("span",{className:`px-3 py-1 rounded text-sm font-semibold ${y.strStatus==="Live"?"bg-green-900/30 text-green-400":y.strStatus==="Completed"?"bg-gray-800 text-gray-400":"bg-yellow-900/30 text-yellow-400"}`,children:y.strStatus})})]})]})},y.idEvent))]}),f&&e.jsx(tC,{isOpen:x,onClose:()=>{g(!1),p(null)},event:f,onSuccess:U}),!w&&C.length===0&&!d&&e.jsxs("div",{className:"mt-12 text-center",children:[e.jsx("p",{className:"text-gray-500 mb-4",children:"Browse events by:"}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[e.jsx("span",{className:"px-4 py-2 bg-gray-800 text-gray-400 rounded-lg",children:"Select a sport"}),e.jsx("span",{className:"px-4 py-2 bg-gray-800 text-gray-400 rounded-lg",children:"Choose a date"}),e.jsx("span",{className:"px-4 py-2 bg-gray-800 text-gray-400 rounded-lg",children:"Search by name"})]})]})]})}const od=[{id:"all",name:"All Sports",icon:""},{id:"American Football",name:"American Football",icon:""},{id:"Athletics",name:"Athletics",icon:""},{id:"Australian Football",name:"Australian Football",icon:""},{id:"Badminton",name:"Badminton",icon:""},{id:"Baseball",name:"Baseball",icon:""},{id:"Basketball",name:"Basketball",icon:""},{id:"Climbing",name:"Climbing",icon:""},{id:"Cricket",name:"Cricket",icon:""},{id:"Cycling",name:"Cycling",icon:""},{id:"Darts",name:"Darts",icon:""},{id:"Esports",name:"Esports",icon:""},{id:"Equestrian",name:"Equestrian",icon:""},{id:"Extreme Sports",name:"Extreme Sports",icon:""},{id:"Field Hockey",name:"Field Hockey",icon:""},{id:"Fighting",name:"Fighting",icon:""},{id:"Gaelic",name:"Gaelic",icon:""},{id:"Gambling",name:"Gambling",icon:""},{id:"Golf",name:"Golf",icon:""},{id:"Gymnastics",name:"Gymnastics",icon:""},{id:"Handball",name:"Handball",icon:""},{id:"Ice Hockey",name:"Ice Hockey",icon:""},{id:"Lacrosse",name:"Lacrosse",icon:""},{id:"Motorsport",name:"Motorsport",icon:""},{id:"Multi Sports",name:"Multi Sports",icon:""},{id:"Netball",name:"Netball",icon:""},{id:"Rugby",name:"Rugby",icon:""},{id:"Shooting",name:"Shooting",icon:""},{id:"Skating",name:"Skating",icon:""},{id:"Skiing",name:"Skiing",icon:""},{id:"Snooker",name:"Snooker",icon:""},{id:"Soccer",name:"Soccer",icon:""},{id:"Table Tennis",name:"Table Tennis",icon:""},{id:"Tennis",name:"Tennis",icon:""},{id:"Volleyball",name:"Volleyball",icon:""},{id:"Watersports",name:"Watersports",icon:""},{id:"Weightlifting",name:"Weightlifting",icon:""},{id:"Wintersports",name:"Wintersports",icon:""}],ed=a=>["Motorsport","Racing","Formula 1","F1","NASCAR","IndyCar","MotoGP","WEC","Formula E","Rally","WRC","DTM","Super GT","IMSA","V8 Supercars","Supercars","Le Mans"].some(l=>a.toLowerCase().includes(l.toLowerCase())),xC=a=>{const r=a.toLowerCase(),l=od.find(d=>d.id.toLowerCase()===r||r.includes(d.id.toLowerCase()));if(l&&l.id!=="all")return l.icon;const o={boxing:"",mma:"","mixed martial arts":"",ufc:"",kickboxing:"","muay thai":"",wrestling:"",sumo:"",football:"",futsal:"","arena football":"","canadian football":"",gridiron:"",racing:"","formula 1":"",f1:"",nascar:"",indycar:"",motogp:"",superbike:"",rally:"",wrc:"",endurance:"","le mans":"",pool:"",billiards:"",surfing:"",swimming:"",diving:"",rowing:"",sailing:"",triathlon:"",marathon:"","track and field":"","figure skating":"","speed skating":"",curling:"",bobsled:"",snowboard:"","cross country":"",biathlon:"",fencing:"",archery:"",powerlifting:"",bodybuilding:"",crossfit:"",cheerleading:"",chess:"",poker:""};for(const[d,h]of Object.entries(o))if(r.includes(d))return h;return""};function gC(){var se,de,V,je,B;const a=Sa(),[r,l]=u.useState(""),[o,d]=u.useState("all"),[h,f]=u.useState(!1),[p,x]=u.useState(!1),[g,b]=u.useState(null),[w,T]=u.useState(!1),j=Ys(),C=u.useRef(null),E=u.useRef(null),{data:S=[],isLoading:D}=Jt({queryKey:["thesportsdb-leagues","all"],queryFn:async()=>{const R=await fetch("/api/leagues/all");if(!R.ok)throw new Error("Failed to fetch leagues");return R.json()},staleTime:300*1e3,refetchOnWindowFocus:!1}),{data:U=[]}=Jt({queryKey:["leagues"],queryFn:async()=>{const R=await fetch("/api/leagues");if(!R.ok)throw new Error("Failed to fetch user leagues");return R.json()}}),y=u.useMemo(()=>{const R=new Map;return U.forEach($=>{$.externalId&&R.set($.externalId,{id:$.id,externalId:$.externalId,logoUrl:$.logoUrl})}),R},[U]),F=u.useMemo(()=>{let R=S;if(o!=="all"&&(R=R.filter($=>$.strSport===o)),r.trim()){const $=r.toLowerCase();R=R.filter(W=>{var he,Se;return W.strLeague.toLowerCase().includes($)||((he=W.strLeagueAlternate)==null?void 0:he.toLowerCase().includes($))||W.strSport.toLowerCase().includes($)||((Se=W.strCountry)==null?void 0:Se.toLowerCase().includes($))})}return R},[S,o,r]),te=rs({mutationFn:async({league:R,monitoredTeamIds:$,monitorType:W,qualityProfileId:he,searchForMissingEvents:Se,searchForCutoffUnmetEvents:Me,monitoredParts:fe,monitoredSessionTypes:Re})=>{const Ye=ed(R.strSport)?!0:$.length>0,Je=await fetch("/api/leagues",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({externalId:R.idLeague,name:R.strLeague,sport:R.strSport,country:R.strCountry,description:R.strDescriptionEN,monitored:Ye,monitorType:W,qualityProfileId:he,searchForMissingEvents:Se,searchForCutoffUnmetEvents:Me,monitoredParts:fe,monitoredSessionTypes:Re,logoUrl:R.strBadge||R.strLogo,bannerUrl:R.strBanner,posterUrl:R.strPoster,website:R.strWebsite,formedYear:R.intFormedYear||null,monitoredTeamIds:$.length>0?$:null})});if(!Je.ok){const re=await Je.json();throw new Error(re.error||"Failed to add league")}return Je.json()},onSuccess:(R,$)=>{const W=ed($.league.strSport);let he;if(W){const Se=$.monitoredSessionTypes?$.monitoredSessionTypes.split(",").length:0;he=Se>0?`Added ${$.league.strLeague} with ${Se} monitored session type${Se!==1?"s":""}!`:`Added ${$.league.strLeague} (all session types monitored)`}else{const Se=$.monitoredTeamIds.length;he=Se>0?`Added ${$.league.strLeague} with ${Se} monitored team${Se!==1?"s":""}!`:`Added ${$.league.strLeague} (not monitored - no teams selected)`}pe.success(he),_(),j.invalidateQueries({queryKey:["leagues"]}),j.invalidateQueries({queryKey:["thesportsdb-leagues"]})},onError:R=>{pe.error(R.message)}}),z=rs({mutationFn:async({leagueId:R,monitoredTeamIds:$,monitorType:W,qualityProfileId:he,searchForMissingEvents:Se,searchForCutoffUnmetEvents:Me,monitoredParts:fe,monitoredSessionTypes:Re,applyMonitoredPartsToEvents:_e,sport:Ye})=>{const Je=ed(Ye),re=Je?!0:$.length>0,ke=await fetch(`/api/leagues/${R}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({monitored:re,monitorType:W,qualityProfileId:he,searchForMissingEvents:Se,searchForCutoffUnmetEvents:Me,monitoredParts:fe,monitoredSessionTypes:Re,applyMonitoredPartsToEvents:_e})});if(!ke.ok){const Fe=await ke.json();throw new Error(Fe.error||"Failed to update league settings")}if(!Je){const Fe=await fetch(`/api/leagues/${R}/teams`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({monitoredTeamIds:$.length>0?$:null})});if(!Fe.ok){const Ge=await Fe.json();throw new Error(Ge.error||"Failed to update monitored teams")}return Fe.json()}return ke.json()},onSuccess:async(R,$)=>{var fe;const W=ed($.sport);let he;if(W){const Re=$.monitoredParts?$.monitoredParts.split(",").length:0;he=Re>0?`Updated settings with ${Re} monitored session${Re!==1?"s":""}`:"League settings updated (no sessions selected)"}else{const Re=R.teamCount||$.monitoredTeamIds.length;he=Re>0?`Updated monitored teams (${Re} team${Re!==1?"s":""})`:"League set to not monitored (no teams selected)"}pe.success(he);const Se=(fe=C.current)==null?void 0:fe.leagueId,Me=Se==null?void 0:Se.toString();await j.refetchQueries({queryKey:["leagues"]}),Me&&(await j.refetchQueries({queryKey:["league",Me]}),await j.refetchQueries({queryKey:["league-events",Me]})),_()},onError:R=>{pe.error(R.message)}}),k=rs({mutationFn:async R=>{const $=await fetch(`/api/leagues/${R}`,{method:"DELETE"});if(!$.ok){const W=await $.json();throw new Error(W.error||"Failed to delete league")}return $.json()},onSuccess:()=>{pe.success("League removed from library"),Y(),j.invalidateQueries({queryKey:["leagues"]})},onError:R=>{pe.error(R.message)}}),K=R=>{C.current={league:R,leagueId:null,editMode:!1},x(!1),f(!0)},ne=(R,$)=>{C.current={league:R,leagueId:$,editMode:!0},x(!0),f(!0)},_=()=>{f(!1),x(!1),setTimeout(()=>{C.current=null},300)},we=(R,$)=>{const W=U.find(Se=>Se.id===R),he=(W==null?void 0:W.eventCount)||0;E.current={leagueId:R,leagueName:$,eventCount:he},T(!0)},Y=()=>{T(!1),setTimeout(()=>{E.current=null},300)},L=(R,$,W,he,Se,Me,fe,Re,_e)=>{const Ye=C.current;Ye!=null&&Ye.editMode&&Ye.leagueId?z.mutate({leagueId:Ye.leagueId,monitoredTeamIds:$,monitorType:W,qualityProfileId:he,searchForMissingEvents:Se,searchForCutoffUnmetEvents:Me,monitoredParts:fe,monitoredSessionTypes:_e,applyMonitoredPartsToEvents:Re,sport:R.strSport}):te.mutate({league:R,monitoredTeamIds:$,monitorType:W,qualityProfileId:he,searchForMissingEvents:Se,searchForCutoffUnmetEvents:Me,monitoredParts:fe,monitoredSessionTypes:_e})},O=()=>{!te.isPending&&!z.isPending&&_()},be=()=>{E.current&&k.mutate(E.current.leagueId)},I=(R,$,W)=>{$&&W?a(`/leagues/${W.id}`):K(R)};return e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Add League"}),e.jsx("p",{className:"text-gray-400",children:"Browse and add leagues from TheSportsDB to monitor their events"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg p-6 mb-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Filter by Sport"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:od.map(R=>e.jsxs("button",{onClick:()=>d(R.id),className:`px-4 py-2 rounded-lg font-medium transition-all ${o===R.id?"bg-red-600 text-white shadow-lg shadow-red-900/30":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[e.jsx("span",{className:"mr-2",children:R.icon}),R.name]},R.id))})]}),e.jsxs("div",{className:"relative",children:[e.jsx(ks,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),e.jsx("input",{type:"text",value:r,onChange:R=>l(R.target.value),placeholder:"Filter leagues (e.g., UFC, Premier League, NBA)...",className:"w-full pl-10 pr-4 py-3 bg-black border border-red-900/30 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-red-600 focus:ring-1 focus:ring-red-600"})]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-3",children:[" Showing ",D?"...":F.length," of ",S.length," leagues",r&&` matching "${r}"`,o!=="all"&&` in ${(se=od.find(R=>R.id===o))==null?void 0:se.name}`]})]}),D&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-red-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-400 mb-2",children:"Loading Leagues..."}),e.jsx("p",{className:"text-gray-500",children:"Fetching all available leagues from TheSportsDB"})]}),!D&&F.length>0&&e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("h2",{className:"text-xl font-semibold text-white",children:[o==="all"?"All Leagues":`${(de=od.find(R=>R.id===o))==null?void 0:de.name} Leagues`," ","(",F.length,")"]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:F.map(R=>{const $=y.get(R.idLeague),W=!!$,he=($==null?void 0:$.logoUrl)||R.strBadge||R.strLogo||R.logoUrl;return e.jsxs("div",{onClick:()=>I(R,W,$),className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg overflow-hidden hover:border-red-700/50 transition-all cursor-pointer",children:[e.jsx("div",{className:"h-32 bg-black/50 flex items-center justify-center p-4",children:he?e.jsx("img",{src:he,alt:R.strLeague,className:"max-h-full max-w-full object-contain"}):e.jsx("span",{className:"text-6xl opacity-50",title:R.strSport,children:xC(R.strSport)})}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"flex items-start justify-between mb-2",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:R.strLeague}),R.strLeagueAlternate&&e.jsx("p",{className:"text-sm text-gray-400 mb-2",children:R.strLeagueAlternate})]})}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("span",{className:"px-2 py-1 bg-red-600/20 text-red-400 text-xs rounded font-medium",children:R.strSport}),R.strCountry&&e.jsxs("span",{className:"flex items-center gap-1 text-xs text-gray-400",children:[e.jsx(Jy,{className:"w-3 h-3"}),R.strCountry]}),R.intFormedYear&&e.jsxs("span",{className:"text-xs text-gray-500",children:["Est. ",R.intFormedYear]})]}),R.strDescriptionEN&&e.jsx("p",{className:"text-sm text-gray-400 mb-4 line-clamp-3",children:R.strDescriptionEN}),W?e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onMouseEnter:()=>b(R.idLeague),onMouseLeave:()=>b(null),onClick:Se=>{Se.stopPropagation(),$&&we($.id,R.strLeague)},className:`flex-1 py-2 rounded-lg font-medium border transition-all flex items-center justify-center gap-2 ${g===R.idLeague?"bg-red-900/40 text-red-300 border-red-700 hover:bg-red-900/60":"bg-green-900/30 text-green-400 border-green-700"}`,children:[e.jsx(Ut,{className:"w-5 h-5"}),g===R.idLeague?"Remove from Library":"Added to Library"]}),e.jsx("button",{onClick:Se=>{Se.stopPropagation(),$&&ne(R,$.id)},className:"px-4 py-2 rounded-lg font-medium bg-blue-600 hover:bg-blue-700 text-white transition-colors",children:"Edit"})]}):e.jsx("button",{onClick:Se=>{Se.stopPropagation(),K(R)},className:"w-full py-2 rounded-lg font-medium transition-all bg-red-600 hover:bg-red-700 text-white",children:e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx(fd,{className:"w-5 h-5"}),"Add to Library"]})})]})]},R.idLeague)})})]}),!D&&F.length===0&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx(fd,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-400 mb-2",children:r||o!=="all"?"No Leagues Found":"No Leagues Available"}),e.jsx("p",{className:"text-gray-500",children:r||o!=="all"?"Try adjusting your search or filter to see more results":"No leagues are available in the database"})]})]}),e.jsx(Dv,{league:((V=C.current)==null?void 0:V.league)||null,isOpen:h,onClose:O,onAdd:L,isAdding:te.isPending||z.isPending,editMode:((je=C.current)==null?void 0:je.editMode)||!1,leagueId:((B=C.current)==null?void 0:B.leagueId)||null}),e.jsx(Mv,{isOpen:w,onClose:Y,onConfirm:be,title:E.current?"Remove League from Library":void 0,message:E.current?`Are you sure you want to remove "${E.current.leagueName}" from your library?${E.current.eventCount>0?` This will remove the league and all ${E.current.eventCount} event${E.current.eventCount!==1?"s":""}.`:""}`:void 0,confirmText:"Remove League",confirmButtonClass:"bg-red-600 hover:bg-red-700",isLoading:k.isPending})]})}const pC=a=>{if(!a||a.length===0)return;const r=a[0];return typeof r=="string"?r:r.remoteUrl},e0={Fighting:{bg:"bg-red-900/30",border:"border-red-700",text:"text-red-400",badge:"bg-red-600"},Soccer:{bg:"bg-green-900/30",border:"border-green-700",text:"text-green-400",badge:"bg-green-600"},Basketball:{bg:"bg-orange-900/30",border:"border-orange-700",text:"text-orange-400",badge:"bg-orange-600"},Football:{bg:"bg-blue-900/30",border:"border-blue-700",text:"text-blue-400",badge:"bg-blue-600"},Baseball:{bg:"bg-indigo-900/30",border:"border-indigo-700",text:"text-indigo-400",badge:"bg-indigo-600"},Hockey:{bg:"bg-cyan-900/30",border:"border-cyan-700",text:"text-cyan-400",badge:"bg-cyan-600"},Tennis:{bg:"bg-yellow-900/30",border:"border-yellow-700",text:"text-yellow-400",badge:"bg-yellow-600"},Golf:{bg:"bg-lime-900/30",border:"border-lime-700",text:"text-lime-400",badge:"bg-lime-600"},Racing:{bg:"bg-purple-900/30",border:"border-purple-700",text:"text-purple-400",badge:"bg-purple-600"},default:{bg:"bg-gray-900/30",border:"border-gray-700",text:"text-gray-400",badge:"bg-gray-600"}},bC=a=>e0[a]||e0.default;function yC(){const{data:a,isLoading:r,error:l}=h5(),[o,d]=u.useState(0),[h,f]=u.useState("all"),[p,x]=u.useState(!1),[g,b]=u.useState(!1),w=Array.from(new Set(a==null?void 0:a.map(z=>z.sport).filter(Boolean))),T=(z=0)=>{const k=new Date,K=k.getDay(),ne=new Date(k);return ne.setDate(k.getDate()-K+z*7),ne.setHours(0,0,0,0),ne},j=(z=0)=>{const k=T(z),K=[];for(let ne=0;ne<7;ne++){const _=new Date(k);_.setDate(k.getDate()+ne),K.push(_)}return K},C=(z,k)=>{if(!k)return[];const K=new Date(z);K.setHours(0,0,0,0);const ne=new Date(z);return ne.setHours(23,59,59,999),k.filter(_=>{if(!_.monitored||h!=="all"&&_.sport!==h||p&&!_.broadcast)return!1;const we=new Date(_.eventDate);return we>=K&&we<=ne})},E=j(o),S=E[0],D=E[6],U=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],y=["January","February","March","April","May","June","July","August","September","October","November","December"],F=()=>{const z=y[S.getMonth()],k=y[D.getMonth()],K=S.getDate(),ne=D.getDate(),_=D.getFullYear();return z===k?`${z} ${K} - ${ne}, ${_}`:`${z} ${K} - ${k} ${ne}, ${_}`},te=z=>{const k=new Date;return z.getDate()===k.getDate()&&z.getMonth()===k.getMonth()&&z.getFullYear()===k.getFullYear()};return r?e.jsx("div",{className:"p-8",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"})})}):l?e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"bg-red-900 border border-red-700 text-red-100 px-4 py-3 rounded",children:[e.jsx("p",{className:"font-bold",children:"Error loading events"}),e.jsx("p",{className:"text-sm",children:l.message})]})}):e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Calendar"}),e.jsx("p",{className:"text-gray-400",children:"View your monitored sports events for the week"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>d(o-1),className:"p-2 hover:bg-red-900/20 rounded-lg transition-colors",title:"Previous week",children:e.jsx($5,{className:"w-6 h-6 text-gray-400 hover:text-white"})}),e.jsxs("div",{className:"text-center min-w-[200px]",children:[e.jsx("p",{className:"text-lg font-semibold text-white",children:F()}),o===0&&e.jsx("p",{className:"text-sm text-red-400",children:"Current Week"})]}),e.jsx("button",{onClick:()=>d(o+1),className:"p-2 hover:bg-red-900/20 rounded-lg transition-colors",title:"Next week",children:e.jsx(To,{className:"w-6 h-6 text-gray-400 hover:text-white"})})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{onClick:()=>b(!g),className:"flex items-center gap-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors",children:[e.jsx(Xy,{className:"w-5 h-5"}),"Filters",(h!=="all"||p)&&e.jsx("span",{className:"px-2 py-0.5 bg-red-600 text-white text-xs rounded-full",children:(h!=="all"?1:0)+(p?1:0)})]}),g&&e.jsxs("div",{className:"flex items-center gap-4 animate-fade-in",children:[e.jsxs("select",{value:h,onChange:z=>f(z.target.value),className:"px-3 py-2 bg-gray-800 border border-gray-700 text-white rounded-lg focus:outline-none focus:border-red-600",children:[e.jsx("option",{value:"all",children:"All Sports"}),w.map(z=>e.jsx("option",{value:z,children:z},z))]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:p,onChange:z=>x(z.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsx(uo,{className:"w-5 h-5 text-green-400"}),e.jsx("span",{className:"text-white",children:"TV Schedule Only"})]}),(h!=="all"||p)&&e.jsx("button",{onClick:()=>{f("all"),x(!1)},className:"text-red-400 hover:text-red-300 text-sm",children:"Clear Filters"})]})]})]}),e.jsx("div",{className:"grid grid-cols-7 gap-2",children:E.map((z,k)=>{const K=C(z,a),ne=te(z);return e.jsxs("div",{className:`bg-gradient-to-br from-gray-900 to-black border rounded-lg overflow-hidden min-h-[200px] ${ne?"border-red-600 shadow-lg shadow-red-900/30":"border-red-900/30"}`,children:[e.jsxs("div",{className:`px-3 py-2 border-b ${ne?"bg-red-950/40 border-red-900/40":"bg-gray-800/30 border-red-900/20"}`,children:[e.jsx("div",{className:"text-xs text-gray-400 font-medium",children:U[k]}),e.jsx("div",{className:`text-lg font-bold ${ne?"text-red-400":"text-white"}`,children:z.getDate()})]}),e.jsx("div",{className:"p-2 space-y-2",children:K.length>0?K.map(_=>{var Y;const we=bC(_.sport||"default");return e.jsx("div",{className:`${we.bg} hover:opacity-80 border ${we.border} rounded p-2 transition-all cursor-pointer group`,children:e.jsxs("div",{className:"flex items-start gap-2",children:[((Y=_.images)==null?void 0:Y[0])&&e.jsx("div",{className:"w-8 h-10 bg-gray-950 rounded overflow-hidden flex-shrink-0",children:e.jsx("img",{src:pC(_.images),alt:_.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[_.sport&&e.jsx("span",{className:`inline-block px-1.5 py-0.5 ${we.badge} text-white text-xs rounded mb-1`,children:_.sport}),e.jsx("p",{className:"text-xs font-semibold text-white line-clamp-2 group-hover:text-gray-200 transition-colors",children:_.title}),_.broadcast&&e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(uo,{className:"w-3 h-3 text-green-400"}),e.jsx("span",{className:"text-xs text-green-400 font-medium line-clamp-1",children:_.broadcast})]}),_.venue&&!_.broadcast&&e.jsx("p",{className:"text-xs text-gray-500 line-clamp-1 mt-1",children:_.venue}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[_.hasFile&&e.jsx("span",{className:"px-1.5 py-0.5 bg-green-600/20 text-green-400 text-xs rounded",children:" Downloaded"}),_.status==="Live"&&e.jsx("span",{className:"px-1.5 py-0.5 bg-red-600 text-white text-xs rounded animate-pulse",children:" LIVE"})]})]})]})},_.id)}):e.jsx("div",{className:"text-center py-4 text-gray-600 text-xs",children:"No events"})})]},z.toISOString())})}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Legend"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[e.jsx("div",{className:"w-3 h-3 bg-red-600 rounded"}),e.jsx("span",{children:"Today"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[e.jsx("div",{className:"w-3 h-3 bg-green-600 rounded"}),e.jsx("span",{children:"Downloaded"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[e.jsx(uo,{className:"w-3 h-3 text-green-400"}),e.jsx("span",{children:"TV Schedule Available"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[e.jsx("div",{className:"w-3 h-3 bg-red-600 rounded animate-pulse"}),e.jsx("span",{children:"Live Now"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"text-xs font-semibold text-gray-500 mb-2",children:"Sport Colors"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(e0).filter(([z])=>z!=="default").map(([z,k])=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 ${k.badge} rounded`}),e.jsx("span",{className:"text-xs text-gray-500",children:z})]},z))})]})]})]})})}function vC({pendingImport:a,onClose:r,onSuccess:l}){var Ve,q,ye,De;const[o,d]=u.useState(!1),[h,f]=u.useState(((q=(Ve=a.suggestedEvent)==null?void 0:Ve.league)==null?void 0:q.id)||null),[p,x]=u.useState(((ye=a.suggestedEvent)==null?void 0:ye.season)||null),[g,b]=u.useState(a.suggestedEventId||null),[w,T]=u.useState(a.suggestedPart||null),[j,C]=u.useState(null),[E,S]=u.useState([]),[D,U]=u.useState([]),[y,F]=u.useState([]),[te,z]=u.useState([]),[k,K]=u.useState([]),[ne,_]=u.useState(!0),[we,Y]=u.useState(!1),[L,O]=u.useState(!1),[be,I]=u.useState(!1),[se,de]=u.useState(""),[V,je]=u.useState(!0);u.useEffect(()=>{B(),he()},[]),u.useEffect(()=>{var N,G;h?(R(h),(!((G=(N=a.suggestedEvent)==null?void 0:N.league)!=null&&G.id)||h!==a.suggestedEvent.league.id)&&(x(null),b(null),F([]))):(U([]),F([]))},[h]),u.useEffect(()=>{h&&($(h,p),a.suggestedEventId||b(null))},[h,p]),u.useEffect(()=>{if(g){const N=y.find(G=>G.id===g);N!=null&&N.usesMultiPart?W(N.sport):(z([]),T(null),C(null))}else z([])},[g,y]);const B=async()=>{_(!0);try{const N=await fetch("/api/leagues");if(N.ok){const G=await N.json();S(G)}}catch(N){console.error("Failed to load leagues:",N)}finally{_(!1)}},R=async N=>{Y(!0);try{const G=await fetch(`/api/library/leagues/${N}/seasons`);if(G.ok){const P=await G.json();U(P.seasons||[])}}catch(G){console.error("Failed to load seasons:",G)}finally{Y(!1)}},$=async(N,G)=>{O(!0);try{const P=G?`/api/library/leagues/${N}/events?season=${encodeURIComponent(G)}`:`/api/library/leagues/${N}/events`,Te=await fetch(P);if(Te.ok){const Ae=await Te.json();F(Ae.events||[])}}catch(P){console.error("Failed to load events:",P)}finally{O(!1)}},W=async N=>{I(!0);try{const G=await fetch(`/api/library/parts/${encodeURIComponent(N)}`);if(G.ok){const P=await G.json();z(P.parts||[])}}catch(G){console.error("Failed to load parts:",G)}finally{I(!1)}},he=async()=>{try{const N=await qe.get(`/pending-imports/${a.id}/matches`);K(N.data)}catch(N){console.error("Failed to load matches:",N)}},Se=N=>{const G=te.find(P=>P.name===N);T(N||null),C((G==null?void 0:G.partNumber)??null)},Me=async()=>{var N,G;if(!g){alert("Please select an event to import to");return}d(!0);try{(g!==a.suggestedEventId||w!==a.suggestedPart)&&await qe.put(`/pending-imports/${a.id}/suggestion`,{eventId:g,part:w}),await qe.post(`/pending-imports/${a.id}/accept`),l()}catch(P){console.error("Failed to import:",P),alert(`Import failed: ${((G=(N=P.response)==null?void 0:N.data)==null?void 0:G.error)||P.message}`)}finally{d(!1)}},fe=async()=>{d(!0);try{await qe.post(`/pending-imports/${a.id}/reject`),l()}catch(N){console.error("Failed to reject:",N)}finally{d(!1)}},Re=N=>{N.eventId&&(b(N.eventId),T(N.part||null),N.leagueId&&f(N.leagueId),N.season&&x(N.season),je(!1))},_e=N=>{if(N===0)return"0 B";const G=1024,P=["B","KB","MB","GB","TB"],Te=Math.floor(Math.log(N)/Math.log(G));return Math.round(N/Math.pow(G,Te)*100)/100+" "+P[Te]},Ye=N=>new Date(N).toLocaleDateString(),Je=N=>N>=80?"text-green-400":N>=60?"text-yellow-400":"text-orange-400",re=N=>N>=80?"bg-green-900/30 border-green-700":N>=60?"bg-yellow-900/30 border-yellow-700":"bg-orange-900/30 border-orange-700",ke=y.filter(N=>{var P,Te;if(!se)return!0;const G=se.toLowerCase();return N.title.toLowerCase().includes(G)||((P=N.homeTeam)==null?void 0:P.toLowerCase().includes(G))||((Te=N.awayTeam)==null?void 0:Te.toLowerCase().includes(G))}),Fe=y.find(N=>N.id===g),Ge=E.find(N=>N.id===h);return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-700 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-gradient-to-br from-gray-900 to-black border-b border-gray-700 px-6 py-4 flex items-center justify-between z-10",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Manual Import"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Map download to an event in your library"})]}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(pt,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[e.jsxs("h4",{className:"text-white font-medium mb-3 flex items-center gap-2",children:[e.jsx(ja,{className:"w-5 h-5 text-blue-400"}),"Download Information"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between col-span-2",children:[e.jsx("span",{className:"text-gray-400",children:"Title:"}),e.jsx("span",{className:"text-white max-w-lg truncate text-right",title:a.title,children:a.title})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Size:"}),e.jsx("span",{className:"text-white",children:_e(a.size)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Detected:"}),e.jsx("span",{className:"text-white",children:Ye(a.detected)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Quality:"}),e.jsx("span",{className:"px-2 py-0.5 bg-purple-900/30 text-purple-400 text-xs rounded",children:a.quality||"Unknown"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Protocol:"}),e.jsx("span",{className:"px-2 py-0.5 bg-blue-900/30 text-blue-400 text-xs rounded uppercase",children:a.protocol||"Unknown"})]})]})]}),(a.suggestedEvent||k.length>0)&&V&&e.jsxs("div",{className:`rounded-lg p-4 border ${a.suggestedEvent?re(a.suggestionConfidence):"bg-gray-800/50 border-gray-700"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ut,{className:"w-5 h-5 text-green-400"}),e.jsx("h4",{className:"text-white font-medium",children:"AI Suggested Matches"})]}),e.jsx("button",{onClick:()=>je(!1),className:"text-xs text-gray-400 hover:text-white",children:"Hide suggestions"})]}),a.suggestedEvent&&e.jsx("div",{onClick:()=>{var N,G,P,Te,Ae,J;return Re({eventId:a.suggestedEventId,eventTitle:(N=a.suggestedEvent)==null?void 0:N.title,league:(P=(G=a.suggestedEvent)==null?void 0:G.league)==null?void 0:P.name,leagueId:(Ae=(Te=a.suggestedEvent)==null?void 0:Te.league)==null?void 0:Ae.id,season:(J=a.suggestedEvent)==null?void 0:J.season,part:a.suggestedPart,confidence:a.suggestionConfidence})},className:`p-3 rounded-lg border cursor-pointer transition-colors mb-2 ${g===a.suggestedEventId?"bg-red-900/30 border-red-500":"bg-gray-800/50 border-gray-600 hover:border-gray-500"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:a.suggestedEvent.title}),e.jsxs("div",{className:"text-sm text-gray-400",children:[((De=a.suggestedEvent.league)==null?void 0:De.name)||a.suggestedEvent.organization,a.suggestedEvent.season&&`  ${a.suggestedEvent.season}`]}),a.suggestedPart&&e.jsxs("div",{className:"text-sm text-blue-400 mt-1",children:["Part: ",a.suggestedPart]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("span",{className:`text-sm font-bold ${Je(a.suggestionConfidence)}`,children:[a.suggestionConfidence,"%"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"confidence"})]})]})}),k.length>0&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Other potential matches:"}),e.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1",children:k.filter(N=>N.eventId!==a.suggestedEventId).slice(0,5).map((N,G)=>e.jsx("div",{onClick:()=>Re(N),className:`p-2 rounded border cursor-pointer transition-colors text-sm ${g===N.eventId?"bg-red-900/30 border-red-500":"bg-gray-800/30 border-gray-700 hover:border-gray-600"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"truncate",children:[e.jsx("span",{className:"text-white",children:N.eventTitle}),e.jsx("span",{className:"text-gray-500 ml-2",children:N.league})]}),e.jsxs("span",{className:`text-xs font-medium ${Je(N.confidence)}`,children:[N.confidence,"%"]})]})},G))})]})]}),e.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"text-white font-medium flex items-center gap-2",children:[e.jsx(ks,{className:"w-5 h-5 text-gray-400"}),V?"Or Select Manually":"Select Event"]}),!V&&(a.suggestedEvent||k.length>0)&&e.jsx("button",{onClick:()=>je(!0),className:"text-xs text-blue-400 hover:text-blue-300",children:"Show AI suggestions"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[e.jsx(va,{className:"w-4 h-4"}),"League"]}),e.jsxs("select",{value:h??"",onChange:N=>f(N.target.value?Number(N.target.value):null),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500 disabled:opacity-50",disabled:ne,children:[e.jsx("option",{value:"",children:"Select a league..."}),E.map(N=>e.jsxs("option",{value:N.id,children:[N.name," (",N.sport,")"]},N.id))]}),ne&&e.jsxs("p",{className:"text-sm text-gray-500 mt-1 flex items-center gap-1",children:[e.jsx(Rt,{className:"w-3 h-3 animate-spin"})," Loading leagues..."]})]}),h&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[e.jsx(Xn,{className:"w-4 h-4"}),"Season"]}),e.jsxs("select",{value:p??"",onChange:N=>x(N.target.value||null),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500 disabled:opacity-50",disabled:we,children:[e.jsx("option",{value:"",children:"All seasons"}),D.map(N=>e.jsx("option",{value:N,children:N},N))]}),we&&e.jsxs("p",{className:"text-sm text-gray-500 mt-1 flex items-center gap-1",children:[e.jsx(Rt,{className:"w-3 h-3 animate-spin"})," Loading seasons..."]})]}),h&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[e.jsx(sl,{className:"w-4 h-4"}),"Event"]}),e.jsxs("div",{className:"relative mb-2",children:[e.jsx(ks,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:se,onChange:N=>de(N.target.value),placeholder:"Search events by title or team...",className:"w-full pl-10 pr-4 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-red-500"})]}),L?e.jsxs("div",{className:"p-4 text-center text-gray-400",children:[e.jsx(Rt,{className:"w-5 h-5 animate-spin mx-auto mb-2"}),"Loading events..."]}):ke.length===0?e.jsx("div",{className:"p-4 text-center text-gray-400 bg-gray-800 rounded-lg border border-gray-700",children:y.length===0?"No events found in this league":"No events match your search"}):e.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-700 rounded-lg",children:ke.map(N=>{const G=g===N.id;return e.jsx("div",{onClick:()=>b(N.id),className:`p-3 cursor-pointer transition-colors ${G?"bg-red-900/30 border-l-4 border-l-red-500":"bg-gray-800 hover:bg-gray-700 border-l-4 border-l-transparent"} ${N.hasFile?"opacity-60":""}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:`font-medium truncate ${G?"text-white":"text-gray-200"}`,children:N.title}),e.jsxs("p",{className:"text-xs text-gray-400 mt-0.5",children:[new Date(N.eventDate).toLocaleDateString(),N.season&&`  Season ${N.season}`,N.episodeNumber&&`  Episode ${N.episodeNumber}`]})]}),N.hasFile&&e.jsx("span",{className:"text-xs bg-yellow-900/50 text-yellow-400 px-2 py-0.5 rounded ml-2",children:"Has File"})]})},N.id)})})]}),(Fe==null?void 0:Fe.usesMultiPart)&&te.length>0&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[e.jsx(v0,{className:"w-4 h-4"}),"Part / Session"]}),e.jsxs("select",{value:w??"",onChange:N=>Se(N.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500 disabled:opacity-50",disabled:be,children:[e.jsx("option",{value:"",children:"Auto-detect from filename"}),te.map(N=>{const G=Fe.files.find(P=>P.partNumber===N.partNumber);return e.jsxs("option",{value:N.name,children:[N.name," (pt",N.partNumber,")",G&&" - Has File"]},N.name)})]}),be&&e.jsxs("p",{className:"text-sm text-gray-500 mt-1 flex items-center gap-1",children:[e.jsx(Rt,{className:"w-3 h-3 animate-spin"})," Loading parts..."]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Select the specific part/session this file represents, or leave as auto-detect"})]})]})]}),g&&Fe&&e.jsxs("div",{className:"p-4 bg-green-900/20 border border-green-700 rounded-lg",children:[e.jsx("p",{className:"text-sm text-green-400 font-medium mb-1",children:"Ready to Import:"}),e.jsx("p",{className:"text-white",children:e.jsx("strong",{children:Fe.title})}),e.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:[Ge==null?void 0:Ge.name,p&&`  ${p}`,w&&`  ${w}`]})]}),!g&&!a.suggestedEvent&&k.length===0&&e.jsx("div",{className:"bg-yellow-900/20 border border-yellow-700/50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(za,{className:"w-5 h-5 text-yellow-400"}),e.jsx("p",{className:"text-yellow-400 text-sm",children:"No matching events found automatically. Please select a league and event manually, or ensure the event exists in your library."})]})})]}),e.jsxs("div",{className:"sticky bottom-0 bg-gradient-to-br from-gray-900 to-black border-t border-gray-700 px-6 py-4 flex justify-end gap-3",children:[e.jsx("button",{onClick:fe,disabled:o,className:"px-6 py-2 bg-gray-700 hover:bg-gray-600 disabled:opacity-50 text-white rounded-lg transition-colors",children:"Reject"}),e.jsx("button",{onClick:r,className:"px-6 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:Me,disabled:o||!g,className:"px-6 py-2 bg-red-600 hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg transition-colors font-medium",children:o?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Rt,{className:"w-4 h-4 animate-spin"}),"Importing..."]}):"Import"})]})]})})}const jC=["Queued","Downloading","Paused","Completed","Failed","Warning","Importing","Imported"],wC=["text-gray-400","text-blue-400","text-yellow-400","text-green-400","text-red-400","text-orange-400","text-purple-400","text-green-500"],NC=["Approved","Rejected","Already Imported","Upgraded"],SC=["text-green-400","text-red-400","text-yellow-400","text-blue-400"],CC=["Failed Download","Missing Files","Corrupted Files","Quality Mismatch","Manual Block","Import Failed"],kC=["text-red-400","text-orange-400","text-yellow-400","text-purple-400","text-blue-400","text-red-500"];function EC(){const[a,r]=u.useState("queue"),[l,o]=u.useState([]),[d,h]=u.useState([]),[f,p]=u.useState([]),[x,g]=u.useState([]),[b,w]=u.useState(null),[T,j]=u.useState(!0),[C,E]=u.useState(!0),[S,D]=u.useState(null),[U,y]=u.useState(null),[F,te]=u.useState(null),[z,k]=u.useState("removeFromClient"),[K,ne]=u.useState("none"),[_,we]=u.useState("none"),[Y,L]=u.useState(1),[O,be]=u.useState(1),[I,se]=u.useState(null),[de,V]=u.useState(!1),[je,B]=u.useState(()=>{const X=localStorage.getItem("queuePageSize");return X?parseInt(X):200}),[R,$]=u.useState(()=>{const X=localStorage.getItem("queueShowUnknownEvents");return X?JSON.parse(X):!0}),[W,he]=u.useState(()=>{const X=localStorage.getItem("queueColumnOrder");return X?JSON.parse(X):["event","title","quality","protocol","indexer","status","progress","size","timeLeft","client","added","actions"]}),[Se,Me]=u.useState(()=>{const X=localStorage.getItem("queueColumnVisibility");return X?JSON.parse(X):{event:!0,title:!0,quality:!0,protocol:!1,indexer:!1,status:!0,progress:!0,size:!0,timeLeft:!1,client:!0,added:!0,actions:!0}}),[fe,Re]=u.useState(null),[_e,Ye]=u.useState(!1),Je=ge.useRef(null);ge.useRef(null);const[re,ke]=u.useState(new Set);u.useEffect(()=>{const X=()=>{Ye(!0),Je.current&&clearTimeout(Je.current),Je.current=setTimeout(()=>{Ye(!1)},3e3)};return window.addEventListener("scroll",X),()=>{window.removeEventListener("scroll",X),Je.current&&clearTimeout(Je.current)}},[]);const Fe=ge.useRef(a),Ge=ge.useRef(Y);u.useEffect(()=>{const X=Fe.current!==a,Ee=Ge.current!==Y;if(Ve(C||X||Ee),Fe.current=a,Ge.current=Y,a==="queue"){const us=setInterval(()=>{_e||q(!1)},5e3);return se(us),()=>clearInterval(us)}else I&&(clearInterval(I),se(null))},[a,Y]);const Ve=(X=!1)=>{a==="queue"?q(X):a==="history"?ye(X):De(X)},q=async(X=!1)=>{try{X&&j(!0);const[Ee,st]=await Promise.all([qe.get("/queue"),qe.get("/pending-imports")]);o(Ee.data),h(st.data)}catch(Ee){console.error("Failed to load queue:",Ee)}finally{X&&(j(!1),E(!1))}},ye=async(X=!1)=>{try{X&&j(!0);const Ee=await qe.get(`/history?page=${Y}&pageSize=50`);p(Ee.data.history),be(Ee.data.totalPages)}catch(Ee){console.error("Failed to load history:",Ee)}finally{X&&(j(!1),E(!1))}},De=async(X=!1)=>{try{X&&j(!0);const Ee=await qe.get(`/blocklist?page=${Y}&pageSize=50`);g(Ee.data.blocklist),be(Ee.data.totalPages)}catch(Ee){console.error("Failed to load blocklist:",Ee)}finally{X&&(j(!1),E(!1))}},N=()=>{Ve()},G=X=>{D({type:"queue",items:[{id:X.id,title:X.title,status:X.status,downloadClient:X.downloadClient}]}),k("removeFromClient"),ne("none")},P=()=>{const X=et.filter(Ee=>re.has(Ee.id)).map(Ee=>({id:Ee.id,title:Ee.title,status:Ee.status,downloadClient:Ee.downloadClient}));X.length!==0&&(D({type:"queue",items:X}),k("removeFromClient"),ne("none"))},Te=async()=>{if(!(!S||S.items.length===0))try{await Promise.all(S.items.map(X=>qe.delete(`/queue/${X.id}`,{params:{removalMethod:z,blocklistAction:K}}))),D(null),ke(new Set),q()}catch(X){console.error("Failed to remove queue item(s):",X)}},Ae=async X=>{try{await qe.post(`/queue/${X.id}/import`),q()}catch(Ee){console.error("Failed to force import:",Ee)}},J=async X=>{try{await qe.delete(`/queue/${X.id}`,{params:{removalMethod:"removeFromClient",blocklistAction:"none"}}),q()}catch(Ee){console.error("Failed to delete unmonitored download:",Ee)}},xe=X=>{y({type:"history",id:X.id,eventId:X.eventId,title:X.destinationPath.split("/").pop()||X.destinationPath}),we("none")},ze=async()=>{if(U)try{await qe.delete(`/history/${U.id}`,{params:{blocklistAction:_}}),y(null),ye()}catch(X){console.error("Failed to delete history item:",X)}},ae=X=>{te({type:"blocklist",id:X.id,eventId:X.eventId,title:X.title})},$e=async()=>{if(F)try{await qe.delete(`/blocklist/${F.id}`),te(null),De()}catch(X){console.error("Failed to delete blocklist item:",X)}},Qe=X=>{if(X===0)return"0 B";const Ee=1024,st=["B","KB","MB","GB","TB"],us=Math.floor(Math.log(X)/Math.log(Ee));return Math.round(X/Math.pow(Ee,us)*100)/100+" "+st[us]},Yt=X=>{const Ee=new Date(X),us=new Date().getTime()-Ee.getTime(),Ts=Math.floor(us/6e4),Ea=Math.floor(Ts/60),qa=Math.floor(Ea/24);return Ts<1?"Just now":Ts<60?`${Ts}m ago`:Ea<24?`${Ea}h ago`:qa<7?`${qa}d ago`:Ee.toLocaleDateString()},Ot=X=>{const Ee={...Se,[X]:!Se[X]};Me(Ee),localStorage.setItem("queueColumnVisibility",JSON.stringify(Ee))},ot=X=>{B(X),localStorage.setItem("queuePageSize",X.toString())},Nt=()=>{const X=!R;$(X),localStorage.setItem("queueShowUnknownEvents",JSON.stringify(X))},St=X=>{Re(X)},Ks=(X,Ee)=>{if(X.preventDefault(),!fe||fe===Ee)return;const st=[...W],us=st.indexOf(fe),Ts=st.indexOf(Ee);st.splice(us,1),st.splice(Ts,0,fe),he(st),localStorage.setItem("queueColumnOrder",JSON.stringify(st))},Zs=()=>{Re(null)},et=R?l:l.filter(X=>X.event&&X.event.id),cs=X=>{ke(Ee=>{const st=new Set(Ee);return st.has(X)?st.delete(X):st.add(X),st})},xs=()=>{re.size===et.length?ke(new Set):ke(new Set(et.map(X=>X.id)))},ds=et.length>0&&re.size===et.length,Ct=re.size>0&&re.size<et.length,ka=X=>({event:"Event",title:"Episode Title",quality:"Quality",protocol:"Protocol",indexer:"Indexer",status:"Status",progress:"Progress",size:"Size",timeLeft:"Time Left",client:"Download Client",added:"Added",actions:"Actions"})[X],Xe=(X,Ee)=>{var st,us,Ts,Ea,qa;switch(X){case"event":return e.jsxs("td",{className:"px-3 py-2 min-w-[150px]",children:[e.jsx("div",{className:"text-white text-xs font-medium break-words",children:((st=Ee.event)==null?void 0:st.title)||"Unknown Event"}),e.jsx("div",{className:"text-xs text-gray-400 break-words",children:(us=Ee.event)==null?void 0:us.organization})]},"event");case"title":return e.jsx("td",{className:"px-3 py-2 min-w-[200px]",children:e.jsx("div",{className:"text-gray-300 text-xs break-words",children:Ee.title})},"title");case"quality":return e.jsx("td",{className:"px-3 py-2 text-center",children:e.jsx("span",{className:"px-1.5 py-0.5 bg-purple-900/30 text-purple-400 text-xs rounded",children:Ee.quality||"Unknown"})},"quality");case"protocol":return e.jsx("td",{className:"px-3 py-2 text-center",children:e.jsx("span",{className:"px-1.5 py-0.5 bg-blue-900/30 text-blue-400 text-xs rounded uppercase",children:Ee.protocol||"Unknown"})},"protocol");case"indexer":return e.jsx("td",{className:"px-3 py-2 text-center",children:e.jsx("span",{className:"text-gray-400 text-xs",children:Ee.indexer||"Unknown"})},"indexer");case"status":return e.jsxs("td",{className:"px-3 py-2 text-center",children:[e.jsxs("div",{className:`flex items-center justify-center gap-1 ${wC[Ee.status]}`,children:[gt(Ee.status),e.jsx("span",{className:"text-xs",children:jC[Ee.status]})]}),Ee.statusMessages&&Ee.statusMessages.length>0&&e.jsx("div",{className:"mt-1 text-center",children:Ee.statusMessages.map((Kt,$a)=>e.jsx("div",{className:"text-xs text-orange-400 whitespace-nowrap",title:Kt,children:Kt},$a))}),Ee.errorMessage&&!((Ts=Ee.statusMessages)!=null&&Ts.length)&&e.jsx("div",{className:"text-xs text-red-400 mt-1 text-center",title:Ee.errorMessage,children:Ee.errorMessage})]},"status");case"progress":return e.jsx("td",{className:"px-3 py-2",children:e.jsxs("div",{className:"w-20",children:[e.jsx("div",{className:"flex items-center justify-between text-xs text-gray-400 mb-0.5",children:e.jsxs("span",{children:[Ee.progress.toFixed(1),"%"]})}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-1.5",children:e.jsx("div",{className:"bg-red-600 h-1.5 rounded-full transition-all",style:{width:`${Ee.progress}%`}})})]})},"progress");case"size":return e.jsx("td",{className:"px-3 py-2 text-center",children:e.jsxs("div",{className:"text-gray-300 text-xs whitespace-nowrap",children:[Qe(Ee.downloaded)," / ",Qe(Ee.size)]})},"size");case"timeLeft":return e.jsx("td",{className:"px-3 py-2 text-center",children:e.jsx("span",{className:"text-gray-400 text-xs",children:Ee.timeRemaining||"-"})},"timeLeft");case"client":return e.jsx("td",{className:"px-3 py-2 text-center",children:e.jsx("span",{className:"text-gray-400 text-xs",children:((Ea=Ee.downloadClient)==null?void 0:Ea.name)||"Unknown"})},"client");case"added":return e.jsx("td",{className:"px-3 py-2 text-center",children:e.jsx("span",{className:"text-gray-400 text-xs",children:Yt(Ee.added)})},"added");case"actions":const Ht=((qa=Ee.statusMessages)==null?void 0:qa.some(Kt=>Kt.includes("no longer monitored")))&&(Ee.status===5||Ee.status===3);return e.jsx("td",{className:"px-3 py-2",children:e.jsxs("div",{className:"flex items-center justify-end gap-1",children:[Ht&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>Ae(Ee),className:"p-1.5 text-green-400 hover:text-green-300 hover:bg-green-900/30 rounded transition-colors",title:"Import Anyway",children:e.jsx(Zc,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>J(Ee),className:"p-1.5 text-red-400 hover:text-red-300 hover:bg-red-900/30 rounded transition-colors",title:"Delete Download",children:e.jsx(vt,{className:"w-4 h-4"})})]}),!Ht&&e.jsx("button",{onClick:()=>G(Ee),className:"p-1.5 text-red-400 hover:text-red-300 hover:bg-red-900/30 rounded transition-colors",title:"Remove",children:e.jsx(vt,{className:"w-4 h-4"})})]})},"actions");default:return null}},gt=X=>{switch(X){case 0:return e.jsx(Rr,{className:"w-4 h-4"});case 1:return e.jsx(Qs,{className:"w-4 h-4 animate-bounce"});case 2:return e.jsx(Es,{className:"w-4 h-4"});case 3:return e.jsx(Ut,{className:"w-4 h-4"});case 4:return e.jsx(Es,{className:"w-4 h-4"});case 5:return e.jsx(za,{className:"w-4 h-4"});case 6:return e.jsx(Zc,{className:"w-4 h-4 animate-pulse"});case 7:return e.jsx(Ut,{className:"w-4 h-4"});default:return e.jsx(Rr,{className:"w-4 h-4"})}},jt=X=>{switch(X){case 0:return e.jsx(Ut,{className:"w-4 h-4"});case 1:return e.jsx(Es,{className:"w-4 h-4"});case 2:return e.jsx(za,{className:"w-4 h-4"});case 3:return e.jsx(Rt,{className:"w-4 h-4"});default:return e.jsx(Ut,{className:"w-4 h-4"})}},ls=S==null?void 0:S.items.some(X=>X.status===3||X.status===7),Vt=S==null?void 0:S.items.some(X=>{var Ee,st;return((Ee=X.downloadClient)==null?void 0:Ee.postImportCategory)!=null&&((st=X.downloadClient)==null?void 0:st.postImportCategory)!==""}),Fs=ls&&!Vt;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-950 via-black to-red-950/20 p-4",children:e.jsxs("div",{className:"max-w-full mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Activity"}),e.jsx("p",{className:"text-gray-400",children:"Monitor downloads and import history"})]}),e.jsxs("div",{className:"flex gap-2",children:[a==="queue"&&e.jsx("button",{onClick:()=>V(!0),className:"flex items-center px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",title:"Table Options",children:e.jsx(p0,{className:"w-5 h-5"})}),e.jsxs("button",{onClick:N,className:"flex items-center px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:[e.jsx(Rt,{className:"w-5 h-5 mr-2"}),"Refresh"]})]})]}),e.jsxs("div",{className:"flex space-x-1 mb-6 bg-gray-900 p-1 rounded-lg inline-flex",children:[e.jsxs("button",{onClick:()=>{r("queue"),L(1)},className:`px-6 py-2 rounded-md transition-all ${a==="queue"?"bg-red-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:["Queue",l.length>0&&e.jsx("span",{className:"ml-2 px-2 py-0.5 bg-red-700 text-white text-xs rounded-full",children:l.length})]}),e.jsx("button",{onClick:()=>{r("history"),L(1)},className:`px-6 py-2 rounded-md transition-all ${a==="history"?"bg-red-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:"History"}),e.jsxs("button",{onClick:()=>{r("blocklist"),L(1)},className:`px-6 py-2 rounded-md transition-all ${a==="blocklist"?"bg-red-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:["Blocklist",x.length>0&&e.jsx("span",{className:"ml-2 px-2 py-0.5 bg-red-700 text-white text-xs rounded-full",children:x.length})]})]}),T?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-red-600 border-t-transparent"}),e.jsx("p",{className:"mt-4 text-gray-400",children:"Loading..."})]}):a==="queue"?e.jsx("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-gray-700 rounded-lg overflow-hidden",children:et.length===0&&d.length===0?e.jsxs("div",{className:"p-12 text-center text-gray-400",children:[e.jsx(Qs,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-lg",children:"No active downloads"}),e.jsx("p",{className:"text-sm mt-2",children:"Downloads will appear here when events are searched and sent to download clients"})]}):e.jsxs(e.Fragment,{children:[re.size>0&&e.jsxs("div",{className:"px-4 py-3 bg-gray-800 border-b border-gray-700 flex items-center justify-between",children:[e.jsxs("span",{className:"text-gray-300 text-sm",children:[re.size," item",re.size!==1?"s":""," selected"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>ke(new Set),className:"px-3 py-1.5 text-gray-400 hover:text-white text-sm transition-colors",children:"Clear Selection"}),e.jsxs("button",{onClick:P,className:"px-4 py-1.5 bg-red-600 hover:bg-red-700 text-white text-sm rounded transition-colors flex items-center gap-2",children:[e.jsx(vt,{className:"w-4 h-4"}),"Remove Selected"]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-800 text-gray-300 text-xs",children:[e.jsx("th",{className:"px-3 py-2 w-10",children:e.jsx("input",{type:"checkbox",checked:ds,ref:X=>{X&&(X.indeterminate=Ct)},onChange:xs,className:"w-4 h-4 bg-gray-700 border-gray-600 rounded text-red-600 focus:ring-red-600 focus:ring-2 cursor-pointer",title:ds?"Deselect all":"Select all"})}),W.map(X=>{if(!Se[X])return null;const Ee=X==="event"||X==="title"?"text-left":X==="actions"?"text-right":"text-center";return e.jsx("th",{className:`px-3 py-2 ${Ee} font-medium`,children:ka(X)},X)})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-700",children:[d.map(X=>e.jsx("tr",{className:"bg-yellow-900/10 hover:bg-yellow-900/20 transition-colors border-l-4 border-yellow-500",children:e.jsx("td",{colSpan:W.filter(Ee=>Se[Ee]).length+1,className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(kr,{className:"w-6 h-6 text-yellow-400 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:"External Download - Manual Import Needed"}),e.jsx("div",{className:"text-sm text-gray-300 mt-1",children:X.title}),X.suggestedEvent&&e.jsxs("div",{className:"text-sm text-gray-400 mt-1",children:["Suggested: ",X.suggestedEvent.title," (",X.suggestionConfidence,"% confidence)"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:async()=>{try{await qe.post(`/pending-imports/${X.id}/remove-from-client`),q()}catch(Ee){console.error("Failed to remove pending import from client:",Ee)}},className:"px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors flex items-center gap-2",title:"Remove download from client and delete files",children:[e.jsx(vt,{className:"w-5 h-5"}),"Remove"]}),e.jsxs("button",{onClick:()=>w(X),className:"px-4 py-2 bg-yellow-600 hover:bg-yellow-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[e.jsx(Zc,{className:"w-5 h-5"}),"Manual Import"]})]})]})})},`pending-${X.id}`)),et.map(X=>e.jsxs("tr",{className:`hover:bg-gray-800/50 transition-colors ${re.has(X.id)?"bg-red-900/20":""}`,children:[e.jsx("td",{className:"px-3 py-2 w-10",children:e.jsx("input",{type:"checkbox",checked:re.has(X.id),onChange:()=>cs(X.id),className:"w-4 h-4 bg-gray-700 border-gray-600 rounded text-red-600 focus:ring-red-600 focus:ring-2 cursor-pointer"})}),W.map(Ee=>Se[Ee]?Xe(Ee,X):null)]},X.id))]})]})})]})}):a==="history"?e.jsx("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-gray-700 rounded-lg overflow-hidden",children:f.length===0?e.jsxs("div",{className:"p-12 text-center text-gray-400",children:[e.jsx(Zc,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-lg",children:"No import history"}),e.jsx("p",{className:"text-sm mt-2",children:"Imported events will appear here once downloads complete"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-800 text-gray-300 text-xs",children:[e.jsx("th",{className:"px-3 py-2 text-left font-medium",children:"Event"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium",children:"Imported Path"}),e.jsx("th",{className:"px-3 py-2 text-center font-medium",children:"Quality"}),e.jsx("th",{className:"px-3 py-2 text-center font-medium",children:"Decision"}),e.jsx("th",{className:"px-3 py-2 text-center font-medium",children:"Size"}),e.jsx("th",{className:"px-3 py-2 text-center font-medium",children:"Imported"}),e.jsx("th",{className:"px-3 py-2 text-right font-medium",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-700",children:f.map(X=>{var Ee,st;return e.jsxs("tr",{className:"hover:bg-gray-800/50 transition-colors",children:[e.jsxs("td",{className:"px-3 py-2 min-w-[150px]",children:[e.jsx("div",{className:`text-xs font-medium break-words ${X.event?"text-white":"text-gray-500 italic"}`,children:((Ee=X.event)==null?void 0:Ee.title)||"Unknown Event"}),e.jsx("div",{className:"text-xs text-gray-400 break-words",children:((st=X.event)==null?void 0:st.organization)||(X.eventId?`Event ID: ${X.eventId}`:"N/A")})]}),e.jsxs("td",{className:"px-3 py-2 min-w-[250px]",children:[e.jsx("div",{className:"text-gray-300 text-xs break-words",children:X.destinationPath}),X.warnings.length>0&&e.jsxs("div",{className:"text-xs text-yellow-400 mt-0.5",children:[X.warnings.length," warning(s)"]}),X.errors.length>0&&e.jsxs("div",{className:"text-xs text-red-400 mt-0.5",children:[X.errors.length," error(s)"]})]}),e.jsx("td",{className:"px-3 py-2 text-center",children:e.jsx("span",{className:"px-1.5 py-0.5 bg-purple-900/30 text-purple-400 text-xs rounded",children:X.quality})}),e.jsx("td",{className:"px-3 py-2",children:e.jsxs("div",{className:`flex items-center justify-center gap-1 ${SC[X.decision]}`,children:[jt(X.decision),e.jsx("span",{className:"text-xs",children:NC[X.decision]})]})}),e.jsx("td",{className:"px-3 py-2 text-center",children:e.jsx("span",{className:"text-gray-300 text-xs",children:Qe(X.size)})}),e.jsx("td",{className:"px-3 py-2 text-center",children:e.jsx("span",{className:"text-gray-400 text-xs",children:Yt(X.importedAt)})}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("div",{className:"flex items-center justify-end",children:e.jsx("button",{onClick:()=>xe(X),className:"p-1.5 text-red-400 hover:text-red-300 hover:bg-red-900/30 rounded transition-colors",title:"Delete",children:e.jsx(vt,{className:"w-4 h-4"})})})})]},X.id)})})]})}),O>1&&e.jsxs("div",{className:"px-6 py-4 border-t border-gray-700 flex items-center justify-between",children:[e.jsx("button",{onClick:()=>L(Math.max(1,Y-1)),disabled:Y===1,className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded transition-colors",children:"Previous"}),e.jsxs("span",{className:"text-gray-400",children:["Page ",Y," of ",O]}),e.jsx("button",{onClick:()=>L(Math.min(O,Y+1)),disabled:Y===O,className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded transition-colors",children:"Next"})]})]})}):e.jsx("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-gray-700 rounded-lg overflow-hidden",children:x.length===0?e.jsxs("div",{className:"p-12 text-center text-gray-400",children:[e.jsx(co,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-lg",children:"No blocked releases"}),e.jsx("p",{className:"text-sm mt-2",children:"Failed or rejected releases will appear here"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-800 text-gray-300 text-xs",children:[e.jsx("th",{className:"px-3 py-2 text-left font-medium",children:"Event"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium",children:"Title"}),e.jsx("th",{className:"px-3 py-2 text-center font-medium",children:"Indexer"}),e.jsx("th",{className:"px-3 py-2 text-center font-medium",children:"Reason"}),e.jsx("th",{className:"px-3 py-2 text-center font-medium",children:"Blocked"}),e.jsx("th",{className:"px-3 py-2 text-right font-medium",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-700",children:x.map(X=>{var Ee,st;return e.jsxs("tr",{className:"hover:bg-gray-800/50 transition-colors",children:[e.jsxs("td",{className:"px-3 py-2 min-w-[150px]",children:[e.jsx("div",{className:"text-white text-xs font-medium break-words",children:((Ee=X.event)==null?void 0:Ee.title)||"Unknown Event"}),e.jsx("div",{className:"text-xs text-gray-400 break-words",children:(st=X.event)==null?void 0:st.organization})]}),e.jsxs("td",{className:"px-3 py-2 min-w-[200px]",children:[e.jsx("div",{className:"text-gray-300 text-xs break-words",children:X.title}),X.message&&e.jsx("div",{className:"text-xs text-gray-400 mt-0.5 break-words",children:X.message}),e.jsxs("div",{className:"text-xs text-gray-500 mt-0.5 font-mono",children:["Hash: ",X.torrentInfoHash.substring(0,16),"..."]})]}),e.jsx("td",{className:"px-3 py-2 text-center",children:e.jsx("span",{className:"text-gray-400 text-xs",children:X.indexer||"Unknown"})}),e.jsx("td",{className:"px-3 py-2",children:e.jsxs("div",{className:`flex items-center justify-center gap-1 ${kC[X.reason]}`,children:[e.jsx(co,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs",children:CC[X.reason]})]})}),e.jsx("td",{className:"px-3 py-2 text-center",children:e.jsx("span",{className:"text-gray-400 text-xs",children:Yt(X.blockedAt)})}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("div",{className:"flex items-center justify-end",children:e.jsx("button",{onClick:()=>ae(X),className:"p-1.5 text-red-400 hover:text-red-300 hover:bg-red-900/30 rounded transition-colors",title:"Remove from Blocklist",children:e.jsx(vt,{className:"w-4 h-4"})})})})]},X.id)})})]})}),O>1&&e.jsxs("div",{className:"px-6 py-4 border-t border-gray-700 flex items-center justify-between",children:[e.jsx("button",{onClick:()=>L(Math.max(1,Y-1)),disabled:Y===1,className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded transition-colors",children:"Previous"}),e.jsxs("span",{className:"text-gray-400",children:["Page ",Y," of ",O]}),e.jsx("button",{onClick:()=>L(Math.min(O,Y+1)),disabled:Y===O,className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded transition-colors",children:"Next"})]})]})}),S&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-700 rounded-lg max-w-2xl w-full p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:S.items.length===1?`Remove - ${S.items[0].title.length>60?S.items[0].title.substring(0,60)+"...":S.items[0].title}`:`Remove ${S.items.length} Selected Downloads`}),e.jsx("button",{onClick:()=>D(null),className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(pt,{className:"w-6 h-6"})})]}),S.items.length===1?e.jsxs("p",{className:"text-gray-300 mb-6",children:["Are you sure you want to remove '",S.items[0].title,"' from the queue?"]}):e.jsxs("div",{className:"mb-6",children:[e.jsxs("p",{className:"text-gray-300 mb-3",children:["Are you sure you want to remove the following ",S.items.length," downloads from the queue?"]}),e.jsx("div",{className:"max-h-40 overflow-y-auto bg-gray-800/50 rounded-lg p-3 space-y-1",children:S.items.map(X=>e.jsx("div",{className:"text-sm text-gray-400 truncate",title:X.title,children:X.title},X.id))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-gray-300 font-medium mb-2",children:"Removal Method"}),e.jsxs("select",{value:z,onChange:X=>k(X.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-600 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600",children:[e.jsx("option",{value:"removeFromClient",children:"Remove from Download Client"}),Fs&&e.jsx("option",{value:"changeCategory",children:"Change Category"}),e.jsx("option",{value:"ignoreDownload",children:"Ignore Download"})]}),e.jsxs("p",{className:"text-sm text-yellow-500 mt-2",children:[z==="removeFromClient"&&"Removes download and file(s) from download client",z==="changeCategory"&&"Changes download to the 'Post-Import Category' from Download Client",z==="ignoreDownload"&&"Stops Sportarr from processing this download further"]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-gray-300 font-medium mb-2",children:["Blocklist Release",S.items.length>1?"s":""]}),e.jsxs("select",{value:K,onChange:X=>ne(X.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-600 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600",children:[e.jsx("option",{value:"none",children:"Do not Blocklist"}),e.jsxs("option",{value:"blocklistAndSearch",children:["Blocklist and Search for Replacement",S.items.length>1?"s":""]}),e.jsx("option",{value:"blocklistOnly",children:"Blocklist Only"})]}),e.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:[K==="none"&&`The release${S.items.length>1?"s":""} will remain eligible for future RSS and Automatic searches`,K==="blocklistAndSearch"&&`Blocklist release${S.items.length>1?"s":""} and search for replacement${S.items.length>1?"s":""}`,K==="blocklistOnly"&&`Blocklist release${S.items.length>1?"s":""} without searching for replacement${S.items.length>1?"s":""}`]})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>D(null),className:"px-6 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Close"}),e.jsxs("button",{onClick:Te,className:"px-6 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:["Remove",S.items.length>1?` ${S.items.length} Downloads`:""]})]})]})}),U&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-700 rounded-lg max-w-2xl w-full p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white",children:["Remove - ",U.title.length>60?U.title.substring(0,60)+"...":U.title]}),e.jsx("button",{onClick:()=>y(null),className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(pt,{className:"w-6 h-6"})})]}),e.jsxs("p",{className:"text-gray-300 mb-6",children:["Are you sure you want to remove '",U.title,"' from history?"]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-gray-300 font-medium mb-2",children:"Blocklist Release"}),e.jsxs("select",{value:_,onChange:X=>we(X.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-600 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600",children:[e.jsx("option",{value:"none",children:"Do not Blocklist"}),e.jsx("option",{value:"blocklistAndSearch",children:"Blocklist and Search"}),e.jsx("option",{value:"blocklistOnly",children:"Blocklist Only"})]}),e.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:[_==="none"&&"The release will remain eligible for future RSS and Automatic searches",_==="blocklistAndSearch"&&"Blocklist release and search for a replacement",_==="blocklistOnly"&&"Blocklist release without searching for a replacement"]})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>y(null),className:"px-6 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Close"}),e.jsx("button",{onClick:ze,className:"px-6 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Remove"})]})]})}),F&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-700 rounded-lg max-w-2xl w-full p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Remove from Blocklist"}),e.jsx("button",{onClick:()=>te(null),className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(pt,{className:"w-6 h-6"})})]}),e.jsxs("p",{className:"text-gray-300 mb-6",children:["Are you sure you want to remove '",F.title.length>60?F.title.substring(0,60)+"...":F.title,"' from the blocklist?"]}),e.jsx("p",{className:"text-sm text-yellow-500 mb-6",children:"This release will be allowed in future RSS and Automatic searches."}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>te(null),className:"px-6 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Close"}),e.jsx("button",{onClick:$e,className:"px-6 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Remove"})]})]})}),de&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-700 rounded-lg max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-gradient-to-br from-gray-900 to-black border-b border-gray-700 px-6 py-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Table Options"}),e.jsx("button",{onClick:()=>V(!1),className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(pt,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"border-b border-gray-700 pb-4",children:[e.jsx("label",{className:"block text-gray-300 font-medium mb-2",children:"Page Size"}),e.jsx("input",{type:"number",value:je,onChange:X=>ot(parseInt(X.target.value)||200),min:"10",max:"1000",step:"10",className:"w-full px-4 py-2 bg-gray-800 border border-gray-600 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600"}),e.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Number of items to show on each page"})]}),e.jsx("div",{className:"border-b border-gray-700 pb-4",children:e.jsxs("label",{className:"flex items-center gap-3 text-gray-300 hover:text-white cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:R,onChange:Nt,className:"w-4 h-4 bg-gray-700 border-gray-600 rounded text-red-600 focus:ring-red-600 focus:ring-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Show Unknown Events Items"}),e.jsx("div",{className:"text-sm text-gray-400",children:"Show items without a event in the queue, this could include removed events or anything else in Sportarr's category"})]})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 font-medium mb-3",children:"Columns"}),e.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Choose which columns are visible and drag to reorder"}),e.jsx("div",{className:"space-y-1 bg-gray-800/50 rounded-lg p-3",children:W.map(X=>e.jsxs("div",{draggable:!0,onDragStart:()=>St(X),onDragOver:Ee=>Ks(Ee,X),onDragEnd:Zs,className:`flex items-center gap-3 px-3 py-2 rounded cursor-move transition-all ${fe===X?"bg-red-900/30 opacity-50":"hover:bg-gray-700/50"} group`,children:[e.jsx("input",{type:"checkbox",checked:Se[X],onChange:()=>Ot(X),onClick:Ee=>Ee.stopPropagation(),className:"w-4 h-4 bg-gray-700 border-gray-600 rounded text-red-600 focus:ring-red-600 focus:ring-2"}),e.jsx(I5,{className:"w-5 h-5 text-gray-500 group-hover:text-gray-400"}),e.jsx("span",{className:"flex-1 text-gray-300 group-hover:text-white",children:ka(X)})]},X))})]})]}),e.jsx("div",{className:"sticky bottom-0 bg-gradient-to-br from-gray-900 to-black border-t border-gray-700 px-6 py-4 flex justify-end",children:e.jsx("button",{onClick:()=>V(!1),className:"px-6 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Close"})})]})}),b&&e.jsx(vC,{pendingImport:b,onClose:()=>w(null),onSuccess:()=>{w(null),q()}})]})})}const TC=()=>{const[a,r]=u.useState("missing"),[l,o]=u.useState([]),[d,h]=u.useState([]),[f,p]=u.useState(!0),[x,g]=u.useState(null),[b,w]=u.useState(1),[T,j]=u.useState(0),C=20,E=Math.ceil(T/C);u.useEffect(()=>{S()},[a,b]);const S=async()=>{p(!0),g(null);try{const k=a==="missing"?`/api/wanted/missing?page=${b}&pageSize=${C}`:`/api/wanted/cutoff-unmet?page=${b}&pageSize=${C}`,K=await fetch(k);if(!K.ok)throw new Error("Failed to fetch wanted events");const ne=await K.json();a==="missing"?o(ne.events):h(ne.events),j(ne.totalRecords)}catch(k){g(k instanceof Error?k.message:"An error occurred")}finally{p(!1)}},D=async k=>{try{if(!(await fetch(`/api/event/${k}/search`,{method:"POST"})).ok)throw new Error("Failed to trigger search");pe.success("Search Started",{description:"Searching indexers for this event."})}catch(K){pe.error("Search Failed",{description:K instanceof Error?K.message:"Failed to trigger search."})}},U=async k=>{try{if(!(await fetch(`/api/events/${k.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({monitored:!k.monitored})})).ok)throw new Error("Failed to update event");pe.success("Event Updated",{description:`${k.title} is now ${k.monitored?"unmonitored":"monitored"}.`}),S()}catch(K){pe.error("Update Failed",{description:K instanceof Error?K.message:"Failed to update event."})}},y=k=>new Date(k).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),F=k=>{const K=new Date(k),ne=new Date,_=K.getTime()-ne.getTime(),we=Math.ceil(_/(1e3*60*60*24));return we<0?`${Math.abs(we)} days ago`:we===0?"Today":we===1?"Tomorrow":`In ${we} days`},te=k=>{const K=new Date(k.eventDate)<new Date,ne=k.homeTeamName&&k.awayTeamName?`${k.homeTeamName} vs ${k.awayTeamName}`:null;return e.jsx("div",{className:"bg-gray-800 rounded-lg p-4 hover:bg-gray-750 transition-colors border border-gray-700",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:k.title}),k.leagueName&&e.jsx("span",{className:"px-2 py-1 bg-blue-900/30 text-blue-400 text-xs rounded",children:k.leagueName}),e.jsx("span",{className:"px-2 py-1 bg-red-600/20 text-red-400 text-xs rounded",children:k.sport}),K&&e.jsxs("span",{className:"px-2 py-1 bg-red-900/30 text-red-400 text-xs rounded flex items-center gap-1",children:[e.jsx(Rr,{className:"w-3 h-3"}),"Past Event"]})]}),ne&&e.jsxs("p",{className:"text-sm text-gray-400 mb-2",children:[ne,k.round&&` - ${k.round}`]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsx("span",{children:y(k.eventDate)}),e.jsx("span",{className:"text-gray-600",children:""}),e.jsx("span",{className:K?"text-red-400":"text-blue-400",children:F(k.eventDate)}),k.location&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-600",children:""}),e.jsx("span",{children:k.location})]})]}),a==="cutoff-unmet"&&k.quality&&e.jsx("div",{className:"mt-2",children:e.jsxs("span",{className:"text-xs text-yellow-400",children:["Current Quality: ",k.quality," (Below cutoff)"]})})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsx("button",{onClick:()=>U(k),className:`px-3 py-1 rounded text-sm transition-colors ${k.monitored?"bg-green-900/30 text-green-400 hover:bg-green-900/50":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,children:k.monitored?"Monitored":"Unmonitored"}),e.jsx("button",{onClick:()=>D(k.id),className:"p-2 bg-blue-900/30 text-blue-400 rounded hover:bg-blue-900/50 transition-colors",title:"Search for event",children:e.jsx(ks,{className:"w-5 h-5"})})]})]})},k.id)},z=()=>E<=1?null:e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs("div",{className:"text-sm text-gray-400",children:["Showing ",(b-1)*C+1," to ",Math.min(b*C,T)," of ",T," events"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>w(k=>Math.max(1,k-1)),disabled:b===1,className:"px-3 py-1 bg-gray-700 text-white rounded hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsxs("span",{className:"px-3 py-1 bg-gray-800 text-white rounded",children:["Page ",b," of ",E]}),e.jsx("button",{onClick:()=>w(k=>Math.min(E,k+1)),disabled:b===E,className:"px-3 py-1 bg-gray-700 text-white rounded hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]});return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Wanted"}),e.jsx("p",{className:"text-gray-400",children:"Events that are monitored but missing files or below quality cutoff"})]}),e.jsxs("div",{className:"flex gap-4 mb-6 border-b border-gray-700",children:[e.jsxs("button",{onClick:()=>{r("missing"),w(1)},className:`px-4 py-2 font-medium transition-colors ${a==="missing"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-white"}`,children:["Missing (",a==="missing"?T:"...",")"]}),e.jsxs("button",{onClick:()=>{r("cutoff-unmet"),w(1)},className:`px-4 py-2 font-medium transition-colors ${a==="cutoff-unmet"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-white"}`,children:["Cutoff Unmet (",a==="cutoff-unmet"?T:"...",")"]})]}),e.jsx("div",{className:"mb-6 p-4 bg-blue-900/20 border border-blue-800 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(kr,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),e.jsx("div",{className:"text-sm text-gray-300",children:a==="missing"?e.jsxs(e.Fragment,{children:[e.jsx("strong",{className:"text-white",children:"Missing Events:"})," These are monitored events that don't have any files yet. Click the search icon to manually search for them, or wait for the RSS sync to find releases automatically."]}):e.jsxs(e.Fragment,{children:[e.jsx("strong",{className:"text-white",children:"Cutoff Unmet:"})," These events have files, but the quality is below your configured cutoff. Sportarr will continue searching for better quality releases to upgrade them."]})})]})}),f?e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-400"}),e.jsx("span",{className:"ml-3 text-gray-400",children:"Loading wanted events..."})]}):x?e.jsx("div",{className:"bg-red-900/20 border border-red-800 rounded-lg p-4",children:e.jsxs("p",{className:"text-red-400",children:["Error: ",x]})}):e.jsxs(e.Fragment,{children:[a==="missing"&&e.jsx("div",{className:"space-y-3",children:l.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-400",children:[e.jsx(kr,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No missing events! All monitored events have files."})]}):l.map(te)}),a==="cutoff-unmet"&&e.jsx("div",{className:"space-y-3",children:d.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-400",children:[e.jsx(kr,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No events below quality cutoff! All files meet your quality standards."})]}):d.map(te)}),z()]})]})};function Fv({isOpen:a,onClose:r,onSelect:l,title:o="Select Folder"}){const[d,h]=u.useState(""),[f,p]=u.useState([]),[x,g]=u.useState(null),[b,w]=u.useState(!1),[T,j]=u.useState(null);u.useEffect(()=>{a&&C("")},[a]);const C=async F=>{w(!0),j(null);try{const te=F?`?path=${encodeURIComponent(F)}`:"",z=await js(`/api/filesystem${te}`);if(z.ok){const k=await z.json();p(k.directories),g(k.parent),h(F)}else{const k=await z.json();j(k.error||"Failed to load directory")}}catch(te){j("Failed to load directory"),console.error("Failed to load directory:",te)}finally{w(!1)}},E=F=>{(F.type==="drive"||F.type==="folder")&&C(F.path)},S=()=>{x!==null&&C(x)},D=()=>{d&&(l(d),r())},U=F=>`${(F/1073741824).toFixed(2)} GB`,y=()=>{if(!d)return[];const te=d.includes("\\")||d.includes(":")?"\\":"/",z=d.split(/[\\/]/).filter(Boolean),k=[];let K="";return z.forEach((ne,_)=>{_===0?K=ne.includes(":")?`${ne}${te}`:`${te}${ne}`:K+=`${te}${ne}`,k.push({name:ne,path:K})}),k};return a?e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/50 rounded-lg max-w-3xl w-full max-h-[80vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-800",children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:o}),e.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded transition-colors",children:e.jsx(pt,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"px-6 py-3 border-b border-gray-800 bg-black/30",children:e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx("button",{onClick:()=>C(""),className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(b0,{className:"w-4 h-4"})}),y().map((F,te)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(To,{className:"w-3 h-3 text-gray-600"}),e.jsx("button",{onClick:()=>C(F.path),className:"text-gray-400 hover:text-white transition-colors",children:F.name})]},te))]})}),e.jsx("div",{className:"px-6 py-2 bg-gray-900/50 border-b border-gray-800",children:e.jsxs("p",{className:"text-sm text-gray-400",children:["Current: ",e.jsx("span",{className:"text-white",children:d||"Root"})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[T&&e.jsx("div",{className:"mb-4 p-4 bg-red-950/30 border border-red-900/50 rounded-lg",children:e.jsx("p",{className:"text-red-400",children:T})}),b?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-red-600"}),e.jsx("p",{className:"text-gray-400 mt-4",children:"Loading..."})]}):e.jsxs("div",{className:"space-y-1",children:[x!==null&&e.jsxs("button",{onClick:S,className:"w-full flex items-center p-3 hover:bg-gray-800/50 rounded-lg transition-colors text-left",children:[e.jsx(va,{className:"w-5 h-5 text-yellow-500 mr-3"}),e.jsx("span",{className:"text-white",children:".."})]}),f.map((F,te)=>e.jsxs("button",{onClick:()=>E(F),className:"w-full flex items-center justify-between p-3 hover:bg-gray-800/50 rounded-lg transition-colors text-left",children:[e.jsxs("div",{className:"flex items-center flex-1",children:[F.type==="drive"?e.jsx(y0,{className:"w-5 h-5 text-blue-500 mr-3"}):e.jsx(va,{className:"w-5 h-5 text-yellow-500 mr-3"}),e.jsx("span",{className:"text-white",children:F.name})]}),F.type==="drive"&&F.freeSpace&&F.totalSpace&&e.jsxs("span",{className:"text-sm text-gray-400 ml-4",children:[U(F.freeSpace)," free of ",U(F.totalSpace)]})]},te)),f.length===0&&!T&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(va,{className:"w-16 h-16 text-gray-700 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No folders found"})]})]})]}),e.jsxs("div",{className:"p-6 border-t border-gray-800 flex items-center justify-between",children:[e.jsx("div",{className:"text-sm text-gray-400",children:d?e.jsxs(e.Fragment,{children:["Selected: ",e.jsx("span",{className:"text-white",children:d})]}):"Select a folder from the list"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:r,className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:D,disabled:!d,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Select Folder"})]})]})]})}):null}function AC({isOpen:a,onClose:r,onSave:l,fileName:o,parsedTitle:d,parsedDate:h,currentMapping:f}){const[p,x]=u.useState((f==null?void 0:f.leagueId)??null),[g,b]=u.useState((f==null?void 0:f.season)??null),[w,T]=u.useState((f==null?void 0:f.eventId)??null),[j,C]=u.useState((f==null?void 0:f.partName)??null),[E,S]=u.useState((f==null?void 0:f.partNumber)??null),[D,U]=u.useState([]),[y,F]=u.useState([]),[te,z]=u.useState([]),[k,K]=u.useState([]),[ne,_]=u.useState(!0),[we,Y]=u.useState(!1),[L,O]=u.useState(!1),[be,I]=u.useState(!1),[se,de]=u.useState("");u.useEffect(()=>{a&&V()},[a]),u.useEffect(()=>{p?(je(p),b(null),T(null),z([])):(F([]),z([]))},[p]),u.useEffect(()=>{p&&(B(p,g),T(null))},[p,g]),u.useEffect(()=>{if(w){const fe=te.find(Re=>Re.id===w);fe!=null&&fe.usesMultiPart?R(fe.sport):(K([]),C(null),S(null))}else K([])},[w,te]);const V=async()=>{_(!0);try{const fe=await fetch("/api/leagues");if(fe.ok){const Re=await fe.json();U(Re)}}catch(fe){console.error("Failed to load leagues:",fe)}finally{_(!1)}},je=async fe=>{Y(!0);try{const Re=await fetch(`/api/library/leagues/${fe}/seasons`);if(Re.ok){const _e=await Re.json();F(_e.seasons||[])}}catch(Re){console.error("Failed to load seasons:",Re)}finally{Y(!1)}},B=async(fe,Re)=>{O(!0);try{const _e=Re?`/api/library/leagues/${fe}/events?season=${encodeURIComponent(Re)}`:`/api/library/leagues/${fe}/events`,Ye=await fetch(_e);if(Ye.ok){const Je=await Ye.json();z(Je.events||[])}}catch(_e){console.error("Failed to load events:",_e)}finally{O(!1)}},R=async fe=>{I(!0);try{const Re=await fetch(`/api/library/parts/${encodeURIComponent(fe)}`);if(Re.ok){const _e=await Re.json();K(_e.parts||[])}}catch(Re){console.error("Failed to load parts:",Re)}finally{I(!1)}},$=fe=>{const Re=k.find(_e=>_e.name===fe);C(fe),S((Re==null?void 0:Re.partNumber)??null)},W=()=>{const fe=te.find(Ye=>Ye.id===w),Re=D.find(Ye=>Ye.id===p),_e={eventId:w??void 0,eventTitle:fe==null?void 0:fe.title,leagueId:p??void 0,leagueName:Re==null?void 0:Re.name,season:g??void 0,partName:j??void 0,partNumber:E??void 0,createNew:!w};l(_e),r()},he=te.filter(fe=>{var _e,Ye;if(!se)return!0;const Re=se.toLowerCase();return fe.title.toLowerCase().includes(Re)||((_e=fe.homeTeam)==null?void 0:_e.toLowerCase().includes(Re))||((Ye=fe.awayTeam)==null?void 0:Ye.toLowerCase().includes(Re))}),Se=te.find(fe=>fe.id===w),Me=D.find(fe=>fe.id===p);return e.jsx(Gt,{show:a,as:ge.Fragment,children:e.jsxs(ns,{onClose:r,className:"relative z-50",children:[e.jsx(Gt.Child,{as:ge.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black/70"})}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:e.jsx(Gt.Child,{as:ge.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsxs(ns.Panel,{className:"w-full max-w-2xl transform overflow-hidden rounded-xl bg-gray-900 border border-gray-700 shadow-xl transition-all",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-700 flex items-center justify-between",children:[e.jsx(ns.Title,{className:"text-lg font-semibold text-white",children:"Edit File Details"}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(pt,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:[e.jsx("div",{className:"p-4 bg-gray-800 rounded-lg border border-gray-700",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(sl,{className:"w-5 h-5 text-gray-400 mt-0.5"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-white font-medium truncate",children:o}),d&&e.jsxs("p",{className:"text-sm text-gray-400",children:["Parsed: ",d]}),h&&e.jsxs("p",{className:"text-sm text-gray-400",children:["Date: ",new Date(h).toLocaleDateString()]})]})]})}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[e.jsx(va,{className:"w-4 h-4"}),"League"]}),e.jsxs("select",{value:p??"",onChange:fe=>x(fe.target.value?Number(fe.target.value):null),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500 disabled:opacity-50",disabled:ne,children:[e.jsx("option",{value:"",children:"Select a league..."}),D.map(fe=>e.jsxs("option",{value:fe.id,children:[fe.name," (",fe.sport,")"]},fe.id))]}),ne&&e.jsxs("p",{className:"text-sm text-gray-500 mt-1 flex items-center gap-1",children:[e.jsx(Rt,{className:"w-3 h-3 animate-spin"})," Loading leagues..."]})]}),p&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[e.jsx(Xn,{className:"w-4 h-4"}),"Season"]}),e.jsxs("select",{value:g??"",onChange:fe=>b(fe.target.value||null),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500 disabled:opacity-50",disabled:we,children:[e.jsx("option",{value:"",children:"All seasons"}),y.map(fe=>e.jsx("option",{value:fe,children:fe},fe))]}),we&&e.jsxs("p",{className:"text-sm text-gray-500 mt-1 flex items-center gap-1",children:[e.jsx(Rt,{className:"w-3 h-3 animate-spin"})," Loading seasons..."]})]}),p&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[e.jsx(sl,{className:"w-4 h-4"}),"Event"]}),e.jsxs("div",{className:"relative mb-2",children:[e.jsx(ks,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:se,onChange:fe=>de(fe.target.value),placeholder:"Search events...",className:"w-full pl-10 pr-4 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-red-500"})]}),L?e.jsxs("div",{className:"p-4 text-center text-gray-400",children:[e.jsx(Rt,{className:"w-5 h-5 animate-spin mx-auto mb-2"}),"Loading events..."]}):he.length===0?e.jsx("div",{className:"p-4 text-center text-gray-400 bg-gray-800 rounded-lg border border-gray-700",children:"No events found in this league"}):e.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-700 rounded-lg",children:he.map(fe=>{const Re=w===fe.id;return e.jsx("div",{onClick:()=>T(fe.id),className:`p-3 cursor-pointer transition-colors ${Re?"bg-red-900/30 border-l-4 border-l-red-500":"bg-gray-800 hover:bg-gray-700 border-l-4 border-l-transparent"} ${fe.hasFile?"opacity-50":""}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:`font-medium truncate ${Re?"text-white":"text-gray-200"}`,children:fe.title}),e.jsxs("p",{className:"text-xs text-gray-400 mt-0.5",children:[new Date(fe.eventDate).toLocaleDateString(),fe.season&&`  Season ${fe.season}`,fe.episodeNumber&&`  Episode ${fe.episodeNumber}`]})]}),fe.hasFile&&e.jsx("span",{className:"text-xs bg-yellow-900/50 text-yellow-400 px-2 py-0.5 rounded ml-2",children:"Has File"})]})},fe.id)})})]}),(Se==null?void 0:Se.usesMultiPart)&&k.length>0&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[e.jsx(v0,{className:"w-4 h-4"}),"Part / Session"]}),e.jsxs("select",{value:j??"",onChange:fe=>$(fe.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500 disabled:opacity-50",disabled:be,children:[e.jsx("option",{value:"",children:"Auto-detect from filename"}),k.map(fe=>{const Re=Se.files.find(_e=>_e.partNumber===fe.partNumber);return e.jsxs("option",{value:fe.name,children:[fe.name," (pt",fe.partNumber,")",Re&&" - Has File"]},fe.name)})]}),be&&e.jsxs("p",{className:"text-sm text-gray-500 mt-1 flex items-center gap-1",children:[e.jsx(Rt,{className:"w-3 h-3 animate-spin"})," Loading parts..."]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Select the specific part/session this file represents, or leave as auto-detect"})]}),w&&e.jsxs("div",{className:"p-4 bg-green-900/20 border border-green-700 rounded-lg",children:[e.jsx("p",{className:"text-sm text-green-400 font-medium",children:"Import Summary:"}),e.jsxs("p",{className:"text-sm text-white mt-1",children:["File will be imported to: ",e.jsx("strong",{children:Se==null?void 0:Se.title})]}),Me&&e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["League: ",Me.name,g&&`  Season: ${g}`,j&&`  Part: ${j}`]})]})]}),e.jsxs("div",{className:"px-6 py-4 border-t border-gray-700 flex justify-end gap-3",children:[e.jsx("button",{onClick:r,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:W,disabled:!w,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Save"})]})]})})})})]})})}const RC=()=>{const[a,r]=u.useState("select"),[l,o]=u.useState(""),[d,h]=u.useState(!0),[f,p]=u.useState(!1),[x,g]=u.useState(!1),[b,w]=u.useState(null),[T,j]=u.useState(null),[C,E]=u.useState(new Set),[S,D]=u.useState(new Map),[U,y]=u.useState(!1),[F,te]=u.useState(null),[z,k]=u.useState(!1),[K,ne]=u.useState(null),[_,we]=u.useState(!1),[Y,L]=u.useState(""),[O,be]=u.useState([]),[I,se]=u.useState(!1),de=u.useRef(null),V=[{key:"select",label:"Select Folder",number:1},{key:"review",label:"Review & Select",number:2},{key:"complete",label:"Complete",number:3}],je=async()=>{if(!l.trim()){j("Please select a folder path");return}r("scan"),g(!0),j(null),w(null),E(new Set),D(new Map);try{const re=await fetch(`/api/library/scan?folderPath=${encodeURIComponent(l)}&includeSubfolders=${d}`,{method:"POST"});if(!re.ok)throw new Error("Failed to scan folder");const ke=await re.json();w(ke);const Fe=new Set(ke.matchedFiles.map(Ge=>Ge.filePath));E(Fe),r("review")}catch(re){j(re instanceof Error?re.message:"An error occurred"),r("select")}finally{g(!1)}},B=u.useCallback(re=>{if(de.current&&clearTimeout(de.current),!re.trim()||re.length<3){be([]);return}de.current=setTimeout(async()=>{se(!0);try{const ke=await fetch(`/api/library/search?query=${encodeURIComponent(re)}`);if(ke.ok){const Fe=await ke.json();be(Fe.results||[])}}catch{console.error("Failed to search events")}finally{se(!1)}},300)},[]);u.useEffect(()=>()=>{de.current&&clearTimeout(de.current)},[]);const R=re=>{ne(re),k(!0)},$=re=>{if(!K)return;const ke=new Map(S);ke.set(K.filePath,re),D(ke);const Fe=new Set(C);Fe.add(K.filePath),E(Fe),ne(null)},W=re=>{if(!K||!re.id)return;const ke=new Map(S);ke.set(K.filePath,{eventId:re.id,eventTitle:re.title}),D(ke);const Fe=new Set(C);Fe.add(K.filePath),E(Fe),we(!1),ne(null),L(""),be([])},he=async()=>{if(!b||C.size===0){j("No files selected for import");return}r("importing"),y(!0),j(null);try{const re=Array.from(C).map(Ge=>{const Ve=[...b.matchedFiles,...b.unmatchedFiles,...b.alreadyInLibrary].find(ye=>ye.filePath===Ge);if(!Ve)throw new Error(`File not found: ${Ge}`);const q=S.get(Ge);return q?{filePath:Ve.filePath,eventId:q.eventId,createNew:q.createNew??!1,eventTitle:q.eventTitle,partName:q.partName,partNumber:q.partNumber,leagueId:q.leagueId,season:q.season}:Ve.matchedEventId||Ve.existingEventId?{filePath:Ve.filePath,eventId:Ve.matchedEventId||Ve.existingEventId,createNew:!1}:{filePath:Ve.filePath,createNew:!0,eventTitle:Ve.parsedTitle,organization:Ve.parsedOrganization,eventDate:Ve.parsedDate,quality:Ve.quality}}),ke=await fetch("/api/library/import",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)});if(!ke.ok)throw new Error("Failed to import files");const Fe=await ke.json();te(Fe),r("complete")}catch(re){j(re instanceof Error?re.message:"An error occurred"),r("review")}finally{y(!1)}},Se=re=>{const ke=new Set(C);ke.has(re)?ke.delete(re):ke.add(re),E(ke)},Me=()=>{if(!b)return;const re=[...b.matchedFiles,...b.unmatchedFiles,...b.alreadyInLibrary].map(ke=>ke.filePath);E(new Set(re))},fe=()=>{if(!b)return;const re=[...b.matchedFiles,...b.alreadyInLibrary].map(ke=>ke.filePath);E(new Set(re))},Re=()=>{E(new Set)},_e=()=>{r("select"),o(""),w(null),j(null),E(new Set),D(new Map),te(null)},Ye=re=>{if(!re)return null;let ke="bg-red-600";return re>=80?ke="bg-green-600":re>=60?ke="bg-yellow-600":re>=40&&(ke="bg-orange-600"),e.jsxs("span",{className:`${ke} text-white text-xs px-2 py-0.5 rounded-full`,children:[re,"%"]})},Je=re=>re==="select"||re==="scan"?0:re==="review"||re==="importing"?1:re==="complete"?2:0;return e.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h1",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[e.jsx(_h,{className:"w-8 h-8 text-red-500"}),"Library Import"]}),e.jsx("p",{className:"text-gray-400",children:"Import existing video files into your Sportarr library with proper organization and renaming"})]}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"flex items-center gap-2",children:V.map((re,ke)=>e.jsxs(ge.Fragment,{children:[e.jsxs("div",{className:`flex items-center gap-2 ${Je(a)===ke?"text-red-400":Je(a)>ke?"text-green-400":"text-gray-500"}`,children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold ${Je(a)===ke?"bg-red-600 text-white":Je(a)>ke?"bg-green-600 text-white":"bg-gray-700 text-gray-400"}`,children:Je(a)>ke?e.jsx(Ut,{className:"w-6 h-6"}):re.number}),e.jsx("span",{className:"font-medium hidden sm:inline",children:re.label})]}),ke<V.length-1&&e.jsx("div",{className:`flex-1 h-1 rounded ${Je(a)>ke?"bg-green-600":"bg-gray-700"}`})]},re.key))})}),T&&e.jsx("div",{className:"mb-6 bg-red-900/20 border border-red-800 rounded-lg p-4",children:e.jsxs("p",{className:"text-red-400 flex items-center gap-2",children:[e.jsx(Es,{className:"w-5 h-5"}),T]})}),a==="select"&&e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-red-900/30",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx(va,{className:"w-12 h-12 text-yellow-400"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Select Import Folder"}),e.jsx("p",{className:"text-gray-400",children:"Choose a folder containing video files to import"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Folder Path"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:l,onChange:re=>o(re.target.value),placeholder:"Click Browse to select a folder...",className:"flex-1 px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-red-500",readOnly:!0}),e.jsxs("button",{onClick:()=>p(!0),className:"px-6 py-3 bg-gray-700 hover:bg-gray-600 text-white rounded-lg border border-gray-600 flex items-center gap-2 transition-colors",children:[e.jsx(Ih,{className:"w-5 h-5"}),"Browse"]})]})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:d,onChange:re=>h(re.target.checked),className:"w-5 h-5 rounded border-gray-600 bg-gray-700 text-red-600 focus:ring-red-500"}),e.jsx("span",{className:"text-gray-300",children:"Include subfolders (recursive scan)"})]})]}),e.jsx("div",{className:"mt-6 p-4 bg-blue-900/20 border border-blue-800 rounded-lg",children:e.jsxs("p",{className:"text-sm text-gray-300",children:[e.jsx("strong",{className:"text-blue-400",children:"How it works:"})," Files will be scanned and matched to events using sports-specific filename parsing. Matched files will be moved/copied to your library folder with proper naming. Configure import behavior (move vs copy) in Settings  Media Management."]})}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsxs("button",{onClick:je,disabled:!l.trim(),className:"px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg flex items-center gap-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:["Scan Folder",e.jsx(ib,{className:"w-5 h-5"})]})})]}),a==="scan"&&e.jsxs("div",{className:"bg-gray-800 rounded-lg p-12 border border-red-900/30 text-center",children:[e.jsx(Rt,{className:"w-16 h-16 mx-auto mb-4 text-red-400 animate-spin"}),e.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Scanning..."}),e.jsx("p",{className:"text-gray-400",children:"Analyzing video files and matching to events"})]}),a==="review"&&b&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-white",children:b.totalFiles}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Total Files"})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-green-700 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-green-400",children:b.matchedFiles.length}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Auto-Matched"})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-yellow-700 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-yellow-400",children:b.unmatchedFiles.length}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Unmatched"})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-gray-400",children:b.alreadyInLibrary.length}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Already Imported"})]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-red-900/30 flex items-center gap-3 flex-wrap",children:[e.jsx("button",{onClick:Me,className:"px-3 py-1.5 bg-gray-700 text-white rounded hover:bg-gray-600 text-sm transition-colors",children:"Select All"}),e.jsx("button",{onClick:fe,className:"px-3 py-1.5 bg-gray-700 text-white rounded hover:bg-gray-600 text-sm transition-colors",children:"Select Matched Only"}),e.jsx("button",{onClick:Re,className:"px-3 py-1.5 bg-gray-700 text-white rounded hover:bg-gray-600 text-sm transition-colors",children:"Clear Selection"}),e.jsx("div",{className:"flex-1"}),e.jsxs("span",{className:"text-gray-400 text-sm",children:[C.size," file(s) selected"]})]}),e.jsxs("div",{className:"space-y-6",children:[b.matchedFiles.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center gap-2",children:[e.jsx(Ut,{className:"w-6 h-6 text-green-400"}),"Matched Files (",b.matchedFiles.length,")"]}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:b.matchedFiles.map(re=>{const ke=C.has(re.filePath),Fe=S.get(re.filePath);return e.jsx("div",{className:`p-3 bg-gray-800 rounded-lg border ${ke?"border-green-500":"border-gray-700"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",checked:ke,onChange:()=>Se(re.filePath),className:"w-5 h-5 rounded border-gray-600 bg-gray-700 text-green-600"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-white font-medium truncate",children:re.fileName}),e.jsxs("p",{className:"text-sm text-gray-400",children:[" ",e.jsx("span",{className:"text-green-400",children:(Fe==null?void 0:Fe.eventTitle)||re.matchedEventTitle}),(Fe==null?void 0:Fe.partName)&&e.jsxs("span",{className:"text-blue-400 ml-1",children:["(",Fe.partName,")"]}),e.jsxs("span",{className:"text-gray-500 ml-2",children:["(",re.fileSizeFormatted,")"]})]})]}),!Fe&&Ye(re.matchConfidence),e.jsxs("button",{onClick:()=>R(re),className:"px-3 py-1 bg-gray-600 hover:bg-gray-500 text-white text-sm rounded transition-colors flex items-center gap-1",title:"Edit match details",children:[e.jsx(cb,{className:"w-4 h-4"}),"Edit"]})]})},re.filePath)})})]}),b.unmatchedFiles.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center gap-2",children:[e.jsx(kr,{className:"w-6 h-6 text-yellow-400"}),"Unmatched Files (",b.unmatchedFiles.length,")"]}),e.jsx("p",{className:"text-sm text-gray-400 mb-2",children:'Click "Match" to manually select the league, season, event, and part for each file'}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:b.unmatchedFiles.map(re=>{const ke=C.has(re.filePath),Fe=S.get(re.filePath);return e.jsx("div",{className:`p-3 bg-gray-800 rounded-lg border ${Fe?"border-green-500":ke?"border-yellow-500":"border-gray-700"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",checked:ke,onChange:()=>Se(re.filePath),className:"w-5 h-5 rounded border-gray-600 bg-gray-700 text-yellow-600"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-white font-medium truncate",children:re.fileName}),e.jsxs("p",{className:"text-sm text-gray-400",children:[Fe?e.jsxs(e.Fragment,{children:[e.jsx(ob,{className:"w-3 h-3 inline mr-1"}),e.jsx("span",{className:"text-green-400",children:Fe.eventTitle}),Fe.partName&&e.jsxs("span",{className:"text-blue-400 ml-1",children:["(",Fe.partName,")"]}),Fe.leagueName&&e.jsxs("span",{className:"text-gray-500 ml-1",children:[" ",Fe.leagueName]})]}):re.parsedTitle?e.jsxs(e.Fragment,{children:["Parsed: ",re.parsedTitle]}):e.jsx("span",{className:"text-yellow-400",children:"Will create new event"}),e.jsxs("span",{className:"text-gray-500 ml-2",children:["(",re.fileSizeFormatted,")"]})]})]}),e.jsxs("button",{onClick:()=>R(re),className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded transition-colors flex items-center gap-1",children:[e.jsx(cb,{className:"w-4 h-4"}),Fe?"Edit":"Match"]})]})},re.filePath)})})]}),b.alreadyInLibrary.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center gap-2",children:[e.jsx(Ut,{className:"w-6 h-6 text-blue-400"}),"Already in Library (",b.alreadyInLibrary.length,")"]}),e.jsx("p",{className:"text-sm text-gray-400 mb-2",children:`These files are linked to events but may need re-importing if they weren't properly moved/renamed. Click "Re-import" to move them to the correct location with proper naming.`}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:b.alreadyInLibrary.map(re=>{const ke=C.has(re.filePath),Fe=S.get(re.filePath);return e.jsx("div",{className:`p-3 bg-gray-800 rounded-lg border ${ke?"border-blue-500":"border-gray-700"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",checked:ke,onChange:()=>Se(re.filePath),className:"w-5 h-5 rounded border-gray-600 bg-gray-700 text-blue-600"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-white font-medium truncate",children:re.fileName}),e.jsxs("p",{className:"text-sm text-gray-400",children:[Fe?e.jsxs(e.Fragment,{children:[e.jsx(ob,{className:"w-3 h-3 inline mr-1"}),e.jsx("span",{className:"text-green-400",children:Fe.eventTitle}),Fe.partName&&e.jsxs("span",{className:"text-blue-400 ml-1",children:["(",Fe.partName,")"]})]}):re.matchedEventTitle?e.jsxs(e.Fragment,{children:["Current: ",e.jsx("span",{className:"text-blue-400",children:re.matchedEventTitle})]}):e.jsxs("span",{className:"text-gray-500",children:["Linked to event #",re.existingEventId]}),e.jsxs("span",{className:"text-gray-500 ml-2",children:["(",re.fileSizeFormatted,")"]})]})]}),e.jsxs("button",{onClick:()=>R(re),className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded transition-colors flex items-center gap-1",children:[e.jsx(Rt,{className:"w-4 h-4"}),"Re-import"]})]})},re.filePath)})})]})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsxs("button",{onClick:()=>r("select"),className:"px-6 py-3 bg-gray-700 hover:bg-gray-600 text-white rounded-lg flex items-center gap-2 transition-colors",children:[e.jsx(hd,{className:"w-5 h-5"}),"Back"]}),e.jsxs("button",{onClick:he,disabled:C.size===0,className:"px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg flex items-center gap-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:["Import ",C.size," File(s)",e.jsx(ib,{className:"w-5 h-5"})]})]})]}),a==="importing"&&e.jsxs("div",{className:"bg-gray-800 rounded-lg p-12 border border-red-900/30 text-center",children:[e.jsx(Rt,{className:"w-16 h-16 mx-auto mb-4 text-green-400 animate-spin"}),e.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Importing..."}),e.jsx("p",{className:"text-gray-400",children:"Moving files to library and updating database"})]}),a==="complete"&&F&&e.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 border border-green-700",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(Ut,{className:"w-20 h-20 mx-auto mb-4 text-green-400"}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Import Complete!"}),e.jsx("p",{className:"text-gray-400",children:"Your files have been imported to the library"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-green-400",children:F.imported.length}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Imported"})]}),e.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-blue-400",children:F.created.length}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Created"})]}),e.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-gray-400",children:F.skipped.length}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Skipped"})]}),e.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-red-400",children:F.failed.length}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Failed"})]})]}),F.errors.length>0&&e.jsxs("div",{className:"mb-8 p-4 bg-red-900/20 border border-red-800 rounded-lg",children:[e.jsx("h3",{className:"text-red-400 font-medium mb-2",children:"Errors:"}),e.jsx("ul",{className:"text-sm text-red-400 space-y-1",children:F.errors.map((re,ke)=>e.jsxs("li",{children:[" ",re]},ke))})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:_e,className:"px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg flex items-center gap-2 transition-colors font-medium",children:"Import More Files"})})]}),e.jsx(Fv,{isOpen:f,onClose:()=>p(!1),onSelect:re=>o(re),title:"Select Import Folder"}),_&&e.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gray-900 rounded-lg w-full max-w-2xl max-h-[80vh] overflow-hidden border border-gray-700",children:[e.jsxs("div",{className:"p-4 border-b border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Search Events"}),e.jsx("button",{onClick:()=>{we(!1),ne(null),L(""),be([])},className:"text-gray-400 hover:text-white",children:e.jsx(Es,{className:"w-6 h-6"})})]}),K&&e.jsxs("p",{className:"text-sm text-gray-400 mb-3",children:["Matching: ",e.jsx("span",{className:"text-white",children:K.fileName})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:Y,onChange:re=>{L(re.target.value),B(re.target.value)},placeholder:"Search for events...",className:"w-full px-4 py-2 bg-gray-800 border border-gray-600 rounded text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-red-500",autoFocus:!0}),I&&e.jsx(Rt,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 animate-spin"})]})]}),e.jsxs("div",{className:"p-4 overflow-y-auto max-h-[50vh]",children:[O.length===0&&!I&&Y.length>=3&&e.jsx("p",{className:"text-gray-400 text-center py-8",children:"No events found"}),O.length===0&&!I&&Y.length<3&&e.jsx("p",{className:"text-gray-400 text-center py-8",children:"Enter at least 3 characters"}),O.length>0&&e.jsx("div",{className:"space-y-2",children:O.map((re,ke)=>e.jsx("div",{className:`p-3 rounded-lg border cursor-pointer transition-colors ${re.hasFile?"border-gray-700 bg-gray-800/50 opacity-50 cursor-not-allowed":re.existsInDatabase?"border-green-700 bg-green-900/20 hover:bg-green-900/40":"border-gray-700 bg-gray-800 hover:bg-gray-700"}`,onClick:()=>{!re.hasFile&&re.id&&W(re)},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-white truncate",children:re.title}),e.jsxs("div",{className:"text-sm text-gray-400 mt-1",children:[re.sport,"  ",new Date(re.eventDate).toLocaleDateString()]})]}),e.jsx("div",{className:"ml-4",children:re.hasFile?e.jsx("span",{className:"text-xs text-red-400 bg-red-900/30 px-2 py-1 rounded",children:"Has File"}):re.existsInDatabase?e.jsx("span",{className:"text-xs text-green-400 bg-green-900/30 px-2 py-1 rounded",children:"In Database"}):e.jsx("span",{className:"text-xs text-blue-400 bg-blue-900/30 px-2 py-1 rounded",children:"From API"})})]})},`${re.externalId||re.id}-${ke}`))})]}),e.jsx("div",{className:"p-4 border-t border-gray-700 flex justify-end",children:e.jsx("button",{onClick:()=>{we(!1),ne(null),L(""),be([])},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded transition-colors",children:"Cancel"})})]})}),e.jsx(AC,{isOpen:z,onClose:()=>{k(!1),ne(null)},onSave:$,fileName:(K==null?void 0:K.fileName)||"",parsedTitle:K==null?void 0:K.parsedTitle,parsedDate:K==null?void 0:K.parsedDate,currentMapping:K?S.get(K.filePath):void 0})]})};function DC(){const{data:a,isLoading:r,error:l}=Gy();if(r)return e.jsx("div",{className:"p-8",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"})})});if(l)return e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"bg-red-900 border border-red-700 text-red-100 px-4 py-3 rounded",children:[e.jsx("p",{className:"font-bold",children:"Error loading system status"}),e.jsx("p",{className:"text-sm",children:l.message})]})});if(!a)return null;const o=[{label:"Version",value:a.version},{label:"Build Time",value:new Date(a.buildTime).toLocaleString()},{label:"Start Time",value:new Date(a.startTime).toLocaleString()},{label:"Runtime",value:a.runtimeVersion},{label:"Database",value:`${a.databaseType} ${a.databaseVersion}`},{label:"OS",value:`${a.osName} ${a.osVersion}`},{label:"Branch",value:a.branch},{label:"Authentication",value:a.authentication},{label:"Is Docker",value:a.isDocker?"Yes":"No"},{label:"Is Production",value:a.isProduction?"Yes":"No"},{label:"Data Directory",value:a.appData}];return e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"System Status"}),e.jsx("p",{className:"text-gray-400",children:"View system information and application status"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg shadow-xl overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 bg-red-950/30 border-b border-red-900/30",children:e.jsx("h2",{className:"text-xl font-semibold text-white",children:a.appName})}),e.jsx("div",{className:"divide-y divide-red-900/20",children:o.map(d=>e.jsxs("div",{className:"px-6 py-4 flex justify-between items-center hover:bg-red-900/10 transition-colors",children:[e.jsx("span",{className:"text-gray-400 font-medium",children:d.label}),e.jsx("span",{className:"font-mono text-sm text-white",children:d.value})]},d.label))})]}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg p-6 shadow-xl",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-2",children:"Status"}),e.jsx("p",{className:"text-2xl font-bold text-green-400",children:"Running"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg p-6 shadow-xl",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-2",children:"Mode"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:a.isProduction?"Production":"Development"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg p-6 shadow-xl",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-2",children:"Migration Version"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:a.migrationVersion})]})]})]})})}const MC={0:"Root Folder",1:"Root Folder Access",2:"Download Client",3:"Indexer",4:"Disk Space",5:"Disk Space Critical",6:"Update Available",7:"Database Migration",8:"Metadata API",9:"Notification Test",10:"Authentication",11:"API Key",12:"Orphaned Events",13:"Database Corruption"},FC=["All OK","Notice","Warning","Error"],td=["text-green-400","text-blue-400","text-yellow-400","text-red-400"],gh=["bg-green-900/20","bg-blue-900/20","bg-yellow-900/20","bg-red-900/20"],ph=["border-green-700/50","border-blue-700/50","border-yellow-700/50","border-red-700/50"];function OC(){const[a,r]=u.useState([]),[l,o]=u.useState(!1),[d,h]=u.useState(null),[f,p]=u.useState(!0);u.useEffect(()=>{x();let E=null;return f&&(E=window.setInterval(x,6e4)),()=>{E&&clearInterval(E)}},[f]);const x=async()=>{try{o(!0);const E=await qe.get("/system/health");r(E.data),h(new Date)}catch(E){console.error("Failed to load health checks:",E)}finally{o(!1)}},g=E=>{switch(E){case 0:return e.jsx(Ut,{className:"w-6 h-6"});case 1:return e.jsx(ja,{className:"w-6 h-6"});case 2:return e.jsx(za,{className:"w-6 h-6"});case 3:return e.jsx(Es,{className:"w-6 h-6"});default:return e.jsx(Ut,{className:"w-6 h-6"})}},w=(()=>{if(a.length===0)return{level:0,message:"Loading..."};const E=Math.max(...a.map(S=>S.level));return E===3?{level:3,message:"Critical Issues Detected"}:E===2?{level:2,message:"Warnings Present"}:E===1?{level:1,message:"Minor Notices"}:{level:0,message:"All Systems Healthy"}})(),T=a.filter(E=>E.level===3).length,j=a.filter(E=>E.level===2).length,C=a.filter(E=>E.level===1).length;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-950 via-black to-red-950/20 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"System Health"}),e.jsx("p",{className:"text-gray-400",children:"Monitor system status and configuration issues"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 text-gray-300 text-sm",children:[e.jsx("input",{type:"checkbox",checked:f,onChange:E=>p(E.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600 focus:ring-offset-gray-900"}),"Auto-refresh"]}),e.jsxs("button",{onClick:x,disabled:l,className:"flex items-center px-4 py-2 bg-red-600 hover:bg-red-700 disabled:opacity-50 text-white rounded-lg transition-colors",children:[e.jsx(Rt,{className:`w-5 h-5 mr-2 ${l?"animate-spin":""}`}),"Refresh"]})]})]}),e.jsx("div",{className:`mb-6 ${gh[w.level]} border ${ph[w.level]} rounded-lg p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:td[w.level],children:e.jsx(Qh,{className:"w-12 h-12"})}),e.jsxs("div",{children:[e.jsx("h2",{className:`text-2xl font-bold ${td[w.level]}`,children:w.message}),d&&e.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:["Last checked: ",d.toLocaleTimeString()]})]})]}),e.jsxs("div",{className:"flex gap-6",children:[T>0&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-red-400",children:T}),e.jsxs("div",{className:"text-sm text-gray-400",children:["Error",T!==1?"s":""]})]}),j>0&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-yellow-400",children:j}),e.jsxs("div",{className:"text-sm text-gray-400",children:["Warning",j!==1?"s":""]})]}),C>0&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-400",children:C}),e.jsxs("div",{className:"text-sm text-gray-400",children:["Notice",C!==1?"s":""]})]}),T===0&&j===0&&C===0&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-400",children:""}),e.jsx("div",{className:"text-sm text-gray-400",children:"Healthy"})]})]})]})}),l&&a.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-red-600 border-t-transparent"}),e.jsx("p",{className:"mt-4 text-gray-400",children:"Running health checks..."})]}):a.length===0?e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-gray-700 rounded-lg p-12 text-center",children:[e.jsx(Qh,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"No health check results available"})]}):e.jsx("div",{className:"space-y-3",children:a.map((E,S)=>e.jsx("div",{className:`${gh[E.level]} border ${ph[E.level]} rounded-lg p-4 transition-all hover:shadow-lg`,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`${td[E.level]} flex-shrink-0 mt-0.5`,children:g(E.level)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:E.message}),e.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[e.jsx("span",{className:`px-3 py-1 ${gh[E.level]} ${td[E.level]} text-sm font-medium rounded-full border ${ph[E.level]}`,children:FC[E.level]}),e.jsx("span",{className:"px-3 py-1 bg-gray-800 text-gray-400 text-xs rounded-full",children:MC[E.type]||"System"})]})]}),E.details&&e.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:E.details})]})]})},S))}),e.jsx("div",{className:"mt-8 bg-gray-900 border border-gray-700 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(ja,{className:"w-5 h-5 text-blue-400 mr-3 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-gray-300",children:[e.jsx("p",{className:"font-semibold text-white mb-2",children:"About Health Checks"}),e.jsx("p",{className:"mb-2",children:"Sportarr performs automated health checks to ensure your system is configured correctly and operating properly. Health checks run periodically and can be manually refreshed."}),e.jsxs("p",{children:[e.jsx("strong",{className:"text-white",children:"Errors"})," indicate critical issues that prevent functionality."," ",e.jsx("strong",{className:"text-white",children:"Warnings"})," are issues that should be addressed but don't block operations."," ",e.jsx("strong",{className:"text-white",children:"Notices"})," are informational messages about your configuration."]})]})]})})]})})}const LC=()=>{const[a,r]=u.useState([]),[l,o]=u.useState(!0),[d,h]=u.useState(null),[f,p]=u.useState(!1),[x,g]=u.useState(!1),[b,w]=u.useState(null),[T,j]=u.useState(null),[C,E]=u.useState("");u.useEffect(()=>{S()},[]);const S=async()=>{o(!0),h(null);try{const z=await fetch("/api/system/backup");if(!z.ok)throw new Error("Failed to fetch backups");const k=await z.json();r(k)}catch(z){h(z instanceof Error?z.message:"An error occurred")}finally{o(!1)}},D=async()=>{p(!0),h(null);try{const z=C?`/api/system/backup?note=${encodeURIComponent(C)}`:"/api/system/backup";if(!(await fetch(z,{method:"POST"})).ok)throw new Error("Failed to create backup");E(""),await S(),pe.success("Backup Created",{description:"Backup created successfully!"})}catch(z){h(z instanceof Error?z.message:"Failed to create backup")}finally{p(!1)}},U=async z=>{g(!0),h(null);try{const k=await fetch(`/api/system/backup/restore/${encodeURIComponent(z)}`,{method:"POST"});if(!k.ok)throw new Error("Failed to restore backup");const K=await k.json();pe.success("Backup Restored",{description:K.message||"Backup restored successfully! Please restart Sportarr.",duration:1e4}),w(null)}catch(k){h(k instanceof Error?k.message:"Failed to restore backup")}finally{g(!1)}},y=async z=>{h(null);try{if(!(await fetch(`/api/system/backup/${encodeURIComponent(z)}`,{method:"DELETE"})).ok)throw new Error("Failed to delete backup");await S(),j(null)}catch(k){h(k instanceof Error?k.message:"Failed to delete backup")}},F=async()=>{if(confirm("This will delete backups older than the configured retention period. Continue?")){h(null);try{const z=await fetch("/api/system/backup/cleanup",{method:"POST"});if(!z.ok)throw new Error("Failed to cleanup old backups");const k=await z.json();pe.success("Cleanup Complete",{description:k.message||"Old backups cleaned up successfully."}),await S()}catch(z){h(z instanceof Error?z.message:"Failed to cleanup backups")}}},te=z=>new Date(z).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Backup"}),e.jsx("p",{className:"text-gray-400",children:"Create and manage database backups for disaster recovery"})]}),e.jsx("div",{className:"mb-6 p-4 bg-blue-900/20 border border-blue-800 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ja,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-gray-300",children:[e.jsx("strong",{className:"text-white",children:"About Backups:"})," Backups are stored as ZIP files containing your Sportarr database. Configure backup folder and retention settings in Media Management settings. After restoring a backup, you must restart Sportarr for changes to take effect."]})]})}),e.jsxs("div",{className:"mb-6 bg-gray-800 rounded-lg p-6 border border-gray-700",children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Create New Backup"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{type:"text",placeholder:"Optional note for this backup...",value:C,onChange:z=>E(z.target.value),className:"flex-1 px-4 py-2 bg-gray-700 border border-gray-600 rounded text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsxs("button",{onClick:D,disabled:f,className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[e.jsx(Qs,{className:"w-5 h-5"}),f?"Creating...":"Backup Now"]}),e.jsxs("button",{onClick:F,className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600 flex items-center gap-2",children:[e.jsx(vt,{className:"w-5 h-5"}),"Cleanup Old"]})]})]}),d&&e.jsx("div",{className:"mb-6 p-4 bg-red-900/20 border border-red-800 rounded-lg",children:e.jsxs("p",{className:"text-red-400",children:["Error: ",d]})}),e.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700",children:[e.jsx("div",{className:"p-4 border-b border-gray-700",children:e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Available Backups"})}),l?e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-400"}),e.jsx("span",{className:"ml-3 text-gray-400",children:"Loading backups..."})]}):a.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-400",children:[e.jsx(Qs,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No backups found. Create your first backup above."})]}):e.jsx("div",{className:"divide-y divide-gray-700",children:a.map(z=>e.jsx("div",{className:"p-4 hover:bg-gray-750 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-white font-medium mb-1",children:z.name}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[e.jsx("span",{children:te(z.createdAt)}),e.jsx("span",{className:"text-gray-600",children:""}),e.jsx("span",{children:z.sizeFormatted})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>w(z.name),disabled:x,className:"px-4 py-2 bg-green-900/30 text-green-400 rounded hover:bg-green-900/50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition-colors",children:[e.jsx(D5,{className:"w-4 h-4"}),"Restore"]}),e.jsxs("button",{onClick:()=>j(z.name),className:"px-4 py-2 bg-red-900/30 text-red-400 rounded hover:bg-red-900/50 flex items-center gap-2 transition-colors",children:[e.jsx(vt,{className:"w-4 h-4"}),"Delete"]})]})]})},z.name))})]}),b&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4 border border-gray-700",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx(za,{className:"w-6 h-6 text-yellow-400 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Restore Backup?"}),e.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"This will replace your current database with the backup:"}),e.jsx("p",{className:"text-sm text-white font-mono bg-gray-900 p-2 rounded mb-2",children:b}),e.jsx("p",{className:"text-sm text-yellow-400",children:" Your current database will be backed up before restoration, but you will need to restart Sportarr after the restore."})]})]}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx("button",{onClick:()=>w(null),className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"Cancel"}),e.jsx("button",{onClick:()=>U(b),disabled:x,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Restoring...":"Restore"})]})]})}),T&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4 border border-gray-700",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx(vt,{className:"w-6 h-6 text-red-400 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Delete Backup?"}),e.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"Are you sure you want to delete this backup?"}),e.jsx("p",{className:"text-sm text-white font-mono bg-gray-900 p-2 rounded",children:T})]})]}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx("button",{onClick:()=>j(null),className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"Cancel"}),e.jsx("button",{onClick:()=>y(T),className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Delete"})]})]})})]})},UC=()=>{const[a,r]=u.useState([]),[l,o]=u.useState(!0),[d,h]=u.useState(null),[f,p]=u.useState(1),[x,g]=u.useState(0),[b,w]=u.useState(""),[T,j]=u.useState(""),C=50,E=Math.ceil(x/C),S=["Info","Success","Warning","Error"],D=["System","Database","Download","Import","Indexer","Search","Quality","Backup","Update","Settings","Authentication","Task","Notification","Metadata"],U=["text-blue-400 bg-blue-900/20","text-green-400 bg-green-900/20","text-yellow-400 bg-yellow-900/20","text-red-400 bg-red-900/20"];u.useEffect(()=>{y()},[f,b,T]);const y=async()=>{o(!0),h(null);try{let z=`/api/system/event?page=${f}&pageSize=${C}`;b&&(z+=`&type=${b}`),T&&(z+=`&category=${T}`);const k=await fetch(z);if(!k.ok)throw new Error("Failed to fetch system events");const K=await k.json();r(K.events),g(K.totalRecords)}catch(z){h(z instanceof Error?z.message:"An error occurred")}finally{o(!1)}},F=async()=>{if(confirm("Delete system events older than 30 days?"))try{const z=await fetch("/api/system/event/cleanup?days=30",{method:"POST"});if(!z.ok)throw new Error("Failed to cleanup events");const k=await z.json();pe.success("Cleanup Complete",{description:k.message}),y()}catch(z){pe.error("Cleanup Failed",{description:z instanceof Error?z.message:"Failed to cleanup events."})}},te=z=>new Date(z).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"});return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"System Events"}),e.jsx("p",{className:"text-gray-400",children:"Audit trail of system operations and user actions"})]}),e.jsx("div",{className:"mb-6 p-4 bg-blue-900/20 border border-blue-800 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ja,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-gray-300",children:[e.jsx("strong",{className:"text-white",children:"System Events:"})," This page shows an audit trail of system operations. For detailed application logs, visit the ",e.jsx("a",{href:"/system/logs",className:"text-blue-400 hover:underline",children:"Log Files"})," page."]})]})}),e.jsxs("div",{className:"mb-6 flex gap-4 items-center",children:[e.jsxs("select",{value:b,onChange:z=>{w(z.target.value),p(1)},className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Types"}),S.map(z=>e.jsx("option",{value:z,children:z},z))]}),e.jsxs("select",{value:T,onChange:z=>{j(z.target.value),p(1)},className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Categories"}),D.map(z=>e.jsx("option",{value:z,children:z},z))]}),e.jsxs("button",{onClick:F,className:"ml-auto px-4 py-2 bg-red-900/30 text-red-400 rounded hover:bg-red-900/50 flex items-center gap-2",children:[e.jsx(vt,{className:"w-4 h-4"}),"Cleanup Old Events"]})]}),d&&e.jsx("div",{className:"mb-6 p-4 bg-red-900/20 border border-red-800 rounded-lg",children:e.jsxs("p",{className:"text-red-400",children:["Error: ",d]})}),e.jsx("div",{className:"bg-gray-800 rounded-lg border border-gray-700",children:l?e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-400"}),e.jsx("span",{className:"ml-3 text-gray-400",children:"Loading events..."})]}):a.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-400",children:[e.jsx(ja,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No system events found."})]}):e.jsx("div",{className:"divide-y divide-gray-700",children:a.map(z=>e.jsx("div",{className:"p-4 hover:bg-gray-750 transition-colors",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded ${U[z.type]}`,children:S[z.type]}),e.jsx("span",{className:"px-2 py-1 bg-gray-700 text-gray-300 text-xs rounded",children:D[z.category]}),e.jsx("span",{className:"text-sm text-gray-500",children:te(z.timestamp)}),z.user&&e.jsxs("span",{className:"text-sm text-gray-500",children:["by ",z.user]})]}),e.jsx("p",{className:"text-white mb-1",children:z.message}),z.details&&e.jsx("p",{className:"text-sm text-gray-400",children:z.details}),z.relatedEntityType&&z.relatedEntityId&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Related: ",z.relatedEntityType," #",z.relatedEntityId]})]})})},z.id))})}),E>1&&e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs("div",{className:"text-sm text-gray-400",children:["Showing ",(f-1)*C+1," to ",Math.min(f*C,x)," of ",x," events"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>p(z=>Math.max(1,z-1)),disabled:f===1,className:"px-3 py-1 bg-gray-700 text-white rounded hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsxs("span",{className:"px-3 py-1 bg-gray-800 text-white rounded",children:["Page ",f," of ",E]}),e.jsx("button",{onClick:()=>p(z=>Math.min(E,z+1)),disabled:f===E,className:"px-3 py-1 bg-gray-700 text-white rounded hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})},zC=()=>{const[a,r]=u.useState(null),[l,o]=u.useState(!0),[d,h]=u.useState(!1),[f,p]=u.useState(null);u.useEffect(()=>{x()},[]);const x=async()=>{h(!0),p(null);try{const b=await fetch("/api/system/updates");if(!b.ok)throw new Error("Failed to check for updates");const w=await b.json();r(w)}catch(b){console.error("Error checking for updates:",b),p(b instanceof Error?b.message:"An error occurred")}finally{o(!1),h(!1)}},g=b=>new Date(b).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return l?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-gray-400",children:"Checking for updates..."})}):e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:"Updates"}),e.jsxs("button",{onClick:x,disabled:d,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center gap-2",children:[e.jsx(Rt,{className:`w-5 h-5 ${d?"animate-spin":""}`}),d?"Checking...":"Check for Updates"]})]}),e.jsx("p",{className:"text-gray-400",children:"Check for new versions and view release history"})]}),f&&e.jsx("div",{className:"mb-6 bg-red-900/20 border border-red-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(kr,{className:"w-6 h-6 text-red-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-red-400 mb-1",children:"Error Checking for Updates"}),e.jsx("p",{className:"text-red-400/80",children:f})]})]})}),a&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`mb-6 rounded-lg p-6 border ${a.updateAvailable?"bg-blue-900/20 border-blue-800":"bg-green-900/20 border-green-800"}`,children:e.jsxs("div",{className:"flex items-start gap-4",children:[a.updateAvailable?e.jsx(kr,{className:"w-8 h-8 text-blue-400 flex-shrink-0"}):e.jsx(Ut,{className:"w-8 h-8 text-green-400 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:`text-2xl font-bold mb-2 ${a.updateAvailable?"text-blue-400":"text-green-400"}`,children:a.updateAvailable?"Update Available!":"Up to Date"}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-400",children:"Current Version:"})," ",e.jsx("span",{className:"font-semibold text-white",children:a.currentVersion})]}),a.updateAvailable&&e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-400",children:"Latest Version:"})," ",e.jsx("span",{className:"font-semibold text-blue-400",children:a.latestVersion})]})]}),a.updateAvailable&&e.jsxs("div",{className:"mt-4 p-4 bg-blue-900/30 border border-blue-700 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-blue-300",children:[e.jsx("strong",{children:"Docker Users:"})," To update, pull the latest image and restart your container:"]}),e.jsxs("pre",{className:"mt-2 p-3 bg-gray-900 border border-gray-700 rounded text-xs text-gray-300 overflow-x-auto",children:["docker pull ghcr.io/sportarr/sportarr:latest",`
`,"docker restart sportarr"]})]})]})]})}),e.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700",children:[e.jsx("div",{className:"p-6 border-b border-gray-700",children:e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Release History"})}),e.jsx("div",{className:"divide-y divide-gray-700",children:a.releases.map(b=>e.jsxs("div",{className:`p-6 ${b.isInstalled?"bg-gray-900/50":""}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("h3",{className:"text-lg font-bold text-white",children:["Version ",b.version]}),b.isInstalled&&e.jsx("span",{className:"px-2 py-1 bg-green-900/50 border border-green-700 text-green-400 text-xs font-medium rounded",children:"Installed"}),b.isLatest&&!b.isInstalled&&e.jsx("span",{className:"px-2 py-1 bg-blue-900/50 border border-blue-700 text-blue-400 text-xs font-medium rounded",children:"Latest"})]}),e.jsx("div",{className:"text-sm text-gray-400",children:g(b.releaseDate)})]}),b.changes&&b.changes.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-400 mb-2",children:"Changes:"}),e.jsx("ul",{className:"space-y-1",children:b.changes.map((w,T)=>e.jsxs("li",{className:"text-sm text-gray-300 flex items-start gap-2",children:[e.jsx("span",{className:"text-gray-600 mt-1",children:""}),e.jsx("span",{className:"flex-1",children:w})]},T))})]}),b.downloadUrl&&e.jsxs("a",{href:b.downloadUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white text-sm rounded-lg transition-colors",children:[e.jsx(Qs,{className:"w-4 h-4"}),"View on GitHub"]})]},b.version))})]}),e.jsx("div",{className:"mt-6 p-4 bg-gray-800 border border-gray-700 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(kr,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-gray-300",children:[e.jsx("strong",{className:"text-white",children:"Update Instructions:"}),e.jsxs("ul",{className:"mt-2 space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"Updates are pulled from the GitHub repository releases"}),e.jsx("li",{children:"Docker users should pull the latest image and restart the container"}),e.jsx("li",{children:"Manual installations should download the latest release from GitHub"}),e.jsx("li",{children:"Always backup your database before updating"})]})]})]})})]})]})};function BC(){const{data:a,isLoading:r,error:l}=v5(),[o,d]=u.useState(null),{data:h,isLoading:f}=j5(o),p=b=>b<1024?`${b} B`:b<1024*1024?`${(b/1024).toFixed(2)} KB`:`${(b/(1024*1024)).toFixed(2)} MB`,x=b=>new Date(b).toLocaleString(),g=b=>{var T;const w=((T=window.Sportarr)==null?void 0:T.urlBase)||"";window.open(`${w}/api/log/file/${b}/download`,"_blank")};return r?e.jsx("div",{className:"p-8",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"})})}):l?e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"bg-red-900 border border-red-700 text-red-100 px-4 py-3 rounded",children:[e.jsx("p",{className:"font-bold",children:"Error loading log files"}),e.jsx("p",{className:"text-sm",children:l.message})]})}):e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Log Files"}),e.jsx("p",{className:"text-gray-400",children:"View and download application log files"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg shadow-xl overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 bg-red-950/30 border-b border-red-900/30",children:e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Available Logs"})}),e.jsx("div",{className:"divide-y divide-red-900/20 max-h-[600px] overflow-y-auto",children:a&&a.length>0?a.map(b=>e.jsx("div",{className:`px-6 py-4 hover:bg-red-900/10 transition-colors cursor-pointer ${o===b.filename?"bg-red-900/20":""}`,onClick:()=>d(b.filename),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(eS,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),e.jsx("p",{className:"text-white font-medium truncate",children:b.filename})]}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:p(b.size)}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:x(b.lastWriteTime)})]}),e.jsx("button",{onClick:w=>{w.stopPropagation(),g(b.filename)},className:"ml-3 p-2 text-gray-400 hover:text-white hover:bg-red-900/20 rounded transition-colors",title:"Download",children:e.jsx(Qs,{className:"w-5 h-5"})})]})},b.filename)):e.jsx("div",{className:"px-6 py-8 text-center text-gray-400",children:"No log files available"})})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg shadow-xl overflow-hidden h-[600px] flex flex-col",children:[e.jsxs("div",{className:"px-6 py-4 bg-red-950/30 border-b border-red-900/30 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:o||"Select a log file"}),o&&e.jsx("button",{onClick:()=>d(null),className:"p-2 text-gray-400 hover:text-white hover:bg-red-900/20 rounded transition-colors",title:"Close",children:e.jsx(pt,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex-1 overflow-auto p-6",children:o?f?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"})}):h?e.jsx("div",{className:"font-mono text-xs text-gray-300 whitespace-pre-wrap break-all bg-black/50 p-4 rounded border border-red-900/20",children:h.content}):e.jsx("div",{className:"flex items-center justify-center h-full text-red-400",children:e.jsx("p",{children:"Error loading log file content"})}):e.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:e.jsx("p",{children:"Select a log file from the list to view its contents"})})}),h&&e.jsxs("div",{className:"px-6 py-3 bg-red-950/20 border-t border-red-900/30 text-sm text-gray-400 flex items-center justify-between",children:[e.jsxs("span",{children:["Size: ",p(h.size)]}),e.jsxs("span",{children:["Last updated: ",x(h.lastWriteTime)]}),e.jsx("span",{className:"text-green-400",children:"Auto-refreshing"})]})]})})]})]})})}function PC(){const{data:a,isLoading:r,error:l}=Yy(100),o=w5(),d=N5(),[h,f]=u.useState(null),p=S=>S?new Date(S).toLocaleString():"-",x=S=>{if(!S)return"-";const D=S.split(":");if(D.length===3){const U=parseInt(D[0]),y=parseInt(D[1]),F=parseFloat(D[2]);return U>0?`${U}h ${y}m ${Math.floor(F)}s`:y>0?`${y}m ${Math.floor(F)}s`:`${F.toFixed(1)}s`}return S},g=S=>{switch(S){case"Queued":return"text-blue-400";case"Running":case"Aborting":return"text-yellow-400";case"Completed":return"text-green-400";case"Failed":return"text-red-400";case"Cancelled":return"text-gray-400";default:return"text-gray-400"}},b=S=>{switch(S){case"Queued":return e.jsx(Rr,{className:"w-5 h-5"});case"Running":return e.jsx(RS,{className:"w-5 h-5"});case"Aborting":return e.jsx(Xc,{className:"w-5 h-5"});case"Completed":return e.jsx(Ut,{className:"w-5 h-5"});case"Failed":return e.jsx(Es,{className:"w-5 h-5"});case"Cancelled":return e.jsx(Xc,{className:"w-5 h-5"});default:return e.jsx(Rr,{className:"w-5 h-5"})}},w=async S=>{if(confirm("Are you sure you want to cancel this task?"))try{await d.mutateAsync(S)}catch(D){console.error("Failed to cancel task:",D),pe.error("Cancel Failed",{description:"Failed to cancel task. Please try again."})}},T=async()=>{try{await o.mutateAsync({name:"Test Task",commandName:"TestTask",priority:0})}catch(S){console.error("Failed to queue test task:",S),pe.error("Queue Failed",{description:"Failed to queue test task. Please try again."})}};if(r)return e.jsx("div",{className:"p-8",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"})})});if(l)return e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"bg-red-900 border border-red-700 text-red-100 px-4 py-3 rounded",children:[e.jsx("p",{className:"font-bold",children:"Error loading tasks"}),e.jsx("p",{className:"text-sm",children:l.message})]})});const j=(a==null?void 0:a.filter(S=>S.status==="Running"||S.status==="Aborting"))||[],C=(a==null?void 0:a.filter(S=>S.status==="Queued"))||[],E=(a==null?void 0:a.filter(S=>S.status==="Completed"||S.status==="Failed"||S.status==="Cancelled"))||[];return e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Tasks"}),e.jsx("p",{className:"text-gray-400",children:"View and manage background tasks"})]}),e.jsx("button",{onClick:T,disabled:o.isPending,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o.isPending?"Queuing...":"Queue Test Task"})]}),j.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-3",children:"Running"}),e.jsx("div",{className:"space-y-3",children:j.map(S=>e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg p-6 shadow-xl",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx("div",{className:`mt-1 ${g(S.status)}`,children:b(S.status)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:S.name}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:S.commandName}),S.message&&e.jsx("p",{className:"text-sm text-gray-300 mt-2",children:S.message})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`px-3 py-1 rounded text-sm font-medium ${g(S.status)}`,children:S.status}),(S.status==="Running"||S.status==="Queued")&&e.jsx("button",{onClick:()=>w(S.id),disabled:d.isPending,className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-900/20 rounded transition-colors disabled:opacity-50",title:"Cancel task",children:e.jsx(Xc,{className:"w-5 h-5"})})]})]}),S.progress!==null&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mb-2",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[S.progress,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-red-600 h-2 rounded-full transition-all duration-300",style:{width:`${S.progress}%`}})})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Started:"}),e.jsx("span",{className:"text-white ml-2",children:p(S.started)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Priority:"}),e.jsx("span",{className:"text-white ml-2",children:S.priority})]})]})]},S.id))})]}),C.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-white mb-3",children:["Queued (",C.length,")"]}),e.jsx("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg shadow-xl overflow-hidden",children:e.jsx("div",{className:"divide-y divide-red-900/20",children:C.map(S=>e.jsx("div",{className:"px-6 py-4 hover:bg-red-900/10 transition-colors cursor-pointer",onClick:()=>f(S),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("div",{className:g(S.status),children:b(S.status)}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:S.name}),e.jsx("p",{className:"text-sm text-gray-400",children:S.commandName})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-sm text-gray-400",children:["Queued: ",p(S.queued)]}),e.jsx("button",{onClick:D=>{D.stopPropagation(),w(S.id)},disabled:d.isPending,className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-900/20 rounded transition-colors disabled:opacity-50",title:"Cancel task",children:e.jsx(Xc,{className:"w-5 h-5"})})]})]})},S.id))})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-3",children:"History"}),e.jsx("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg shadow-xl overflow-hidden",children:E.length===0?e.jsx("div",{className:"px-6 py-12 text-center text-gray-400",children:"No completed tasks yet"}):e.jsx("div",{className:"divide-y divide-red-900/20",children:E.map(S=>e.jsx("div",{className:"px-6 py-4 hover:bg-red-900/10 transition-colors cursor-pointer",onClick:()=>f(S),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx("div",{className:`mt-1 ${g(S.status)}`,children:b(S.status)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-white font-medium",children:S.name}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:S.commandName}),S.message&&e.jsx("p",{className:"text-sm text-gray-300 mt-1",children:S.message}),S.status==="Failed"&&S.exception&&e.jsx("div",{className:"mt-2 p-2 bg-red-900/20 border border-red-900/30 rounded",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(za,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),e.jsx("pre",{className:"text-xs text-red-300 font-mono whitespace-pre-wrap break-all",children:S.exception})]})})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[e.jsx("span",{className:`px-3 py-1 rounded text-sm font-medium ${g(S.status)}`,children:S.status}),e.jsxs("div",{className:"text-sm text-gray-400 text-right",children:[e.jsxs("div",{children:["Duration: ",x(S.duration)]}),e.jsxs("div",{className:"mt-1",children:["Ended: ",p(S.ended)]})]})]})]})},S.id))})})]})]})})}function qC(){const a=Sa();return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-2xl w-full text-center",children:[e.jsx("div",{className:"mb-8",children:e.jsx("img",{src:"/404.png",alt:"404 - Page Not Found",className:"w-full max-w-md mx-auto"})}),e.jsx("h1",{className:"text-6xl font-bold text-white mb-4",children:"404"}),e.jsx("h2",{className:"text-3xl font-semibold text-red-500 mb-4",children:"Page Not Found"}),e.jsx("p",{className:"text-xl text-gray-400 mb-8",children:"The page you're looking for doesn't exist or has been moved."}),e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsxs("button",{onClick:()=>a(-1),className:"flex items-center px-6 py-3 bg-gray-800 hover:bg-gray-700 text-white font-semibold rounded-lg transition-colors",children:[e.jsx(hd,{className:"w-5 h-5 mr-2"}),"Go Back"]}),e.jsxs("button",{onClick:()=>a("/leagues"),className:"flex items-center px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white font-semibold rounded-lg shadow-lg transform transition hover:scale-105",children:[e.jsx(b0,{className:"w-5 h-5 mr-2"}),"Go to Leagues"]})]}),e.jsxs("div",{className:"mt-12 p-6 bg-gray-900/50 border border-gray-800 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Common Pages"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[e.jsx("button",{onClick:()=>a("/leagues"),className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors",children:"Leagues"}),e.jsx("button",{onClick:()=>a("/calendar"),className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors",children:"Calendar"}),e.jsx("button",{onClick:()=>a("/activity"),className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors",children:"Activity"}),e.jsx("button",{onClick:()=>a("/settings/general"),className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded transition-colors",children:"Settings"})]})]})]})})}function $C(){const[a,r]=u.useState(""),[l,o]=u.useState(""),[d,h]=u.useState(!1),[f,p]=u.useState(""),[x,g]=u.useState(!1);Sa();const[b]=r2(),{login:w}=tv(),T=b.get("returnUrl")||"/leagues",j=async C=>{C.preventDefault(),p(""),g(!0);try{await w(a,l,d)?window.location.href=T:p("Invalid username or password")}catch{p("An error occurred. Please try again.")}finally{g(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-5xl font-bold text-white mb-2",children:"Sportarr"}),e.jsx("p",{className:"text-gray-400",children:"Universal Sports PVR"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg p-8 shadow-2xl",children:[e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsx("div",{className:"p-3 bg-red-900/30 rounded-full",children:e.jsx(jS,{className:"w-8 h-8 text-red-500"})})}),e.jsx("h2",{className:"text-2xl font-bold text-white text-center mb-6",children:"Sign In"}),f&&e.jsx("div",{className:"mb-4 p-3 bg-red-900/30 border border-red-900/50 rounded-lg text-red-400 text-sm",children:f}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-300 mb-2",children:"Username"}),e.jsx("input",{id:"username",type:"text",value:a,onChange:C=>r(C.target.value),required:!0,autoComplete:"username",className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600 transition-colors",placeholder:"Enter your username"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),e.jsx("input",{id:"password",type:"password",value:l,onChange:C=>o(C.target.value),required:!0,autoComplete:"current-password",className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600 transition-colors",placeholder:"Enter your password"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",type:"checkbox",checked:d,onChange:C=>h(C.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 text-sm text-gray-400",children:"Remember me for 30 days"})]}),e.jsx("button",{type:"submit",disabled:x,className:"w-full px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white font-semibold rounded-lg shadow-lg transform transition hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:x?"Signing in...":"Sign In"})]}),e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-800",children:e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Secure login powered by Sportarr authentication"})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("p",{className:"text-sm text-gray-400",children:"Default credentials can be configured in Settings  General  Security"})})]})})}function HC(){const[a,r]=u.useState(""),[l,o]=u.useState(""),[d,h]=u.useState(""),[f,p]=u.useState(""),[x,g]=u.useState(!1),b=Sa(),w=async T=>{if(T.preventDefault(),p(""),!a||!l){p("Username and password are required");return}if(l.length<6){p("Password must be at least 6 characters");return}if(l!==d){p("Passwords do not match");return}g(!0);try{const j=await fetch("/api/setup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,password:l})}),C=await j.json();j.ok?b("/login?setupComplete=true"):p(C.error||"Setup failed. Please try again.")}catch{p("An error occurred. Please try again.")}finally{g(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-5xl font-bold text-white mb-2",children:"Sportarr"}),e.jsx("p",{className:"text-gray-400",children:"Universal Sports PVR"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg p-8 shadow-2xl",children:[e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsx("div",{className:"p-3 bg-red-900/30 rounded-full",children:e.jsx(bS,{className:"w-8 h-8 text-red-500"})})}),e.jsx("h2",{className:"text-2xl font-bold text-white text-center mb-2",children:"Initial Setup"}),e.jsx("p",{className:"text-gray-400 text-center mb-6 text-sm",children:"Create your admin account to get started"}),f&&e.jsx("div",{className:"mb-4 p-3 bg-red-900/30 border border-red-900/50 rounded-lg text-red-400 text-sm",children:f}),e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-300 mb-2",children:"Username"}),e.jsx("input",{id:"username",type:"text",value:a,onChange:T=>r(T.target.value),required:!0,autoComplete:"username",autoFocus:!0,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600 transition-colors",placeholder:"Choose a username"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),e.jsx("input",{id:"password",type:"password",value:l,onChange:T=>o(T.target.value),required:!0,autoComplete:"new-password",className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600 transition-colors",placeholder:"Choose a password (min. 6 characters)"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm Password"}),e.jsx("input",{id:"confirmPassword",type:"password",value:d,onChange:T=>h(T.target.value),required:!0,autoComplete:"new-password",className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600 transition-colors",placeholder:"Confirm your password"})]}),e.jsx("button",{type:"submit",disabled:x,className:"w-full px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white font-semibold rounded-lg shadow-lg transform transition hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:x?"Creating Account...":"Create Account"})]}),e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-800",children:e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"This account will have full administrative access to Sportarr"})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("p",{className:"text-sm text-gray-400",children:"You can change your credentials later in Settings  General  Security"})})]})})}function ni({title:a,subtitle:r,onSave:l,isSaving:o=!1,hasUnsavedChanges:d=!1,saveButtonText:h="Save Settings",children:f}){return e.jsx("div",{className:"sticky top-0 z-30 bg-gradient-to-r from-gray-900 via-black to-gray-900 border-b border-red-900/30 backdrop-blur-sm mb-8",children:e.jsxs("div",{className:"flex items-center justify-between p-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-1",children:a}),r&&e.jsx("p",{className:"text-gray-400",children:r})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[f,e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:l,disabled:o,className:`px-6 py-2 rounded-lg transition-all flex items-center space-x-2 ${d?"bg-red-600 hover:bg-red-700 text-white shadow-lg shadow-red-600/50 animate-pulse":"bg-red-600 hover:bg-red-700 text-white"} disabled:opacity-50 disabled:cursor-not-allowed disabled:animate-none`,children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Saving..."})]}):e.jsx("span",{children:h})}),d&&!o&&e.jsxs("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]})]})]})]})})}function li(a){return u.useEffect(()=>{const l=o=>{if(a)return o.preventDefault(),o.returnValue="",""};return window.addEventListener("beforeunload",l),()=>window.removeEventListener("beforeunload",l)},[a]),{blockNavigation:u.useCallback(()=>a?window.confirm("You have unsaved changes. Are you sure you want to leave this page? Your changes will be lost."):!0,[a])}}function _C({showAdvanced:a=!1}){const r=Ys(),[l,o]=u.useState([]),[d,h]=u.useState(!0),[f,p]=u.useState(!1),[x,g]=u.useState(!1),[b,w]=u.useState(null),[T,j]=u.useState(""),[C,E]=u.useState(!1),[S,D]=u.useState(!1),U=u.useRef(null),[y,F]=u.useState(null),[te,z]=u.useState("");li(S);const[k,K]=u.useState({renameEvents:!1,replaceIllegalCharacters:!0,enableMultiPartEpisodes:!0,standardFileFormat:"{Series} - {Season}{Episode}{Part} - {Event Title} - {Quality Full}",createEventFolders:!0,deleteEmptyFolders:!1,skipFreeSpaceCheck:!1,minimumFreeSpace:100,useHardlinks:!0,copyFiles:!1,importExtraFiles:!1,extraFileExtensions:"srt,nfo",changeFileDate:"None",recycleBin:"",recycleBinCleanup:7,setPermissions:!1,chmodFolder:"755",chownGroup:""});u.useEffect(()=>{we(),Y(),ne()},[]);const ne=async()=>{try{const V=await js(`/api/trash/naming-presets?enableMultiPartEpisodes=${k.enableMultiPartEpisodes}`);if(V.ok){const je=await V.json();F(je)}}catch(V){console.error("Failed to load naming presets:",V)}};u.useEffect(()=>{y&&ne()},[k.enableMultiPartEpisodes]);const _=V=>{var B;if(!((B=y==null?void 0:y.file)!=null&&B[V]))return;const je=y.file[V];se("standardFileFormat",je.format),z(V),pe.success("Naming preset applied",{description:je.description})},we=async()=>{try{const V=await js("/api/settings");if(V.ok){const je=await V.json();if(je.mediaManagementSettings){const B=JSON.parse(je.mediaManagementSettings);K(B),U.current=B,D(!1)}}}catch(V){console.error("Failed to load media management settings:",V)}};u.useEffect(()=>{if(!U.current)return;const V=JSON.stringify(k)!==JSON.stringify(U.current);D(V)},[k]);const Y=async()=>{try{const V=await js("/api/rootfolder");if(V.ok){const je=await V.json();o(je)}}catch(V){console.error("Failed to fetch root folders:",V)}finally{h(!1)}},L=V=>`${(V/1073741824).toFixed(2)} GB`,O=async()=>{if(T.trim())try{const V=await Jn("/api/rootfolder",{path:T.trim()});if(V.ok){const je=await V.json();o(B=>[...B,je]),g(!1),j("")}else{const je=await V.json();console.error("Failed to add root folder:",je.error)}}catch(V){console.error("Failed to add folder:",V)}},be=async V=>{try{(await Ud(`/api/rootfolder/${V}`)).ok&&(o(B=>B.filter(R=>R.id!==V)),w(null))}catch(je){console.error("Failed to delete folder:",je)}},I=async()=>{p(!0);try{const V=await js("/api/settings");if(!V.ok)throw new Error("Failed to fetch current settings");const B={...await V.json(),mediaManagementSettings:JSON.stringify(k)};if(!(await nl("/api/settings",B)).ok)throw new Error("Failed to save settings");await r.invalidateQueries({queryKey:["config"]}),U.current=k,D(!1)}catch(V){console.error("Failed to save settings:",V),pe.error("Save Failed",{description:"Failed to save settings. Please try again."})}finally{p(!1)}},se=(V,je)=>{K(B=>({...B,[V]:je}))},de=u.useRef(null);return u.useEffect(()=>{if(de.current===null){de.current=k.enableMultiPartEpisodes;return}const V=de.current,je=k.enableMultiPartEpisodes;if(V!==je){const B=k.standardFileFormat||"";if(je&&!B.includes("{Part}")){let R;B.includes("{Episode}")?R=B.replace("{Episode}","{Episode}{Part}"):R=B.trim()+"{Part}",K($=>({...$,standardFileFormat:R}))}else if(!je&&B.includes("{Part}")){const R=B.replace("{Part}","");K($=>({...$,standardFileFormat:R}))}de.current=je}},[k.enableMultiPartEpisodes]),e.jsxs("div",{children:[e.jsx(ni,{title:"Media Management",subtitle:"Settings for file naming, root folders, and file management",onSave:I,isSaving:f,hasUnsavedChanges:S}),e.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[e.jsxs("div",{className:"mb-8 bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-semibold text-white",children:"Root Folders"}),e.jsxs("button",{onClick:()=>g(!0),className:"flex items-center px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:[e.jsx(ws,{className:"w-4 h-4 mr-2"}),"Add Root Folder"]})]}),e.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Root folders where Sportarr will store sports events"}),e.jsx("div",{className:"space-y-2",children:l.map(V=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-black/30 rounded-lg border border-gray-800",children:[e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsx(va,{className:"w-5 h-5 text-red-400 mr-3"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-white font-medium",children:V.path}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Free Space: ",L(V.freeSpace)]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[V.accessible?e.jsx(Sr,{className:"w-5 h-5 text-green-500"}):e.jsx(pt,{className:"w-5 h-5 text-red-500"}),e.jsx("button",{onClick:()=>w(V.id),className:"text-gray-400 hover:text-red-400 text-sm transition-colors",children:"Delete"})]})]},V.id))}),l.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(va,{className:"w-16 h-16 text-gray-700 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 mb-2",children:"No root folders configured"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Add at least one root folder where Sportarr will store events"})]})]}),e.jsxs("div",{className:"mb-8 bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Event Naming"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:k.renameEvents,onChange:V=>se("renameEvents",V.target.checked),className:"mt-1 w-5 h-5 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-medium",children:"Rename Events"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Rename event files based on naming scheme"})]})]}),e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:k.replaceIllegalCharacters,onChange:V=>se("replaceIllegalCharacters",V.target.checked),className:"mt-1 w-5 h-5 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-medium",children:"Replace Illegal Characters"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Replace illegal characters with replacement character"})]})]}),e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:k.enableMultiPartEpisodes,onChange:V=>se("enableMultiPartEpisodes",V.target.checked),className:"mt-1 w-5 h-5 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-medium",children:"Enable Multi-Part Episodes"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Detect and name multi-part episodes for Fighting sports (Early Prelims, Prelims, Main Card)"}),e.jsxs("div",{className:"mt-2 px-3 py-2 bg-blue-950/30 border border-blue-900/50 rounded text-xs",children:[e.jsx("p",{className:"text-blue-300 font-medium mb-1",children:"Plex TV Show Structure:"}),e.jsx("p",{className:"text-gray-400",children:"MMA League - s2024e12 - pt1 - Event 100 Main Event - Bluray-1080p.mkv (Early Prelims)"}),e.jsx("p",{className:"text-gray-400",children:"MMA League - s2024e12 - pt2 - Event 100 Main Event - Bluray-1080p.mkv (Prelims)"}),e.jsx("p",{className:"text-gray-400",children:"MMA League - s2024e12 - pt3 - Event 100 Main Event - Bluray-1080p.mkv (Main Card)"})]})]})]}),k.renameEvents&&e.jsx(e.Fragment,{children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-white font-medium",children:"Standard Event Format"}),(y==null?void 0:y.file)&&Object.keys(y.file).length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oo,{className:"w-4 h-4 text-purple-400"}),e.jsxs("select",{value:te,onChange:V=>_(V.target.value),className:"px-3 py-1 bg-gray-800 border border-purple-700 rounded text-sm text-purple-200 focus:outline-none focus:border-purple-500",children:[e.jsx("option",{value:"",className:"bg-gray-800 text-gray-300",children:"TRaSH Naming Presets..."}),Object.entries(y.file).map(([V,je])=>e.jsxs("option",{value:V,className:"bg-gray-800 text-white",children:[V.replace(/-/g," ").replace(/\b\w/g,B=>B.toUpperCase()),je.supportsMultiPart?" (Multi-Part)":""]},V))]})]})]}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",value:k.standardFileFormat,onChange:V=>{se("standardFileFormat",V.target.value),z("")},className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600 font-mono",placeholder:"{Series} - {Season}{Episode}{Part} - {Event Title} - {Quality Full}"})}),e.jsxs("div",{className:"mt-3 p-4 bg-black/30 rounded-lg border border-gray-800",children:[e.jsx("p",{className:"text-sm font-medium text-gray-300 mb-2",children:"Available Tokens (click to insert):"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:[{token:"{Series}",desc:"MMA League",category:"Plex"},{token:"{Season}",desc:"s2024",category:"Plex"},{token:"{Episode}",desc:"e12",category:"Plex"},{token:"{Part}",desc:"pt1/pt2/pt3",category:"Plex"},{token:"{Event Title}",desc:"Event 100",category:"Event"},{token:"{Event Date}",desc:"2024-04-13",category:"Event"},{token:"{Quality Full}",desc:"Bluray-1080p",category:"Quality"},{token:"{Release Group}",desc:"GROUP",category:"Release"}].map(V=>e.jsxs("button",{onClick:()=>{const je=document.querySelector('input[placeholder*="Series"]');if(je){const B=k.standardFileFormat||"",R=je.selectionStart||B.length,$=B.slice(0,R)+V.token+B.slice(R);se("standardFileFormat",$)}},className:"text-left px-3 py-2 bg-gray-800 hover:bg-gray-700 border border-gray-700 hover:border-red-600 rounded text-sm transition-colors group",children:[e.jsx("div",{className:"font-mono text-purple-400 text-xs group-hover:text-purple-300",children:V.token}),e.jsx("div",{className:"text-gray-500 text-xs mt-0.5",children:V.desc})]},V.token))})]}),e.jsxs("div",{className:"mt-3 p-4 bg-gradient-to-r from-blue-950/30 to-purple-950/30 border border-blue-900/50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-blue-300 mb-2",children:"Preview:"}),e.jsxs("p",{className:"text-white font-mono text-sm break-all",children:[(k.standardFileFormat||"").replace(/{Series}/g,"MMA League").replace(/{Season}/g,"s2024").replace(/{Episode}/g,"e12").replace(/{Part}/g,k.enableMultiPartEpisodes?" - pt3":"").replace(/{Event Title}/g,"Event 100 Main Event").replace(/{League}/g,"MMA League").replace(/{Event Date}/g,"2024-11-16").replace(/{Quality Full}/g,"Bluray-1080p").replace(/{Release Group}/g,"GROUP"),".mkv"]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["This shows how your events will be named with the current format",k.enableMultiPartEpisodes&&e.jsx("span",{className:"text-blue-400",children:" (with multi-part enabled, showing Main Card example)"})]})]})]})})]})]}),e.jsxs("div",{className:"mb-8 bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Folders"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:k.createEventFolders,onChange:V=>se("createEventFolders",V.target.checked),className:"mt-1 w-5 h-5 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-medium",children:"Create Event Folders"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Create individual folders for each event"})]})]}),a&&e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:k.deleteEmptyFolders,onChange:V=>se("deleteEmptyFolders",V.target.checked),className:"mt-1 w-5 h-5 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-medium",children:"Delete Empty Folders"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Delete empty event folders during disk scan"}),e.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 bg-yellow-900/30 text-yellow-400 text-xs rounded",children:"Advanced"})]})]})]})]}),e.jsxs("div",{className:"mb-8 bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Importing"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:k.useHardlinks,onChange:V=>se("useHardlinks",V.target.checked),className:"mt-1 w-5 h-5 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-medium",children:"Use Hardlinks instead of Copy"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Use hardlinks when copying files from torrents (requires same filesystem)"})]})]}),e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:k.copyFiles,onChange:V=>se("copyFiles",V.target.checked),className:"mt-1 w-5 h-5 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-medium",children:"Copy Files (instead of Move)"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Copy files to library instead of moving them. When disabled (default), files are moved. Symlinks from debrid services are always moved regardless of this setting."})]})]}),e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:k.importExtraFiles,onChange:V=>se("importExtraFiles",V.target.checked),className:"mt-1 w-5 h-5 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-medium",children:"Import Extra Files"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Import matching extra files (subtitles, nfo, etc)"})]})]}),k.importExtraFiles&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Extra File Extensions"}),e.jsx("input",{type:"text",value:k.extraFileExtensions,onChange:V=>se("extraFileExtensions",V.target.value),placeholder:"srt,nfo,jpg,png",className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Comma separated list of extra file extensions to import"})]}),a&&e.jsxs(e.Fragment,{children:[e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:k.skipFreeSpaceCheck,onChange:V=>se("skipFreeSpaceCheck",V.target.checked),className:"mt-1 w-5 h-5 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-medium",children:"Skip Free Space Check"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Skip checking free space before importing"}),e.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 bg-yellow-900/30 text-yellow-400 text-xs rounded",children:"Advanced"})]})]}),!k.skipFreeSpaceCheck&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Minimum Free Space"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"number",value:k.minimumFreeSpace,onChange:V=>se("minimumFreeSpace",Number(V.target.value)),className:"w-32 px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600"}),e.jsx("span",{className:"text-gray-400",children:"MB"})]}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Prevent import if it would leave less than this amount of free space"}),e.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 bg-yellow-900/30 text-yellow-400 text-xs rounded",children:"Advanced"})]})]})]})]}),a&&e.jsxs("div",{className:"mb-8 bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg p-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-white mb-4",children:["File Management",e.jsx("span",{className:"ml-2 px-2 py-0.5 bg-yellow-900/30 text-yellow-400 text-xs rounded",children:"Advanced"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Recycle Bin Path"}),e.jsx("input",{type:"text",value:k.recycleBin,onChange:V=>se("recycleBin",V.target.value),placeholder:"/path/to/recycle/bin",className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Files will be moved here instead of being deleted"})]}),k.recycleBin&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Recycle Bin Cleanup"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"number",value:k.recycleBinCleanup,onChange:V=>se("recycleBinCleanup",Number(V.target.value)),className:"w-32 px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600"}),e.jsx("span",{className:"text-gray-400",children:"days"})]}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Set to 0 to disable automatic cleanup"})]}),e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:k.setPermissions,onChange:V=>se("setPermissions",V.target.checked),className:"mt-1 w-5 h-5 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-medium",children:"Set Permissions"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Set file permissions during import/rename (Linux/macOS only)"})]})]}),k.setPermissions&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"chmod Folder"}),e.jsx("input",{type:"text",value:k.chmodFolder,onChange:V=>se("chmodFolder",V.target.value),placeholder:"755",className:"w-32 px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"chown Group"}),e.jsx("input",{type:"text",value:k.chownGroup,onChange:V=>se("chownGroup",V.target.value),placeholder:"media",className:"w-64 px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600"})]})]})]})]}),x&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/50 rounded-lg p-6 max-w-2xl w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:"Add Root Folder"}),e.jsx("button",{onClick:()=>{g(!1),j("")},className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded transition-colors",children:e.jsx(pt,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Folder Path *"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:T,onChange:V=>j(V.target.value),className:"flex-1 px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",placeholder:"/data/sportarr or C:\\Media\\Sportarr"}),e.jsx("button",{type:"button",onClick:()=>E(!0),className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 border border-gray-700 text-white rounded-lg transition-colors flex items-center",children:e.jsx(va,{className:"w-5 h-5"})})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Full path to directory where events will be stored"})]}),e.jsx("div",{className:"p-4 bg-blue-950/30 border border-blue-900/50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-300",children:[e.jsx("strong",{children:"Note:"})," The path will be validated when you click Add. Make sure the directory exists and Sportarr has read/write permissions."]})})]}),e.jsxs("div",{className:"mt-6 flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{g(!1),j("")},className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:O,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Add Folder"})]})]})}),e.jsx(Fv,{isOpen:C,onClose:()=>E(!1),onSelect:V=>{j(V),E(!1)},title:"Select Root Folder"}),b!==null&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/50 rounded-lg p-6 max-w-md w-full",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Delete Root Folder?"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Are you sure you want to remove this root folder? This will not delete any files, only remove it from Sportarr's configuration."}),e.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:()=>w(null),className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:()=>be(b),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Delete"})]})]})})]})]})}const Ma=a=>a.items!==void 0&&a.items!==null&&a.items.length>0,bh=a=>a.map(r=>({...r,items:r.items?r.items.map(l=>({...l})):void 0})),yh=[{name:"WEB 2160p",quality:19,allowed:!1,id:1019,items:[{name:"WEBDL-2160p",quality:18,allowed:!1,id:18},{name:"WEBRip-2160p",quality:17,allowed:!1,id:17}]},{name:"Bluray-2160p",quality:16,allowed:!1,id:16},{name:"Bluray-2160p Remux",quality:15,allowed:!1,id:15},{name:"HDTV-2160p",quality:14,allowed:!1,id:14},{name:"WEB 1080p",quality:13,allowed:!1,id:1013,items:[{name:"WEBDL-1080p",quality:12,allowed:!1,id:12},{name:"WEBRip-1080p",quality:11,allowed:!1,id:11}]},{name:"Bluray-1080p",quality:10,allowed:!1,id:10},{name:"Bluray-1080p Remux",quality:9,allowed:!1,id:9},{name:"HDTV-1080p",quality:8,allowed:!1,id:8},{name:"WEB 720p",quality:7,allowed:!1,id:1007,items:[{name:"WEBDL-720p",quality:6,allowed:!1,id:6},{name:"WEBRip-720p",quality:5,allowed:!1,id:5}]},{name:"Bluray-720p",quality:4,allowed:!1,id:4},{name:"HDTV-720p",quality:3,allowed:!1,id:3},{name:"Raw-HD",quality:2,allowed:!1,id:2},{name:"WEB 480p",quality:1,allowed:!1,id:1001,items:[{name:"WEBDL-480p",quality:-1,allowed:!1,id:-1},{name:"WEBRip-480p",quality:-2,allowed:!1,id:-2}]},{name:"Bluray-480p",quality:-3,allowed:!1,id:-3},{name:"DVD",quality:-4,allowed:!1,id:-4},{name:"SDTV",quality:-5,allowed:!1,id:-5},{name:"Unknown",quality:0,allowed:!1,id:0}];function IC({showAdvanced:a=!1}){var Mo,ii;const[r,l]=u.useState([]),[o,d]=u.useState([]),[h,f]=u.useState(null),[p,x]=u.useState(!1),[g,b]=u.useState(null),[w,T]=u.useState(!0),[j,C]=u.useState(!1),[E,S]=u.useState(null),[D,U]=u.useState(null),[y,F]=u.useState("alphabetical"),[te,z]=u.useState(!1),[k,K]=u.useState({}),[ne,_]=u.useState("default"),[we,Y]=u.useState(!1),[L,O]=u.useState([]),[be,I]=u.useState([]),[se,de]=u.useState(null),[V,je]=u.useState(!1),[B,R]=u.useState(null),[$,W]=u.useState([]),[he,Se]=u.useState([]),[Me,fe]=u.useState(null),[Re,_e]=u.useState(!1),[Ye,Je]=u.useState(null),[re,ke]=u.useState({name:"",isDefault:!1,upgradesAllowed:!0,cutoffQuality:null,items:bh(yh),formatItems:[],minFormatScore:0,cutoffFormatScore:1e4,formatScoreIncrement:1,minSize:null,maxSize:null}),[Fe,Ge]=u.useState({id:0,order:1,preferredProtocol:"Torrent",usenetDelay:0,torrentDelay:0,bypassIfHighestQuality:!1,bypassIfAboveCustomFormatScore:!1,minimumCustomFormatScore:0,tags:[]}),[Ve,q]=u.useState({name:"",enabled:!0,required:"",ignored:"",preferred:[],includePreferredWhenRenaming:!1,tags:[],indexerId:[]});u.useEffect(()=>{ye(),De(),N(),G(),P(),Te(),Ae()},[]);const ye=async()=>{try{const M=await fetch("/api/qualityprofile");if(M.ok){const le=await M.json();l(le)}}catch(M){console.error("Failed to load quality profiles:",M)}finally{T(!1)}},De=async()=>{try{const M=await fetch("/api/customformat");if(M.ok){const le=await M.json();d(le)}}catch(M){console.error("Failed to load custom formats:",M)}},N=async()=>{try{const M=await fetch("/api/delayprofile");if(M.ok){const le=await M.json();O(le)}}catch(M){console.error("Error loading delay profiles:",M)}},G=async()=>{try{const M=await fetch("/api/tag");if(M.ok){const le=await M.json();I(le)}}catch(M){console.error("Error loading tags:",M)}},P=async()=>{try{const M=await fetch("/api/releaseprofile");if(M.ok){const le=await M.json();W(le)}}catch(M){console.error("Error loading release profiles:",M)}},Te=async()=>{try{const M=await fetch("/api/indexer");if(M.ok){const le=await M.json();Se(le)}}catch(M){console.error("Error loading indexers:",M)}},Ae=async()=>{try{const M=await fetch("/api/trash/scoresets");if(M.ok){const le=await M.json();K(le)}}catch(M){console.error("Error loading TRaSH score sets:",M)}},J=async()=>{var M;if(!(h!=null&&h.id)){pe.error("Please save the profile first before applying TRaSH scores");return}Y(!0);try{const le=await fetch(`/api/trash/apply-scores/${h.id}?scoreSet=${ne}`,{method:"POST"});if(le.ok){const Oe=await le.json();if(Oe.success){pe.success("TRaSH Scores Applied",{description:`Updated ${Oe.updated} format scores, added ${Oe.created} new scores`}),await ye(),await De();const Le=await fetch(`/api/qualityprofile/${h.id}`);if(Le.ok){const kt=((M=(await Le.json()).formatItems)==null?void 0:M.map(He=>{const lt=o.find(ms=>ms.id===He.formatId);return{...He,formatName:(lt==null?void 0:lt.name)||`Format #${He.formatId}`,trashDefaultScore:lt==null?void 0:lt.trashDefaultScore,isSynced:lt==null?void 0:lt.isSynced}}))||[];ke(He=>({...He,formatItems:kt}))}z(!1)}else pe.error("Failed to apply scores",{description:Oe.error||"Unknown error"})}else pe.error("Failed to apply TRaSH scores")}catch(le){console.error("Error applying TRaSH scores:",le),pe.error("Failed to apply TRaSH scores")}finally{Y(!1)}},xe=()=>{f(null),C(!1),ke({name:"",isDefault:!1,upgradesAllowed:!0,cutoffQuality:null,items:bh(yh),formatItems:o.map(M=>({formatId:M.id,formatName:M.name,score:0})),minFormatScore:0,cutoffFormatScore:1e4,formatScoreIncrement:1,minSize:null,maxSize:null}),x(!0)},ze=M=>{var Oe;f(M),C(!1);const le=((Oe=M.formatItems)==null?void 0:Oe.map(Le=>{const Pe=o.find(kt=>kt.id===Le.formatId);return{...Le,formatName:(Pe==null?void 0:Pe.name)||Le.formatName||`Format ${Le.formatId}`,trashDefaultScore:Pe==null?void 0:Pe.trashDefaultScore,isSynced:Pe==null?void 0:Pe.isSynced}}))||[];ke({...M,formatItems:le}),x(!0)},ae=M=>{var Oe;f(null),C(!1);const le=((Oe=M.formatItems)==null?void 0:Oe.map(Le=>{const Pe=o.find(kt=>kt.id===Le.formatId);return{...Le,formatName:(Pe==null?void 0:Pe.name)||Le.formatName||`Format ${Le.formatId}`,trashDefaultScore:Pe==null?void 0:Pe.trashDefaultScore,isSynced:Pe==null?void 0:Pe.isSynced}}))||[];ke({...M,id:void 0,name:`${M.name} (Copy)`,isDefault:!1,items:bh(M.items),formatItems:le}),x(!0)},$e=async()=>{if(re.name)try{const M=h?`/api/qualityprofile/${h.id}`:"/api/qualityprofile",Oe=await fetch(M,{method:h?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)});if(Oe.ok)await ye(),x(!1),f(null);else if(Oe.status===400){const Le=await Oe.json();alert(Le.error||"A quality profile with this name already exists")}}catch(M){console.error("Failed to save quality profile:",M)}},Qe=async M=>{try{(await fetch(`/api/qualityprofile/${M}`,{method:"DELETE"})).ok&&(await ye(),b(null))}catch(le){console.error("Failed to delete quality profile:",le)}},Yt=async M=>{try{const le=r.map(Oe=>({...Oe,isDefault:Oe.id===M}));for(const Oe of le){const Le=await fetch(`/api/qualityprofile/${Oe.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Oe)});if(!Le.ok){const Pe=await Le.json();console.error("Failed to update profile:",Pe),alert(`Failed to set default profile: ${Pe.error||"Unknown error"}`);return}}await ye()}catch(le){console.error("Failed to set default quality profile:",le),alert("Failed to set default quality profile. Check console for details.")}},Ot=(M,le=!1)=>{ke(Oe=>{var Le;return{...Oe,items:(Le=Oe.items)==null?void 0:Le.map(Pe=>{if(Pe.id===M){const kt=!Pe.allowed;return le&&Pe.items?{...Pe,allowed:kt,items:Pe.items.map(He=>({...He,allowed:kt}))}:{...Pe,allowed:kt}}if(Pe.items){const kt=Pe.items.map(lt=>lt.id===M?{...lt,allowed:!lt.allowed}:lt),He=kt.some(lt=>lt.allowed);return{...Pe,items:kt,allowed:He}}return Pe})}})},ot=M=>{M!==0&&ke(le=>{const Oe=[...le.items||[]];return[Oe[M-1],Oe[M]]=[Oe[M],Oe[M-1]],{...le,items:Oe}})},Nt=M=>{ke(le=>{const Oe=le.items||[];if(M>=Oe.length-1)return le;const Le=[...Oe];return[Le[M],Le[M+1]]=[Le[M+1],Le[M]],{...le,items:Le}})},St=M=>{ke(le=>{const Oe=[...le.items||[]],Le=Oe[M];return Ma(Le)?le:(Oe[M]={name:Le.name,quality:Le.quality,allowed:Le.allowed,id:Le.id?Le.id+1e3:1e3+M,items:[{...Le}]},{...le,items:Oe})})},Ks=M=>{ke(le=>{const Oe=[...le.items||[]],Le=Oe[M];return!Ma(Le)||!Le.items?le:(Oe.splice(M,1,...Le.items),{...le,items:Oe})})},Zs=(M,le,Oe,Le)=>{S({index:le,isGroup:Oe,parentIndex:Le}),M.dataTransfer.effectAllowed="move"},et=(M,le,Oe,Le)=>{var kt;if(M.preventDefault(),!E)return;if(E.index===le&&E.parentIndex===Le){U(null);return}const Pe=(kt=M.target.closest("[data-droppable]"))==null?void 0:kt.getBoundingClientRect();if(Pe){const He=Pe.top+Pe.height/2,lt=M.clientY<He?"above":"below";U({index:le,parentIndex:Le,position:lt})}},cs=M=>{const le=M.relatedTarget;le!=null&&le.closest("[data-droppable]")||U(null)},xs=()=>{S(null),U(null)},ds=(M,le,Oe,Le)=>{if(M.preventDefault(),!E)return;let Pe=le;(D==null?void 0:D.position)==="below"&&(Pe=le+1),ke(kt=>{const He=[...kt.items||[]];if(E.parentIndex===void 0&&Le===void 0){const[lt]=He.splice(E.index,1),ms=Pe>E.index?Pe-1:Pe;He.splice(ms,0,lt)}else if(E.parentIndex!==void 0&&Le!==void 0&&E.parentIndex===Le){const lt=He[Le];if(lt.items){const ms=[...lt.items],[gs]=ms.splice(E.index,1),Xs=Pe>E.index?Pe-1:Pe;ms.splice(Xs,0,gs),He[Le]={...lt,items:ms}}}else if(E.parentIndex===void 0&&Le!==void 0){const[lt]=He.splice(E.index,1),ms=Le>E.index?Le-1:Le,gs=He[ms];if(gs.items){const Xs=[...gs.items];Xs.splice(Pe,0,lt),He[ms]={...gs,items:Xs}}}else if(E.parentIndex!==void 0&&Le===void 0){const lt=He[E.parentIndex];if(lt.items){const ms=[...lt.items],[gs]=ms.splice(E.index,1);He[E.parentIndex]={...lt,items:ms},He.splice(Pe,0,gs)}}return{...kt,items:He}}),S(null),U(null)},Ct=(M,le)=>{ke(Oe=>{var Le;return{...Oe,formatItems:(Le=Oe.formatItems)==null?void 0:Le.map(Pe=>Pe.formatId===M?{...Pe,score:le}:Pe)}})},ka=M=>{if(M==null)return"Not Set";for(const le of yh){if(le.quality===M||le.id===M)return le.name;if(le.items){const Oe=le.items.find(Le=>Le.quality===M||Le.id===M);if(Oe)return Oe.name}}return"Unknown"},Xe=M=>{if(M.cutoffQuality===null||M.cutoffQuality===void 0)return"Not Set";for(const le of M.items){if(le.quality===M.cutoffQuality)return le.name;if(le.items){const Oe=le.items.find(Le=>Le.quality===M.cutoffQuality);if(Oe)return Oe.name}}return ka(M.cutoffQuality)},gt=M=>{if(!M)return[];const le=[];for(const Oe of M)if(Oe.allowed&&le.push(Oe),Oe.items)for(const Le of Oe.items)Le.allowed&&le.push(Le);return le},jt=async()=>{try{const M=se?`/api/delayprofile/${se.id}`:"/api/delayprofile";(await fetch(M,{method:se?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Fe)})).ok&&(await N(),je(!1),de(null),X())}catch(M){console.error("Error saving delay profile:",M)}},ls=async M=>{try{(await fetch(`/api/delayprofile/${M}`,{method:"DELETE"})).ok&&(await N(),R(null))}catch(le){console.error("Error deleting delay profile:",le)}},Vt=M=>{de(M),Ge({...M}),je(!0)},Fs=()=>{de(null),X(),je(!0)},X=()=>{Ge({id:0,order:L.length+1,preferredProtocol:"Torrent",usenetDelay:0,torrentDelay:0,bypassIfHighestQuality:!1,bypassIfAboveCustomFormatScore:!1,minimumCustomFormatScore:0,tags:[]})},Ee=M=>{Ge(le=>({...le,tags:le.tags.includes(M)?le.tags.filter(Oe=>Oe!==M):[...le.tags,M]}))},st=M=>M.length===0?"All Events (Default)":M.map(le=>{var Oe;return((Oe=be.find(Le=>Le.id===le))==null?void 0:Oe.label)||"Unknown"}).join(", "),us=async()=>{if(Ve.name)try{const M=Me?`/api/releaseprofile/${Me.id}`:"/api/releaseprofile";(await fetch(M,{method:Me?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ve)})).ok&&(await P(),_e(!1),fe(null),la())}catch(M){console.error("Error saving release profile:",M)}},Ts=async M=>{try{(await fetch(`/api/releaseprofile/${M}`,{method:"DELETE"})).ok&&(await P(),Je(null))}catch(le){console.error("Error deleting release profile:",le)}},Ea=M=>{fe(M),q({...M}),_e(!0)},qa=()=>{fe(null),la(),_e(!0)},la=()=>{q({name:"",enabled:!0,required:"",ignored:"",preferred:[],includePreferredWhenRenaming:!1,tags:[],indexerId:[]})},Ht=M=>{q(le=>({...le,tags:le.tags.includes(M)?le.tags.filter(Oe=>Oe!==M):[...le.tags,M]}))},Kt=M=>{q(le=>({...le,indexerId:le.indexerId.includes(M)?le.indexerId.filter(Oe=>Oe!==M):[...le.indexerId,M]}))},$a=()=>{q(M=>({...M,preferred:[...M.preferred,{key:"",value:0}]}))},ll=(M,le,Oe)=>{q(Le=>({...Le,preferred:Le.preferred.map((Pe,kt)=>kt===M?{...Pe,[le]:Oe}:Pe)}))},zd=M=>{q(le=>({...le,preferred:le.preferred.filter((Oe,Le)=>Le!==M)}))};return w?e.jsx("div",{className:"max-w-6xl mx-auto text-center py-12",children:e.jsx("div",{className:"text-gray-400",children:"Loading profiles..."})}):e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Quality Profiles"}),e.jsx("p",{className:"text-gray-400",children:"Quality profiles determine which releases Sportarr will download and upgrade"})]}),e.jsxs("div",{className:"mb-8 bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-white",children:"Profiles"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Configure quality settings and custom format scoring"})]}),e.jsxs("button",{onClick:xe,className:"flex items-center px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:[e.jsx(ws,{className:"w-4 h-4 mr-2"}),"Add Profile"]})]}),r.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx("p",{className:"mb-2",children:"No quality profiles configured"}),e.jsx("p",{className:"text-sm",children:"Create your first profile to get started"})]}):e.jsx("div",{className:"space-y-3",children:r.map(M=>e.jsxs("div",{className:"group bg-black/30 border border-gray-800 hover:border-red-900/50 rounded-lg p-4 transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h4",{className:"text-lg font-semibold text-white",children:M.name}),M.isDefault&&e.jsx("span",{className:"px-2 py-0.5 bg-blue-900/30 text-blue-400 text-xs rounded font-semibold",children:" Default"}),M.upgradesAllowed&&e.jsx("span",{className:"px-2 py-0.5 bg-green-900/30 text-green-400 text-xs rounded",children:"Upgrades Allowed"})]}),e.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-400",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Cutoff:"})," ",e.jsx("span",{className:"text-white",children:Xe(M)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Qualities:"})," ",e.jsxs("span",{className:"text-white",children:[M.items.filter(le=>le.allowed).length," enabled"]})]}),a&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Format Score:"})," ",e.jsxs("span",{className:"text-white",children:[M.minFormatScore," - ",M.cutoffFormatScore]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[!M.isDefault&&e.jsx("button",{onClick:()=>Yt(M.id),className:"px-3 py-1.5 text-sm bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors",title:"Set as Default",children:"Set Default"}),e.jsx("button",{onClick:()=>ze(M),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded transition-colors",title:"Edit",children:e.jsx(Xa,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>ae(M),className:"p-2 text-gray-400 hover:text-blue-400 hover:bg-blue-950/30 rounded transition-colors",title:"Clone Profile",children:e.jsx(Ky,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>b(M.id),className:"p-2 text-gray-400 hover:text-red-400 hover:bg-red-950/30 rounded transition-colors",title:"Delete",children:e.jsx(vt,{className:"w-5 h-5"})})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-800",children:e.jsx("div",{className:"grid grid-cols-3 gap-2",children:M.items.filter(le=>le.allowed).map(le=>e.jsxs("div",{className:"px-3 py-2 rounded text-sm bg-green-950/30 text-green-400 border border-green-900/50",children:[" ",le.name]},le.quality))})})]},M.id))})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Delay Profiles"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Delay profiles allow you to reduce the number of releases downloaded by adding a delay while Sportarr continues to watch for better releases"}),e.jsxs("div",{className:"mb-6 bg-gradient-to-br from-blue-950/30 to-blue-900/20 border border-blue-900/50 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"How Delay Profiles Work"}),e.jsxs("ul",{className:"text-sm text-gray-300 space-y-2",children:[e.jsx("li",{children:" Timer begins when Sportarr detects an event has a release available"}),e.jsx("li",{children:" During the delay period, any new releases are noted by Sportarr"}),e.jsx("li",{children:" When the delay timer expires, Sportarr downloads the single release which best matches your quality preferences"}),e.jsx("li",{children:" Timer starts from the releases uploaded time (not when Sportarr sees it)"}),e.jsx("li",{children:" Manual searches ignore delay profile settings"})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white",children:"Delay Profiles"}),e.jsxs("button",{onClick:Fs,className:"flex items-center px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:[e.jsx(ws,{className:"w-4 h-4 mr-2"}),"Add Delay Profile"]})]}),L.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500 mb-4",children:"No delay profiles configured"})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-800",children:[e.jsx("th",{className:"text-left py-3 px-4 text-gray-400 font-medium w-12",children:"#"}),e.jsx("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"Protocol"}),e.jsx("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"Usenet Delay"}),e.jsx("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"Torrent Delay"}),e.jsx("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"Tags"}),e.jsx("th",{className:"text-right py-3 px-4 text-gray-400 font-medium",children:"Actions"})]})}),e.jsx("tbody",{children:L.map(M=>e.jsxs("tr",{className:"border-b border-gray-800 hover:bg-gray-900/50 transition-colors",children:[e.jsx("td",{className:"py-3 px-4 text-gray-400",children:e.jsx(rh,{className:"w-5 h-5"})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${M.preferredProtocol==="Usenet"?"bg-purple-900/30 text-purple-400":"bg-green-900/30 text-green-400"}`,children:M.preferredProtocol})}),e.jsxs("td",{className:"py-3 px-4 text-white",children:[M.usenetDelay," min"]}),e.jsxs("td",{className:"py-3 px-4 text-white",children:[M.torrentDelay," min"]}),e.jsx("td",{className:"py-3 px-4 text-gray-400",children:st(M.tags)}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>Vt(M),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded transition-colors",title:"Edit",children:e.jsx(Xa,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>R(M.id),className:"p-2 text-gray-400 hover:text-red-400 hover:bg-red-950/30 rounded transition-colors",title:"Delete",children:e.jsx(vt,{className:"w-5 h-5"})})]})})]},M.id))})]})})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Release Profiles"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Filter and score releases based on preferred or unwanted keywords using regex patterns"}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white",children:"Release Profiles"}),e.jsxs("button",{onClick:qa,className:"flex items-center px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:[e.jsx(ws,{className:"w-4 h-4 mr-2"}),"Add Release Profile"]})]}),$.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500 mb-4",children:"No release profiles configured"})}):e.jsx("div",{className:"space-y-3",children:$.map(M=>e.jsx("div",{className:"group bg-black/30 border border-gray-800 hover:border-red-900/50 rounded-lg p-4 transition-all",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h4",{className:"text-lg font-semibold text-white",children:M.name}),M.enabled?e.jsx("span",{className:"px-2 py-0.5 bg-green-900/30 text-green-400 text-xs rounded",children:"Enabled"}):e.jsx("span",{className:"px-2 py-0.5 bg-gray-700 text-gray-400 text-xs rounded",children:"Disabled"})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-400",children:[M.required&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Required:"})," ",e.jsxs("span",{className:"text-green-400",children:[M.required.split(",").length," term(s)"]})]}),M.ignored&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Ignored:"})," ",e.jsxs("span",{className:"text-red-400",children:[M.ignored.split(",").length," term(s)"]})]}),M.preferred.length>0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Preferred:"})," ",e.jsxs("span",{className:"text-purple-400",children:[M.preferred.length," term(s)"]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>Ea(M),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded transition-colors",title:"Edit",children:e.jsx(Xa,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>Je(M.id),className:"p-2 text-gray-400 hover:text-red-400 hover:bg-red-950/30 rounded transition-colors",title:"Delete",children:e.jsx(vt,{className:"w-5 h-5"})})]})]})},M.id))})]})]}),p&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/50 rounded-lg p-6 max-w-4xl w-full my-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:h?`Edit ${h.name}`:"Add Quality Profile"}),e.jsx("button",{onClick:()=>x(!1),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded transition-colors",children:e.jsx(pt,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto pr-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Name *"}),e.jsx("input",{type:"text",value:re.name||"",onChange:M=>ke(le=>({...le,name:M.target.value})),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",placeholder:"4K Quality"})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:re.upgradesAllowed||!1,onChange:M=>ke(le=>({...le,upgradesAllowed:M.target.checked})),className:"w-4 h-4 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Upgrades Allowed (If disabled qualities will not be upgraded)"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-white",children:"Qualities"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Qualities higher in the list are more preferred. Qualities within the same group are equal. Only checked qualities are wanted."})]}),e.jsx("button",{onClick:()=>C(!j),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${j?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-700 hover:bg-gray-600 text-white"}`,children:j?"Done Editing Groups":"Edit Groups"})]}),e.jsx("div",{className:"bg-black/30 rounded-lg p-2 max-h-80 overflow-y-auto",children:(Mo=re.items)==null?void 0:Mo.map((M,le)=>{var kt;const Oe=(E==null?void 0:E.index)===le&&(E==null?void 0:E.parentIndex)===void 0,Le=(D==null?void 0:D.index)===le&&(D==null?void 0:D.parentIndex)===void 0&&(D==null?void 0:D.position)==="above",Pe=(D==null?void 0:D.index)===le&&(D==null?void 0:D.parentIndex)===void 0&&(D==null?void 0:D.position)==="below";return e.jsxs("div",{className:"mb-1",children:[Le&&e.jsx("div",{className:"h-1 bg-blue-500 rounded-full mx-2 mb-1 animate-pulse"}),e.jsxs("div",{"data-droppable":"true",draggable:j,onDragStart:He=>Zs(He,le,Ma(M)),onDragOver:He=>et(He,le,Ma(M)),onDragLeave:cs,onDragEnd:xs,onDrop:He=>ds(He,le,Ma(M)),className:`flex items-center px-3 py-2 rounded transition-all ${M.allowed?"bg-green-950/30 border border-green-900/50":"bg-gray-900/50 border border-gray-800"} ${j?"cursor-grab hover:border-blue-500":""} ${Oe?"opacity-50 border-dashed border-blue-500":""}`,children:[j&&e.jsx("div",{className:"mr-2 text-gray-500",children:e.jsx(rh,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Ot(M.id,Ma(M)),className:`w-5 h-5 mr-3 rounded border flex items-center justify-center transition-colors ${M.allowed?"bg-green-600 border-green-600 text-white":"bg-transparent border-gray-600 text-transparent hover:border-gray-500"}`,children:M.allowed&&e.jsx("span",{className:"text-xs",children:""})}),e.jsxs("div",{className:"flex-1 flex items-center flex-wrap gap-1",children:[e.jsx("span",{className:`text-sm ${M.allowed?"text-green-400":"text-gray-400"}`,children:M.name}),Ma(M)&&M.items&&!j&&e.jsx("div",{className:"flex flex-wrap gap-1 ml-2",children:M.items.map(He=>e.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${He.allowed?"bg-green-900/40 text-green-400 border border-green-800/50":"bg-gray-800/60 text-gray-500 border border-gray-700/50"}`,children:He.name},He.id??He.quality))})]}),j&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{onClick:()=>ot(le),disabled:le===0,className:"p-1 text-gray-500 hover:text-white disabled:opacity-30 disabled:cursor-not-allowed",title:"Move up",children:e.jsx(Fa,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Nt(le),disabled:le===(((kt=re.items)==null?void 0:kt.length)??0)-1,className:"p-1 text-gray-500 hover:text-white disabled:opacity-30 disabled:cursor-not-allowed",title:"Move down",children:e.jsx(Ss,{className:"w-4 h-4"})}),Ma(M)?e.jsx("button",{onClick:()=>Ks(le),className:"p-1 text-gray-500 hover:text-red-400",title:"Ungroup",children:e.jsx(oS,{className:"w-4 h-4"})}):e.jsx("button",{onClick:()=>St(le),className:"p-1 text-gray-500 hover:text-blue-400",title:"Create group",children:e.jsx(uS,{className:"w-4 h-4"})})]})]}),Pe&&!Ma(M)&&e.jsx("div",{className:"h-1 bg-blue-500 rounded-full mx-2 mt-1 animate-pulse"}),j&&Ma(M)&&M.items&&e.jsx("div",{className:"ml-6 border-l border-gray-700",children:M.items.map((He,lt)=>{const ms=(E==null?void 0:E.index)===lt&&(E==null?void 0:E.parentIndex)===le,gs=(D==null?void 0:D.index)===lt&&(D==null?void 0:D.parentIndex)===le&&(D==null?void 0:D.position)==="above",Xs=(D==null?void 0:D.index)===lt&&(D==null?void 0:D.parentIndex)===le&&(D==null?void 0:D.position)==="below";return e.jsxs("div",{children:[gs&&e.jsx("div",{className:"h-1 bg-blue-500 rounded-full mx-2 mb-1 animate-pulse"}),e.jsxs("div",{"data-droppable":"true",draggable:j,onDragStart:yn=>Zs(yn,lt,!1,le),onDragOver:yn=>et(yn,lt,!1,le),onDragLeave:cs,onDragEnd:xs,onDrop:yn=>ds(yn,lt,!1,le),className:`flex items-center px-3 py-2 ml-2 rounded transition-all ${He.allowed?"bg-green-950/30 border border-green-900/50":"bg-gray-900/50 border border-gray-800"} cursor-grab hover:border-blue-500 ${ms?"opacity-50 border-dashed border-blue-500":""}`,children:[e.jsx("div",{className:"mr-2 text-gray-500",children:e.jsx(rh,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Ot(He.id,!1),className:`w-5 h-5 mr-3 rounded border flex items-center justify-center transition-colors ${He.allowed?"bg-green-600 border-green-600 text-white":"bg-transparent border-gray-600 text-transparent hover:border-gray-500"}`,children:He.allowed&&e.jsx("span",{className:"text-xs",children:""})}),e.jsx("span",{className:`flex-1 text-sm ${He.allowed?"text-green-400":"text-gray-400"}`,children:He.name})]}),Xs&&e.jsx("div",{className:"h-1 bg-blue-500 rounded-full mx-2 mt-1 animate-pulse"})]},He.id??He.quality)})}),Pe&&Ma(M)&&e.jsx("div",{className:"h-1 bg-blue-500 rounded-full mx-2 mt-1 animate-pulse"})]},M.id??M.quality)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Upgrade Until"}),e.jsxs("select",{value:re.cutoffQuality||"",onChange:M=>ke(le=>({...le,cutoffQuality:parseInt(M.target.value)||null})),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",children:[e.jsx("option",{value:"",children:"Select upgrade cutoff..."}),gt(re.items).map(M=>e.jsx("option",{value:M.id??M.quality,children:M.name},M.id??M.quality))]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Once this quality is reached Sportarr will no longer download episodes"})]}),e.jsxs("div",{className:"space-y-4 p-4 bg-purple-950/10 border border-purple-900/30 rounded-lg",children:[e.jsx("h4",{className:"text-lg font-semibold text-white",children:"Custom Formats"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Sportarr scores each release using the sum of scores for matching custom formats. If a new release would improve the score, at the same or better quality, then Sportarr will grab it."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2 h-10 flex items-end",children:"Minimum Custom Format Score"}),e.jsx("input",{type:"number",value:re.minFormatScore||0,onChange:M=>ke(le=>({...le,minFormatScore:parseInt(M.target.value)||0})),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1 min-h-[2.5rem]",children:"Minimum custom format score allowed to download"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2 h-10 flex items-end",children:"Upgrade Until Custom Format Score"}),e.jsx("input",{type:"number",value:re.cutoffFormatScore||1e4,onChange:M=>ke(le=>({...le,cutoffFormatScore:parseInt(M.target.value)||1e4})),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1 min-h-[2.5rem]",children:"Once this score is reached Sportarr will no longer grab releases"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2 h-10 flex items-end",children:"Minimum Score Increment"}),e.jsx("input",{type:"number",value:re.formatScoreIncrement||1,onChange:M=>ke(le=>({...le,formatScoreIncrement:parseInt(M.target.value)||1})),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1 min-h-[2.5rem]",children:"Minimum improvement needed before considering it an upgrade"})]})]}),o.length>0?e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h5",{className:"text-md font-semibold text-white",children:"Custom Format Scoring"}),(h==null?void 0:h.id)&&e.jsxs("button",{onClick:()=>z(!0),className:"flex items-center gap-1.5 px-3 py-1 bg-purple-600 hover:bg-purple-700 text-white text-sm rounded-lg transition-colors",title:"Apply recommended scores from TRaSH Guides",children:[e.jsx(oo,{className:"w-4 h-4"}),"Apply TRaSH Scores"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Sort by:"}),e.jsxs("select",{value:y,onChange:M=>F(M.target.value),className:"px-3 py-1 bg-gray-800 border border-gray-700 rounded text-sm text-white focus:outline-none focus:border-purple-600",children:[e.jsx("option",{value:"alphabetical",children:"Name (A-Z)"}),e.jsx("option",{value:"score",children:"Score"})]})]})]}),e.jsx("div",{className:"max-h-[32rem] overflow-y-auto space-y-2 p-3 bg-black/30 rounded-lg",children:(ii=re.formatItems)==null?void 0:ii.slice().sort((M,le)=>y==="alphabetical"?(M.formatName||"").localeCompare(le.formatName||""):le.score!==M.score?le.score-M.score:(M.formatName||"").localeCompare(le.formatName||"")).map(M=>e.jsxs("div",{className:`flex items-center justify-between p-2 rounded hover:bg-gray-800 transition-colors ${M.isSynced?"bg-purple-900/20 border-l-2 border-purple-500":"bg-gray-800/50"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-white font-medium",children:M.formatName}),M.isSynced&&e.jsx("span",{className:"text-[10px] bg-purple-600/50 text-purple-300 px-1.5 py-0.5 rounded",title:"Synced from TRaSH Guides",children:"TRaSH"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[M.isSynced&&M.trashDefaultScore!==null&&M.trashDefaultScore!==void 0&&e.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded ${M.score===M.trashDefaultScore?"bg-green-900/30 text-green-400":"bg-yellow-900/30 text-yellow-400"}`,title:M.score===M.trashDefaultScore?"Using TRaSH recommended score":`TRaSH recommends: ${M.trashDefaultScore>0?"+":""}${M.trashDefaultScore}`,children:M.score===M.trashDefaultScore?"REC":`${M.trashDefaultScore>0?"+":""}${M.trashDefaultScore}`}),e.jsx("input",{type:"number",value:M.score,onChange:le=>Ct(M.formatId,parseInt(le.target.value)||0),className:"w-24 px-3 py-1 bg-gray-900 border border-gray-700 rounded text-white text-center focus:outline-none focus:border-purple-600",placeholder:"0"}),e.jsxs("span",{className:`text-xs px-2 py-1 rounded min-w-[60px] text-center ${M.score>0?"bg-green-900/30 text-green-400":M.score<0?"bg-red-900/30 text-red-400":"bg-gray-700 text-gray-400"}`,children:[M.score>0?"+":"",M.score]})]})]},M.formatId))})]}):e.jsxs("div",{className:"p-6 bg-black/30 rounded-lg text-center",children:[e.jsx("p",{className:"text-gray-500 mb-2",children:"No custom formats configured"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Create custom formats in Settings  Custom Formats to enable scoring"})]})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-800 flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:$e,disabled:!re.name,className:"px-4 py-2 bg-red-600 hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg transition-colors",children:"Save"})]})]})}),g!==null&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/50 rounded-lg p-6 max-w-md w-full",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Delete Profile?"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Are you sure you want to delete this quality profile? This action cannot be undone."}),e.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:()=>b(null),className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:()=>Qe(g),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Delete"})]})]})}),V&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/50 rounded-lg p-6 max-w-2xl w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:se?"Edit Delay Profile":"Add Delay Profile"}),e.jsx("button",{onClick:()=>{je(!1),de(null)},className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded transition-colors",children:e.jsx(pt,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Preferred Protocol"}),e.jsxs("select",{value:Fe.preferredProtocol,onChange:M=>Ge({...Fe,preferredProtocol:M.target.value}),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",children:[e.jsx("option",{value:"Usenet",children:"Usenet"}),e.jsx("option",{value:"Torrent",children:"Torrent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Usenet Delay (minutes)"}),e.jsx("input",{type:"number",min:"0",value:Fe.usenetDelay,onChange:M=>Ge({...Fe,usenetDelay:parseInt(M.target.value)||0}),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Torrent Delay (minutes)"}),e.jsx("input",{type:"number",min:"0",value:Fe.torrentDelay,onChange:M=>Ge({...Fe,torrentDelay:parseInt(M.target.value)||0}),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600"})]}),e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:Fe.bypassIfHighestQuality,onChange:M=>Ge({...Fe,bypassIfHighestQuality:M.target.checked}),className:"mt-1 w-4 h-4 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Bypass if Highest Quality"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Bypass delay when release has the highest enabled quality profile with the preferred protocol"})]})]}),a&&e.jsxs(e.Fragment,{children:[e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:Fe.bypassIfAboveCustomFormatScore,onChange:M=>Ge({...Fe,bypassIfAboveCustomFormatScore:M.target.checked}),className:"mt-1 w-4 h-4 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Bypass if Above Custom Format Score"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Bypass delay when custom format score is above minimum"})]})]}),Fe.bypassIfAboveCustomFormatScore&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Minimum Custom Format Score"}),e.jsx("input",{type:"number",value:Fe.minimumCustomFormatScore,onChange:M=>Ge({...Fe,minimumCustomFormatScore:parseInt(M.target.value)||0}),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tags (Leave empty for default profile)"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[be.map(M=>e.jsx("button",{onClick:()=>Ee(M.id),className:`px-3 py-1 rounded text-sm transition-colors ${Fe.tags.includes(M.id)?"bg-red-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:M.label},M.id)),be.length===0&&e.jsx("p",{className:"text-sm text-gray-500",children:"No tags available. Create tags in the Tags settings."})]})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-800 flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{je(!1),de(null)},className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:jt,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Save"})]})]})}),B!==null&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/50 rounded-lg p-6 max-w-md w-full",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Delete Delay Profile?"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Are you sure you want to delete this delay profile? This action cannot be undone."}),e.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:()=>R(null),className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:()=>ls(B),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Delete"})]})]})}),Re&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/50 rounded-lg p-6 max-w-4xl w-full my-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:Me?"Edit Release Profile":"Add Release Profile"}),e.jsx("button",{onClick:()=>{_e(!1),fe(null)},className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded transition-colors",children:e.jsx(pt,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto pr-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Name *"}),e.jsx("input",{type:"text",value:Ve.name,onChange:M=>q({...Ve,name:M.target.value}),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",placeholder:"HD Releases"})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:Ve.enabled,onChange:M=>q({...Ve,enabled:M.target.checked}),className:"w-4 h-4 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Enable this release profile"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Required Keywords"}),e.jsx("textarea",{value:Ve.required,onChange:M=>q({...Ve,required:M.target.value}),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600 font-mono text-sm",placeholder:"1080p, BluRay",rows:3}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Comma-separated regex patterns. Release must contain at least one of these terms."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Ignored Keywords"}),e.jsx("textarea",{value:Ve.ignored,onChange:M=>q({...Ve,ignored:M.target.value}),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600 font-mono text-sm",placeholder:"HDCAM, CAM",rows:3}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Comma-separated regex patterns. Release will be rejected if it contains any of these terms."})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Preferred Keywords (with scores)"}),e.jsx("button",{onClick:$a,className:"px-3 py-1 bg-purple-600 hover:bg-purple-700 text-white text-sm rounded transition-colors",children:"Add Preferred"})]}),Ve.preferred.length===0?e.jsx("div",{className:"p-4 bg-black/30 rounded-lg text-center text-gray-500 text-sm",children:'No preferred keywords. Click "Add Preferred" to add scoring rules.'}):e.jsx("div",{className:"space-y-2",children:Ve.preferred.map((M,le)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"text",value:M.key,onChange:Oe=>ll(le,"key",Oe.target.value),className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-purple-600 font-mono text-sm",placeholder:"REPACK|PROPER"}),e.jsx("input",{type:"number",value:M.value,onChange:Oe=>ll(le,"value",parseInt(Oe.target.value)||0),className:"w-24 px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-purple-600 text-center",placeholder:"Score"}),e.jsx("button",{onClick:()=>zd(le),className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-950/30 rounded transition-colors",children:e.jsx(vt,{className:"w-5 h-5"})})]},le))}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add score (positive or negative) to releases matching these regex patterns."})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:Ve.includePreferredWhenRenaming,onChange:M=>q({...Ve,includePreferredWhenRenaming:M.target.checked}),className:"w-4 h-4 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Include preferred when renaming"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tags (Leave empty to apply to all)"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[be.map(M=>e.jsx("button",{onClick:()=>Ht(M.id),className:`px-3 py-1 rounded text-sm transition-colors ${Ve.tags.includes(M.id)?"bg-red-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:M.label},M.id)),be.length===0&&e.jsx("p",{className:"text-sm text-gray-500",children:"No tags available. Create tags in the Tags settings."})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Indexers (Leave empty to apply to all)"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[he.map(M=>e.jsx("button",{onClick:()=>Kt(M.id),className:`px-3 py-1 rounded text-sm transition-colors ${Ve.indexerId.includes(M.id)?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:M.name},M.id)),he.length===0&&e.jsx("p",{className:"text-sm text-gray-500",children:"No indexers configured. Add indexers in the Indexers settings."})]})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-800 flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{_e(!1),fe(null)},className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:us,disabled:!Ve.name,className:"px-4 py-2 bg-red-600 hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg transition-colors",children:"Save"})]})]})}),Ye!==null&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/50 rounded-lg p-6 max-w-md w-full",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Delete Release Profile?"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Are you sure you want to delete this release profile? This action cannot be undone."}),e.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:()=>Je(null),className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:()=>Ts(Ye),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Delete"})]})]})}),te&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-purple-900/50 rounded-lg p-6 max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(oo,{className:"w-8 h-8 text-purple-500"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Apply TRaSH Scores"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Set recommended scores from TRaSH Guides for all synced custom formats"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Score Set"}),e.jsx("select",{value:ne,onChange:M=>_(M.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-purple-600",children:Object.entries(k).map(([M,le])=>e.jsx("option",{value:M,children:le},M))}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Different score sets are optimized for different language preferences"})]}),e.jsx("div",{className:"bg-yellow-900/20 border border-yellow-800/50 rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-yellow-200",children:"This will update scores for all TRaSH-synced custom formats in this profile. Custom formats you've manually added will not be affected."})})]}),e.jsxs("div",{className:"mt-6 flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:()=>z(!1),className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:J,disabled:we,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-600 text-white rounded-lg transition-colors",children:we?e.jsxs(e.Fragment,{children:[e.jsx(Rt,{className:"w-4 h-4 animate-spin"}),"Applying..."]}):e.jsxs(e.Fragment,{children:[e.jsx(oo,{className:"w-4 h-4"}),"Apply Scores"]})})]})]})})]})}function QC({showAdvanced:a=!1}){const[r,l]=u.useState([]),[o,d]=u.useState(!0),[h,f]=u.useState(!1),[p,x]=u.useState(!1),g=u.useRef(null);li(p),u.useEffect(()=>{b()},[]);const b=async()=>{try{const j=await fetch("/api/qualitydefinition");if(j.ok){const C=await j.json();l(C),g.current=C,x(!1)}}catch(j){console.error("Failed to load quality definitions:",j)}finally{d(!1)}};u.useEffect(()=>{if(!g.current)return;const j=JSON.stringify(r)!==JSON.stringify(g.current);x(j)},[r]);const w=(j,C,E)=>{l(S=>S.map(D=>D.id===j?{...D,[C]:E}:D))},T=async()=>{f(!0);try{(await fetch("/api/qualitydefinition/bulk",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok&&(await b(),g.current=r,x(!1))}catch(j){console.error("Failed to save quality definitions:",j)}finally{f(!1)}};return o?e.jsx("div",{className:"max-w-6xl mx-auto text-center py-12",children:e.jsx("div",{className:"text-gray-400",children:"Loading quality definitions..."})}):e.jsxs("div",{children:[e.jsx(ni,{title:"Quality Definitions",subtitle:"Quality settings control file size limits for each quality level",onSave:T,isSaving:h,hasUnsavedChanges:p,saveButtonText:"Save Changes"}),e.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[e.jsx("div",{className:"mb-8 bg-blue-950/30 border border-blue-900/50 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(ja,{className:"w-6 h-6 text-blue-400 mr-3 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"About Quality Definitions"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-400 mr-2",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:"Min Size:"})," Minimum file size per hour of content. Files smaller will be rejected."]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-400 mr-2",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:"Max Size:"})," Maximum file size per hour. Files larger will be rejected."]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-400 mr-2",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:"Preferred Size:"})," Target size for upgrades. Sportarr will upgrade to releases closer to this size."]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-400 mr-2",children:""}),e.jsx("span",{children:"Combat sports events typically range from 2-5 hours. A 3-hour UFC event at 25 GB/hr would be 75 GB total."})]})]})]})]})}),e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Sizes are per hour of content. Adjust based on your preferences and storage capacity."}),e.jsxs("a",{href:"https://trash-guides.info/",target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white font-medium rounded-lg transition-all inline-flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"Visit TRaSH Guides"]})]}),e.jsx("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-black/50 border-b border-red-900/30",children:[e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-white",children:"Quality"}),e.jsxs("th",{className:"px-6 py-4 text-left text-sm font-semibold text-white",children:["Min Size",e.jsx("span",{className:"block text-xs text-gray-400 font-normal",children:"(GB/hr)"})]}),e.jsxs("th",{className:"px-6 py-4 text-left text-sm font-semibold text-white",children:["Preferred",e.jsx("span",{className:"block text-xs text-gray-400 font-normal",children:"(GB/hr)"})]}),e.jsxs("th",{className:"px-6 py-4 text-left text-sm font-semibold text-white",children:["Max Size",e.jsx("span",{className:"block text-xs text-gray-400 font-normal",children:"(GB/hr)"})]}),e.jsxs("th",{className:"px-6 py-4 text-left text-sm font-semibold text-white",children:["Range",e.jsx("span",{className:"block text-xs text-gray-400 font-normal",children:"(3hr event)"})]})]})}),e.jsx("tbody",{className:"divide-y divide-gray-800",children:r.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:5,className:"px-6 py-12 text-center",children:[e.jsx("p",{className:"text-gray-500 mb-2",children:"No quality definitions found"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Quality definitions should be seeded automatically. Try restarting the application."})]})}):r.map((j,C)=>e.jsxs("tr",{className:C%2===0?"bg-black/20":"bg-black/10",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-white font-medium",children:j.title})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("input",{type:"number",value:j.minSize,onChange:E=>w(j.id,"minSize",Number(E.target.value)),className:"w-24 px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white text-sm focus:outline-none focus:border-red-600",step:"0.5",min:"0"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("input",{type:"number",value:j.preferredSize,onChange:E=>w(j.id,"preferredSize",Number(E.target.value)),className:"w-24 px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white text-sm focus:outline-none focus:border-red-600",step:"0.5",min:"0"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("input",{type:"number",value:j.maxSize??"",onChange:E=>w(j.id,"maxSize",Number(E.target.value)),className:"w-24 px-3 py-2 bg-gray-800 border border-gray-700 rounded text-white text-sm focus:outline-none focus:border-red-600",step:"0.5",min:"0"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"text-gray-400 text-sm",children:[(j.minSize*3).toFixed(1)," -"," ",j.maxSize?(j.maxSize*3).toFixed(1):""," GB"]})})]},j.id))})]})})}),a&&e.jsx("div",{className:"mt-6 p-4 bg-yellow-950/30 border border-yellow-900/50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-yellow-300",children:[e.jsx("strong",{children:"Advanced:"})," These values affect all quality profiles. Changes here impact which releases are accepted across your entire library. Be careful when adjusting these settings."]})})]})]})}const GC=[{value:"ReleaseTitle",label:"Release Title",hasPresets:!0},{value:"Language",label:"Language",hasPresets:!0},{value:"IndexerFlag",label:"Indexer Flag",hasPresets:!1},{value:"Source",label:"Source",hasPresets:!0},{value:"Resolution",label:"Resolution",hasPresets:!0},{value:"Size",label:"Size",hasPresets:!1},{value:"ReleaseGroup",label:"Release Group",hasPresets:!0},{value:"ReleaseType",label:"Release Type",hasPresets:!1}],Eb=["BluRay","WEB-DL","WEBDL","WEBRip","HDTV","DVDRip","CAM","TELESYNC"],Tb=["2160p","1080p","720p","480p","4K","UHD","HD","SD"],Ab=["English","Spanish","French","Japanese","Portuguese"];function YC({showAdvanced:a=!1}){const[r,l]=u.useState([]),[o,d]=u.useState(!0),[h,f]=u.useState(""),[p,x]=u.useState(!1),[g,b]=u.useState(!1),[w,T]=u.useState(null),[j,C]=u.useState(null),[E,S]=u.useState(!1),[D,U]=u.useState({id:0,name:"",includeCustomFormatWhenRenaming:!1,specifications:[]}),[y,F]=u.useState({name:"",implementation:"ReleaseTitle",negate:!1,required:!1,fields:{value:""}});u.useEffect(()=>{te()},[]);const te=async()=>{try{const O=await fetch("/api/customformat");if(O.ok){const be=await O.json();l(be)}}catch(O){console.error("Error loading custom formats:",O)}finally{d(!1)}},z=async()=>{if(!D.name.trim()){pe.error("Validation Error",{description:"Please enter a format name"});return}try{const O=w?`/api/customformat/${w.id}`:"/api/customformat";(await fetch(O,{method:w?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(D)})).ok?(await te(),pe.success(w?"Format Updated":"Format Created",{description:`Custom format "${D.name}" has been ${w?"updated":"created"} successfully.`}),b(!1),T(null),U({id:0,name:"",includeCustomFormatWhenRenaming:!1,specifications:[]})):pe.error("Save Failed",{description:"Failed to save custom format. Please try again."})}catch(O){console.error("Error saving custom format:",O),pe.error("Save Failed",{description:O instanceof Error?O.message:"An unexpected error occurred."})}},k=async O=>{try{(await fetch(`/api/customformat/${O}`,{method:"DELETE"})).ok?(await te(),pe.success("Format Deleted",{description:"Custom format has been deleted successfully."}),C(null)):pe.error("Delete Failed",{description:"Failed to delete custom format. Please try again."})}catch(be){console.error("Error deleting custom format:",be),pe.error("Delete Failed",{description:be instanceof Error?be.message:"An unexpected error occurred."})}},K=O=>{const be=JSON.stringify(O,null,2),I=new Blob([be],{type:"application/json"}),se=URL.createObjectURL(I),de=document.createElement("a");de.href=se,de.download=`${O.name.replace(/\s+/g,"_")}.json`,document.body.appendChild(de),de.click(),document.body.removeChild(de),URL.revokeObjectURL(se)},ne=async()=>{try{const O=JSON.parse(h);if(!O.name){pe.error("Invalid Format",{description:'JSON must include a "name" field.'});return}if(g){const I=(O.specifications||[]).map(se=>({...se,fields:Array.isArray(se.fields)?se.fields.reduce((de,V)=>(V.name&&V.value!==void 0&&(de[V.name]=V.value),de),{}):se.fields||{value:""}}));U({id:D.id,name:O.name,includeCustomFormatWhenRenaming:O.includeCustomFormatWhenRenaming||!1,specifications:I}),pe.success("Format Imported",{description:"Format data loaded successfully. Review and save to apply."}),x(!1),f("");return}const be=await fetch("/api/customformat/import",{method:"POST",headers:{"Content-Type":"application/json"},body:h});if(be.ok){const I=await be.json();await te();const se=I.defaultScore?` (default score: ${I.defaultScore})`:"";pe.success("Format Imported",{description:`Custom format "${O.name}" imported with ${I.specifications} specifications${se}.`}),x(!1),f("")}else if(be.status===409){const I=await be.json();pe.error("Import Failed",{description:I.error||"A custom format with this name already exists."})}else{const I=await be.json();pe.error("Import Failed",{description:I.error||"Failed to import custom format. Please try again."})}}catch(O){console.error("Error parsing JSON:",O),pe.error("Invalid JSON",{description:"The JSON format is invalid. Please check and try again."})}},_=()=>{if(!y.name.trim()){pe.error("Validation Error",{description:"Please enter a condition name"});return}if(y.implementation!=="Size"&&!y.fields.value){pe.error("Validation Error",{description:"Please enter a value for this condition"});return}U(O=>({...O,specifications:[...O.specifications,{...y}]})),F({name:"",implementation:"ReleaseTitle",negate:!1,required:!1,fields:{value:""}}),S(!1)},we=O=>{U(be=>({...be,specifications:be.specifications.filter((I,se)=>se!==O)}))},Y=O=>{T(O),U({...O}),b(!0)},L=()=>{T(null),U({id:0,name:"",includeCustomFormatWhenRenaming:!1,specifications:[]}),b(!0)};return o?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-white",children:"Loading custom formats..."})}):e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Custom Formats"}),e.jsx("p",{className:"text-gray-400",children:"Custom Formats allow fine control over release scoring and prioritization"})]}),e.jsx("div",{className:"mb-8 bg-gradient-to-br from-purple-950/30 to-purple-900/20 border border-purple-900/50 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(_h,{className:"w-6 h-6 text-purple-400 mr-3 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Sportarr supports custom conditions against the release properties below."}),e.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Use regex patterns to match specific release characteristics and score them accordingly."}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("button",{onClick:()=>x(!0),className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white text-sm font-medium rounded-lg transition-colors",children:[e.jsx(_h,{className:"w-4 h-4 inline mr-2"}),"Import"]})})]})]})}),e.jsxs("div",{className:"mb-8 bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white",children:"Custom Formats"}),e.jsxs("button",{onClick:L,className:"flex items-center px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:[e.jsx(ws,{className:"w-4 h-4 mr-2"}),"Add Custom Format"]})]}),r.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-500 mb-4",children:"No custom formats configured"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Add custom formats to score and prioritize releases based on specific criteria"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-800",children:[e.jsx("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"Name"}),e.jsx("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"Conditions"}),e.jsx("th",{className:"text-right py-3 px-4 text-gray-400 font-medium",children:"Actions"})]})}),e.jsx("tbody",{children:[...r].sort((O,be)=>(O.name||"").localeCompare(be.name||"")).map(O=>e.jsxs("tr",{className:"border-b border-gray-800 hover:bg-gray-900/50 transition-colors",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-white font-medium",children:O.name}),O.includeCustomFormatWhenRenaming&&e.jsx("span",{className:"text-xs text-green-400 mt-1",children:"Included in renaming"})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("span",{className:"text-gray-400",children:[O.specifications.length," condition(s)"]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>K(O),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded transition-colors",title:"Export to JSON",children:e.jsx(Vy,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>Y(O),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded transition-colors",title:"Edit",children:e.jsx(Xa,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>C(O.id),className:"p-2 text-gray-400 hover:text-red-400 hover:bg-red-950/30 rounded transition-colors",title:"Delete",children:e.jsx(vt,{className:"w-5 h-5"})})]})})]},O.id))})]})})]}),j!==null&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/50 rounded-lg p-6 max-w-md w-full",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Delete Custom Format?"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Are you sure you want to delete this custom format? This action cannot be undone."}),e.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:()=>C(null),className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:()=>k(j),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Delete"})]})]})}),g&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/50 rounded-lg p-6 max-w-4xl w-full my-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:w?"Edit Custom Format":"Add Custom Format"}),e.jsx("button",{onClick:()=>{b(!1),T(null)},className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded transition-colors",children:e.jsx(pt,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Name"}),e.jsx("input",{type:"text",value:D.name,onChange:O=>U({...D,name:O.target.value}),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",placeholder:"e.g., Preferred Source, Better Audio, etc."})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:D.includeCustomFormatWhenRenaming,onChange:O=>U({...D,includeCustomFormatWhenRenaming:O.target.checked}),className:"w-4 h-4 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsxs("span",{className:"text-sm font-medium text-gray-300",children:["Include in ","{"," Custom Formats","}"," renaming format"]})]}),e.jsxs("div",{className:"border-t border-gray-800 pt-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Conditions"}),e.jsx("div",{className:"p-4 bg-blue-950/30 border border-blue-900/50 rounded-lg mb-4",children:e.jsx("p",{className:"text-sm text-blue-300",children:"A Custom Format will be applied to a release or file when it matches at least one of each of the different condition types chosen."})}),D.specifications.length===0?e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("button",{onClick:()=>S(!0),className:"p-12 bg-gray-800/50 hover:bg-gray-800 border-2 border-gray-700 hover:border-gray-600 rounded-lg transition-all",title:"Add Condition",children:e.jsx(ws,{className:"w-16 h-16 text-gray-500"})})}):e.jsxs("div",{className:"space-y-2",children:[D.specifications.map((O,be)=>e.jsxs("div",{className:"p-3 bg-gray-800 rounded border border-gray-700 flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("span",{className:"text-white font-medium",children:O.name}),O.required&&e.jsx("span",{className:"px-2 py-0.5 bg-red-900/30 text-red-400 text-xs rounded",children:"Required"}),O.negate&&e.jsx("span",{className:"px-2 py-0.5 bg-yellow-900/30 text-yellow-400 text-xs rounded",children:"Negated"})]}),e.jsxs("div",{className:"text-sm text-gray-400",children:[O.implementation,O.fields.value&&e.jsx("code",{className:"ml-2 px-2 py-0.5 bg-black text-green-400 rounded text-xs font-mono",children:typeof O.fields.value=="string"?O.fields.value:JSON.stringify(O.fields.value)}),O.fields.min!==void 0&&e.jsxs("span",{className:"ml-2 text-xs",children:["Min: ",O.fields.min,"MB ",O.fields.max!==void 0&&`Max: ${O.fields.max}MB`]})]})]}),e.jsx("button",{onClick:()=>we(be),className:"p-2 text-gray-400 hover:text-red-400 hover:bg-red-950/30 rounded transition-colors",children:e.jsx(vt,{className:"w-4 h-4"})})]},be)),e.jsxs("button",{onClick:()=>S(!0),className:"w-full p-4 bg-gray-800/30 hover:bg-gray-800/50 border-2 border-dashed border-gray-700 hover:border-gray-600 rounded-lg transition-all flex items-center justify-center",children:[e.jsx(ws,{className:"w-5 h-5 text-gray-500 mr-2"}),e.jsx("span",{className:"text-gray-400",children:"Add Condition"})]})]})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-800 flex items-center justify-between",children:[e.jsx("button",{onClick:()=>x(!0),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Import"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>{b(!1),T(null)},className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:z,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Save"})]})]})]})}),p&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[60] flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-purple-900/50 rounded-lg p-6 max-w-2xl w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:"Import Custom Format from JSON"}),e.jsx("button",{onClick:()=>{x(!1),f("")},className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded transition-colors",children:e.jsx(pt,{className:"w-6 h-6"})})]}),e.jsx("p",{className:"text-gray-400 mb-4",children:"Paste JSON from TRaSH Guides, Sonarr/Radarr export, or another Sportarr instance"}),e.jsx("textarea",{value:h,onChange:O=>f(O.target.value),placeholder:'{"name":"Format Name","includeCustomFormatWhenRenaming":false,"specifications":[...]}',className:"w-full h-64 px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white font-mono text-sm focus:outline-none focus:border-purple-600 resize-none"}),e.jsxs("div",{className:"mt-6 flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{x(!1),f("")},className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:ne,className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors",children:"Import"})]})]})}),E&&e.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-[60] flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-blue-900/50 rounded-lg p-6 max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:"Add Condition"}),e.jsx("button",{onClick:()=>S(!1),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded transition-colors",children:e.jsx(pt,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"p-4 bg-blue-950/30 border border-blue-900/50 rounded-lg mb-6",children:e.jsxs("p",{className:"text-sm text-blue-300",children:["Sportarr supports custom conditions against the release properties below.",e.jsx("br",{}),"Use regex patterns to match specific release characteristics and score them accordingly."]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:GC.map(O=>e.jsxs("button",{onClick:()=>F({...y,implementation:O.value,fields:{value:""}}),className:`p-4 rounded-lg border-2 transition-all ${y.implementation===O.value?"border-red-600 bg-red-900/20":"border-gray-700 bg-gray-800 hover:border-gray-600"}`,children:[e.jsx("div",{className:"text-white font-medium text-left",children:O.label}),O.hasPresets&&e.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Custom | Presets"}),!O.hasPresets&&y.implementation===O.value&&e.jsx("div",{className:"text-xs text-blue-400 mt-1",children:"More Info"})]},O.value))}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Condition Name"}),e.jsx("input",{type:"text",value:y.name,onChange:O=>F({...y,name:O.target.value}),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-blue-600",placeholder:"e.g., 1080p, WEB-DL, etc."})]}),y.implementation==="Size"?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Min Size (MB)"}),e.jsx("input",{type:"number",value:y.fields.min||"",onChange:O=>F({...y,fields:{...y.fields,min:parseFloat(O.target.value)||0}}),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-blue-600",placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Max Size (MB)"}),e.jsx("input",{type:"number",value:y.fields.max||"",onChange:O=>F({...y,fields:{...y.fields,max:parseFloat(O.target.value)||0}}),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-blue-600",placeholder:"Unlimited"})]})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:y.implementation==="ReleaseTitle"||y.implementation==="ReleaseGroup"?"Regular Expression":"Value"}),e.jsx("input",{type:"text",value:y.fields.value||"",onChange:O=>F({...y,fields:{value:O.target.value}}),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white font-mono text-sm focus:outline-none focus:border-blue-600",placeholder:y.implementation==="ReleaseTitle"?"e.g., \\b(1080p|FHD)\\b":y.implementation==="Source"?"e.g., BluRay, WEB-DL, HDTV":y.implementation==="Resolution"?"e.g., 1080p, 720p, 2160p":"Enter value"})]}),y.implementation==="Source"&&Eb.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Presets"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Eb.map(O=>e.jsx("button",{onClick:()=>F({...y,fields:{value:O}}),className:"px-3 py-1 bg-gray-700 hover:bg-gray-600 text-white text-sm rounded transition-colors",children:O},O))})]}),y.implementation==="Resolution"&&Tb.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Presets"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Tb.map(O=>e.jsx("button",{onClick:()=>F({...y,fields:{value:O}}),className:"px-3 py-1 bg-gray-700 hover:bg-gray-600 text-white text-sm rounded transition-colors",children:O},O))})]}),y.implementation==="Language"&&Ab.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Presets"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Ab.map(O=>e.jsx("button",{onClick:()=>F({...y,fields:{value:O}}),className:"px-3 py-1 bg-gray-700 hover:bg-gray-600 text-white text-sm rounded transition-colors",children:O},O))})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:y.negate,onChange:O=>F({...y,negate:O.target.checked}),className:"w-4 h-4 rounded border-gray-600 bg-gray-800 text-yellow-600 focus:ring-yellow-600"}),e.jsx("span",{className:"text-sm text-gray-300",children:"Negate (must NOT match)"})]}),e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:y.required,onChange:O=>F({...y,required:O.target.checked}),className:"w-4 h-4 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsx("span",{className:"text-sm text-gray-300",children:"Required"})]})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-800 flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:()=>S(!1),className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Close"}),e.jsx("button",{onClick:_,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Add Condition"})]})]})})]})}function VC(){const[a,r]=u.useState(null),[l,o]=u.useState([]),[d,h]=u.useState({}),[f,p]=u.useState(!0),[x,g]=u.useState(!1),[b,w]=u.useState(new Set),[T,j]=u.useState(new Set(["Recommended"])),[C,E]=u.useState(null),[S,D]=u.useState(!1),[U,y]=u.useState(null),[F,te]=u.useState(!1),[z,k]=u.useState(!1),[K,ne]=u.useState({enableAutoSync:!1,autoSyncIntervalHours:24,lastAutoSync:null,autoSyncSportRelevantOnly:!0,autoApplyScoresToProfiles:!1,autoApplyScoreSet:"default"}),[_,we]=u.useState(!1),[Y,L]=u.useState(!1),[O,be]=u.useState([]),[I,se]=u.useState(!1),[de,V]=u.useState(!1),[je,B]=u.useState(new Set),[R,$]=u.useState(new Set),[W,he]=u.useState(!1),[Se,Me]=u.useState(!1);u.useEffect(()=>{fe()},[]);const fe=async()=>{p(!0);try{const[J,xe,ze,ae]=await Promise.all([fetch("/api/trash/status"),fetch("/api/trash/customformats?sportRelevantOnly=false"),fetch("/api/trash/scoresets"),fetch("/api/trash/settings")]);if(J.ok&&r(await J.json()),xe.ok&&o(await xe.json()),ze.ok&&h(await ze.json()),ae.ok){const $e=await ae.json();ne($e)}}catch(J){console.error("Error loading TRaSH data:",J),pe.error("Failed to load TRaSH Guides data")}finally{p(!1)}},Re=async()=>{g(!0);try{const xe=await(await fetch("/api/trash/sync",{method:"POST"})).json();E(xe),xe.success?(pe.success("TRaSH Guides Sync Complete",{description:`Created: ${xe.created}, Updated: ${xe.updated}, Skipped: ${xe.skipped}`}),await fe()):pe.error("Sync Failed",{description:xe.error||"Unknown error occurred"})}catch(J){console.error("Error syncing:",J),pe.error("Sync failed",{description:"Failed to connect to TRaSH Guides"})}finally{g(!1)}},_e=async()=>{if(b.size===0){pe.error("No formats selected",{description:"Please select at least one custom format to sync"});return}g(!0);try{const xe=await(await fetch("/api/trash/sync/selected",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Array.from(b))})).json();E(xe),xe.success?(pe.success("Selected Formats Synced",{description:`Created: ${xe.created}, Updated: ${xe.updated}`}),w(new Set),await fe()):pe.error("Sync Failed",{description:xe.error||"Unknown error occurred"})}catch(J){console.error("Error syncing:",J),pe.error("Sync failed")}finally{g(!1)}},Ye=async()=>{te(!0),D(!0);try{const J=await fetch("/api/trash/preview?sportRelevantOnly=true");J.ok&&y(await J.json())}catch(J){console.error("Error loading preview:",J),pe.error("Failed to load sync preview")}finally{te(!1)}},Je=async()=>{Me(!0);try{const xe=await(await fetch("/api/trash/formats",{method:"DELETE"})).json();xe.success?(pe.success("Synced Formats Deleted",{description:`Removed ${xe.updated} custom formats`}),he(!1),await fe()):pe.error("Delete Failed",{description:xe.error})}catch(J){console.error("Error deleting:",J),pe.error("Failed to delete synced formats")}finally{Me(!1)}},re=async()=>{we(!0);try{(await fetch("/api/trash/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)})).ok?(pe.success("Settings Saved"),k(!1),await fe()):pe.error("Failed to save settings")}catch(J){console.error("Error saving settings:",J),pe.error("Failed to save settings")}finally{we(!1)}},ke=async()=>{se(!0),L(!0),B(new Set),$(new Set);try{const J=await fetch("/api/trash/profiles");J.ok&&be(await J.json())}catch(J){console.error("Error loading profiles:",J),pe.error("Failed to load profile templates")}finally{se(!1)}},Fe=async(J,xe)=>{V(!0);try{const ae=await(await fetch(`/api/trash/profiles/create?trashId=${encodeURIComponent(J)}`,{method:"POST"})).json();ae.success?(pe.success("Profile Created",{description:`Created "${xe}" from TRaSH template`}),$($e=>new Set($e).add(J)),B($e=>{const Qe=new Set($e);return Qe.delete(J),Qe})):pe.error("Failed to create profile",{description:ae.error})}catch(ze){console.error("Error creating profile:",ze),pe.error("Failed to create profile")}finally{V(!1)}},Ge=async()=>{if(je.size===0){pe.error("No profiles selected");return}V(!0);let J=0,xe=0;for(const ze of je){const ae=O.find($e=>$e.trashId===ze);if(ae)try{const Qe=await(await fetch(`/api/trash/profiles/create?trashId=${encodeURIComponent(ze)}`,{method:"POST"})).json();Qe.success?(J++,$(Yt=>new Set(Yt).add(ze))):(xe++,pe.error(`Failed: ${ae.name}`,{description:Qe.error}))}catch{xe++}}B(new Set),V(!1),J>0&&pe.success(`Created ${J} profile${J>1?"s":""}`,{description:xe>0?`${xe} failed`:void 0})},Ve=J=>{B(xe=>{const ze=new Set(xe);return ze.has(J)?ze.delete(J):ze.add(J),ze})},q=J=>{j(xe=>{const ze=new Set(xe);return ze.has(J)?ze.delete(J):ze.add(J),ze})},ye=J=>{w(xe=>{const ze=new Set(xe);return ze.has(J)?ze.delete(J):ze.add(J),ze})},De=J=>{const xe=G[J]||[];w(ze=>{const ae=new Set(ze);return xe.forEach($e=>{$e.isSynced||ae.add($e.trashId)}),ae})},N=J=>{const xe=G[J]||[];w(ze=>{const ae=new Set(ze);return xe.forEach($e=>ae.delete($e.trashId)),ae})},G={},P=l.filter(J=>J.isRecommended&&!J.isSynced);P.length>0&&(G.Recommended=P),l.forEach(J=>{const xe=J.category||"Other";G[xe]||(G[xe]=[]),(!J.isRecommended||J.isSynced)&&G[xe].push(J)});const Te=Object.keys(G).sort((J,xe)=>J==="Recommended"?-1:xe==="Recommended"?1:J.localeCompare(xe)),Ae=J=>{if(!J)return"Never";const xe=new Date(J);return xe.toLocaleDateString()+" "+xe.toLocaleTimeString()};return f?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Rt,{className:"w-8 h-8 text-blue-500 animate-spin"})}):e.jsxs("div",{className:"max-w-6xl mx-auto pt-2",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"TRaSH Guides Integration"}),e.jsx("p",{className:"text-gray-400",children:"Sync custom formats and scores from TRaSH Guides. Sport-relevant formats only."})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>k(!0),className:"p-2.5 text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg transition-colors",title:"Auto-Sync Settings",children:e.jsx(p0,{className:"w-5 h-5"})}),e.jsxs("a",{href:"https://trash-guides.info/",target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 text-blue-400 hover:text-blue-300 text-sm flex items-center gap-2 bg-blue-900/20 hover:bg-blue-900/30 rounded-lg transition-colors",children:[e.jsx(ja,{className:"w-4 h-4"}),"TRaSH Guides"]})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Sync Status"}),K.enableAutoSync&&e.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-400",children:[e.jsx(Rr,{className:"w-4 h-4"}),"Auto-sync every ",K.autoSyncIntervalHours,"h"]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-400",children:(a==null?void 0:a.totalSyncedFormats)||0}),e.jsx("div",{className:"text-sm text-gray-400",children:"Synced Formats"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:(a==null?void 0:a.customizedFormats)||0}),e.jsx("div",{className:"text-sm text-gray-400",children:"Customized"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-green-400",children:l.filter(J=>!J.isSynced).length}),e.jsx("div",{className:"text-sm text-gray-400",children:"Available to Sync"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-300",children:Ae((a==null?void 0:a.lastSyncDate)||null)}),e.jsx("div",{className:"text-sm text-gray-400",children:"Last Sync"})]})]}),(a==null?void 0:a.categories)&&Object.keys(a.categories).length>0&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-700",children:[e.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Synced by Category:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(a.categories).map(([J,xe])=>e.jsxs("span",{className:"px-2 py-1 bg-gray-700 rounded text-xs text-gray-300",children:[J,": ",xe]},J))})]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-3",children:"Quick Actions"}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("button",{onClick:Re,disabled:x,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white rounded-lg transition-colors",children:[x?e.jsx(Rt,{className:"w-5 h-5 animate-spin"}):e.jsx(Qs,{className:"w-5 h-5"}),"Sync All Sport-Relevant Formats"]}),b.size>0&&e.jsxs("button",{onClick:_e,disabled:x,className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 text-white rounded-lg transition-colors",children:[x?e.jsx(Rt,{className:"w-5 h-5 animate-spin"}):e.jsx(Ut,{className:"w-5 h-5"}),"Sync Selected (",b.size,")"]}),e.jsxs("button",{onClick:Ye,disabled:x,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-600 text-white rounded-lg transition-colors",children:[e.jsx(Zy,{className:"w-5 h-5"}),"Preview Changes"]}),e.jsxs("button",{onClick:ke,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors",children:[e.jsx(ws,{className:"w-5 h-5"}),"Import Profile Template"]}),e.jsxs("button",{onClick:fe,disabled:f,className:"flex items-center gap-2 px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:[e.jsx(Rt,{className:`w-5 h-5 ${f?"animate-spin":""}`}),"Refresh"]}),((a==null?void 0:a.totalSyncedFormats)||0)>0&&e.jsxs("button",{onClick:()=>he(!0),className:"flex items-center gap-2 px-4 py-2 bg-red-600/20 hover:bg-red-600/40 text-red-400 rounded-lg transition-colors",children:[e.jsx(vt,{className:"w-5 h-5"}),"Delete All Synced"]})]})]}),C&&e.jsxs("div",{className:`bg-gray-800 rounded-lg p-4 border ${C.success?"border-green-600":"border-red-600"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[C.success?e.jsx(Ut,{className:"w-5 h-5 text-green-500"}):e.jsx(Es,{className:"w-5 h-5 text-red-500"}),e.jsx("h3",{className:"text-lg font-medium text-white",children:C.success?"Sync Completed":"Sync Failed"})]}),C.success?e.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-green-400 font-bold",children:C.created}),e.jsx("span",{className:"text-gray-400 ml-1",children:"created"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-400 font-bold",children:C.updated}),e.jsx("span",{className:"text-gray-400 ml-1",children:"updated"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-yellow-400 font-bold",children:C.skipped}),e.jsx("span",{className:"text-gray-400 ml-1",children:"skipped"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-red-400 font-bold",children:C.failed}),e.jsx("span",{className:"text-gray-400 ml-1",children:"failed"})]})]}):e.jsx("p",{className:"text-red-400 text-sm",children:C.error}),C.errors.length>0&&e.jsxs("div",{className:"mt-2 text-xs text-red-400",children:[C.errors.slice(0,5).map((J,xe)=>e.jsx("div",{children:J},xe)),C.errors.length>5&&e.jsxs("div",{children:["...and ",C.errors.length-5," more errors"]})]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700",children:[e.jsxs("div",{className:"p-4 border-b border-gray-700",children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Available Custom Formats"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Select custom formats to sync. Already synced formats are marked with a checkmark."})]}),e.jsx("div",{className:"divide-y divide-gray-700",children:Te.map(J=>{const xe=G[J],ze=T.has(J),ae=xe.filter(Qe=>Qe.isSynced).length,$e=xe.filter(Qe=>b.has(Qe.trashId)).length;return e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>q(J),className:"w-full flex items-center justify-between p-3 hover:bg-gray-700/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[ze?e.jsx(Ss,{className:"w-4 h-4 text-gray-400"}):e.jsx(To,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:`font-medium ${J==="Recommended"?"text-green-400":"text-white"}`,children:J}),e.jsxs("span",{className:"text-sm text-gray-500",children:["(",xe.length," formats, ",ae," synced)"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[$e>0&&e.jsxs("span",{className:"text-xs bg-blue-600 text-white px-2 py-0.5 rounded",children:[$e," selected"]}),ze&&e.jsxs("div",{className:"flex gap-1",onClick:Qe=>Qe.stopPropagation(),children:[e.jsx("button",{onClick:()=>De(J),className:"text-xs text-blue-400 hover:text-blue-300 px-2",children:"Select All"}),e.jsx("button",{onClick:()=>N(J),className:"text-xs text-gray-400 hover:text-gray-300 px-2",children:"Deselect"})]})]})]}),ze&&e.jsx("div",{className:"bg-gray-900/50 px-4 py-2 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:xe.map(Qe=>e.jsxs("div",{className:`flex items-center gap-2 p-2 rounded ${Qe.isSynced?"bg-green-900/20 border border-green-800/50":b.has(Qe.trashId)?"bg-blue-900/30 border border-blue-700":"bg-gray-800 border border-gray-700"}`,children:[Qe.isSynced?e.jsx(Ut,{className:"w-5 h-5 text-green-500 flex-shrink-0"}):e.jsx("input",{type:"checkbox",checked:b.has(Qe.trashId),onChange:()=>ye(Qe.trashId),className:"w-4 h-4 rounded border-gray-600 bg-gray-700 text-blue-600 focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-white truncate",children:Qe.name}),Qe.isRecommended&&!Qe.isSynced&&e.jsx("span",{className:"text-[10px] bg-green-600/50 text-green-300 px-1 rounded",children:"REC"})]}),Qe.defaultScore!==null&&Qe.defaultScore!==0&&e.jsxs("span",{className:`text-xs ${Qe.defaultScore>0?"text-green-400":"text-red-400"}`,children:["Score: ",Qe.defaultScore>0?"+":"",Qe.defaultScore]})]})]},Qe.trashId))})]},J)})})]}),e.jsx("div",{className:"bg-blue-900/20 border border-blue-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(ja,{className:"w-6 h-6 text-blue-400 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-blue-200",children:[e.jsx("p",{className:"font-medium mb-1",children:"About TRaSH Guides Integration"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-300",children:[e.jsx("li",{children:"All custom formats from TRaSH Guides are available - select the ones you need"}),e.jsx("li",{children:"Synced formats can be customized - they won't be overwritten on the next sync unless you reset them"}),e.jsx("li",{children:'Use "Apply TRaSH Scores" in Quality Profiles to set recommended scores for all synced formats'}),e.jsx("li",{children:"Enable auto-sync in settings to keep your custom formats updated automatically"}),e.jsx("li",{children:"Import profile templates to quickly set up quality profiles with recommended settings"})]})]})]})})]}),S&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-lg max-w-2xl w-full max-h-[80vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b border-gray-700 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Sync Preview"}),e.jsx("button",{onClick:()=>D(!1),className:"text-gray-400 hover:text-white",children:e.jsx(Es,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"p-4 overflow-y-auto flex-1",children:F?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(Rt,{className:"w-8 h-8 text-blue-500 animate-spin"})}):U?e.jsxs("div",{className:"space-y-4",children:[U.toCreate.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-green-400 font-medium mb-2",children:["Will Create (",U.toCreate.length,")"]}),e.jsx("div",{className:"space-y-1",children:U.toCreate.map(J=>e.jsxs("div",{className:"text-sm text-gray-300 flex items-center gap-2",children:[e.jsx("span",{className:"text-green-400",children:"+"}),e.jsx("span",{children:J.name}),J.defaultScore!==null&&J.defaultScore!==0&&e.jsxs("span",{className:`text-xs ${J.defaultScore>0?"text-green-400":"text-red-400"}`,children:["(",J.defaultScore>0?"+":"",J.defaultScore,")"]})]},J.trashId))})]}),U.toUpdate.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-blue-400 font-medium mb-2",children:["Will Update (",U.toUpdate.length,")"]}),e.jsx("div",{className:"space-y-1",children:U.toUpdate.map(J=>e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"text-gray-300 flex items-center gap-2",children:[e.jsx("span",{className:"text-blue-400",children:"~"}),e.jsx("span",{children:J.name})]}),J.changes&&J.changes.length>0&&e.jsx("div",{className:"ml-4 text-xs text-gray-500",children:J.changes.join(", ")})]},J.trashId))})]}),U.toSkip.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-yellow-400 font-medium mb-2",children:["Will Skip (",U.toSkip.length,")"]}),e.jsx("div",{className:"space-y-1",children:U.toSkip.map(J=>e.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2",children:[e.jsx("span",{className:"text-yellow-400",children:"-"}),e.jsx("span",{children:J.name}),J.reason&&e.jsxs("span",{className:"text-xs",children:["(",J.reason,")"]})]},J.trashId))})]}),U.totalChanges===0&&U.toSkip.length===0&&e.jsx("p",{className:"text-gray-400 text-center py-4",children:"No changes to sync"})]}):e.jsx("p",{className:"text-gray-400",children:"Failed to load preview"})}),e.jsxs("div",{className:"p-4 border-t border-gray-700 flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>D(!1),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg",children:"Close"}),U&&U.totalChanges>0&&e.jsx("button",{onClick:()=>{D(!1),Re()},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg",children:"Sync Now"})]})]})}),z&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-lg max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-4 border-b border-gray-700 flex items-center justify-between sticky top-0 bg-gray-900",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Auto-Sync Settings"}),e.jsx("button",{onClick:()=>k(!1),className:"text-gray-400 hover:text-white",children:e.jsx(Es,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-4 space-y-5",children:[e.jsx("div",{className:"p-4 bg-gray-800/50 rounded-lg border border-gray-700",children:e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:K.enableAutoSync,onChange:J=>ne({...K,enableAutoSync:J.target.checked}),className:"w-5 h-5 mt-0.5 rounded border-gray-600 bg-gray-700 text-blue-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-medium",children:"Enable Auto-Sync"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Automatically download and update custom formats from TRaSH Guides on a schedule. This keeps your formats up-to-date with the latest regex patterns and scoring recommendations."})]})]})}),K.enableAutoSync&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg border border-gray-700",children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Sync Interval (hours)"}),e.jsx("input",{type:"number",min:1,max:168,value:K.autoSyncIntervalHours,onChange:J=>ne({...K,autoSyncIntervalHours:parseInt(J.target.value)||24}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white"}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"How often to check for updates. TRaSH Guides typically updates a few times per week, so 24-48 hours is usually sufficient."})]}),e.jsx("div",{className:"p-4 bg-gray-800/50 rounded-lg border border-gray-700",children:e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:K.autoApplyScoresToProfiles,onChange:J=>ne({...K,autoApplyScoresToProfiles:J.target.checked}),className:"w-5 h-5 mt-0.5 rounded border-gray-600 bg-gray-700 text-blue-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-medium",children:"Auto-Apply Scores to TRaSH Profiles"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"After syncing custom formats, automatically update the scores in quality profiles that were imported from TRaSH Guides."}),e.jsx("p",{className:"text-xs text-green-500/80 mt-2",children:' Only affects profiles created via "Import Profile Template" - your custom profiles are safe.'})]})]})}),K.autoApplyScoresToProfiles&&e.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg border border-gray-700",children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Score Set"}),e.jsx("select",{value:K.autoApplyScoreSet,onChange:J=>ne({...K,autoApplyScoreSet:J.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white",children:Object.entries(d).map(([J,xe])=>e.jsx("option",{value:J,children:xe},J))}),e.jsxs("div",{className:"mt-3 p-3 bg-blue-900/20 border border-blue-800/50 rounded-lg",children:[e.jsx("p",{className:"text-sm text-blue-300 font-medium mb-2",children:"What is a Score Set?"}),e.jsx("p",{className:"text-xs text-blue-200/80",children:"TRaSH Guides provides different scoring presets optimized for different languages and preferences:"}),e.jsxs("ul",{className:"text-xs text-blue-200/70 mt-2 space-y-1 ml-3 list-disc",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Default"})," - Standard English-focused scoring. Best for most users."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"French (Multi-Audio)"})," - Prioritizes releases with French + original audio tracks."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"French (VOSTFR)"})," - Prioritizes original audio with French subtitles."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"German / German (Multi)"})," - Optimized for German language releases."]})]}),e.jsx("p",{className:"text-xs text-blue-200/60 mt-2",children:"Each set adjusts scores for language-related custom formats to prefer your chosen language configuration."})]})]})]})]}),e.jsxs("div",{className:"p-4 border-t border-gray-700 flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>k(!1),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg",children:"Cancel"}),e.jsx("button",{onClick:re,disabled:_,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white rounded-lg",children:_?"Saving...":"Save Settings"})]})]})}),Y&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-lg max-w-3xl w-full max-h-[85vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b border-gray-700 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"TRaSH Quality Profile Templates"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Select profiles to import. You can create multiple profiles at once."})]}),e.jsx("button",{onClick:()=>L(!1),className:"text-gray-400 hover:text-white",children:e.jsx(Es,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"p-4 overflow-y-auto flex-1",children:I?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(Rt,{className:"w-8 h-8 text-blue-500 animate-spin"})}):O.length>0?e.jsx("div",{className:"space-y-3",children:O.map(J=>{const xe=R.has(J.trashId),ze=je.has(J.trashId);return e.jsx("div",{className:`border rounded-lg p-4 transition-colors ${xe?"bg-green-900/20 border-green-700":ze?"bg-blue-900/20 border-blue-600":"bg-gray-800 border-gray-700 hover:border-gray-600"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[!xe&&e.jsx("input",{type:"checkbox",checked:ze,onChange:()=>Ve(J.trashId),disabled:de,className:"w-5 h-5 mt-0.5 rounded border-gray-600 bg-gray-700 text-blue-600 focus:ring-blue-500"}),xe&&e.jsx(Ut,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"text-white font-medium",children:J.name}),xe&&e.jsx("span",{className:"px-2 py-0.5 bg-green-600/30 text-green-400 text-xs rounded",children:"Created"})]}),J.description&&e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:J.description}),e.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 mt-2 text-xs text-gray-500",children:[e.jsxs("span",{children:[J.qualityCount," qualities"]}),J.formatScoreCount>0&&e.jsxs("span",{children:[J.formatScoreCount," format scores"]}),J.minFormatScore!==null&&J.minFormatScore!==0&&e.jsxs("span",{children:["Min score: ",J.minFormatScore]}),J.cutoff&&e.jsxs("span",{className:"text-blue-400",children:["Cutoff: ",J.cutoff]})]})]}),!xe&&e.jsx("button",{onClick:()=>Fe(J.trashId,J.name),disabled:de,className:"px-3 py-1.5 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 text-white text-sm rounded-lg flex-shrink-0",children:de?"Creating...":"Create"})]})},J.trashId)})}):e.jsx("p",{className:"text-gray-400 text-center py-4",children:"No profile templates available"})}),e.jsxs("div",{className:"p-4 border-t border-gray-700 flex items-center justify-between gap-4",children:[e.jsx("p",{className:"text-sm text-gray-500 flex-1",children:"Sync custom formats first for best results."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>L(!1),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg",children:"Close"}),je.size>0&&e.jsx("button",{onClick:Ge,disabled:de,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white rounded-lg",children:de?"Creating...":`Create Selected (${je.size})`})]})]})]})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gray-900 border border-red-600 rounded-lg max-w-md w-full p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Delete All Synced Formats?"}),e.jsxs("p",{className:"text-gray-400 mb-4",children:["This will remove all ",(a==null?void 0:a.totalSyncedFormats)||0," custom formats that were synced from TRaSH Guides. This action cannot be undone."]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>he(!1),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg",children:"Cancel"}),e.jsx("button",{onClick:Je,disabled:Se,className:"px-4 py-2 bg-red-600 hover:bg-red-700 disabled:bg-gray-600 text-white rounded-lg",children:Se?"Deleting...":"Delete All"})]})]})})]})}const Rb=[{name:"Newznab",implementation:"Newznab",protocol:"usenet",description:"Generic Newznab indexer",fields:["baseUrl","apiKey","categories"]},{name:"Torznab",implementation:"Torznab",protocol:"torrent",description:"Generic Torznab indexer (Jackett/Prowlarr)",fields:["baseUrl","apiKey","categories","minimumSeeders","seedRatio","seedTime"]},{name:"Nyaa",implementation:"Nyaa",protocol:"torrent",description:"Nyaa - Torznab compatible indexer",fields:["baseUrl","categories","minimumSeeders"]},{name:"TorrentLeech",implementation:"TorrentLeech",protocol:"torrent",description:"TorrentLeech - Torznab compatible indexer",fields:["baseUrl","apiKey","categories","minimumSeeders","seedRatio","seedTime"]},{name:"IPTorrents",implementation:"IPTorrents",protocol:"torrent",description:"IPTorrents - Torznab compatible indexer",fields:["baseUrl","apiKey","categories","minimumSeeders","seedRatio","seedTime"]},{name:"FileList",implementation:"FileList",protocol:"torrent",description:"FileList - Torznab compatible indexer",fields:["baseUrl","apiKey","categories","minimumSeeders","seedRatio","seedTime"]}];function KC(){const[a,r]=u.useState(!1),{data:l=[],isLoading:o}=x5(),d=g5(),h=p5(),f=b5(),p=y5(),[x,g]=u.useState(new Set),[b,w]=u.useState(!1),T=u.useMemo(()=>l.map(N=>{const G=et=>{var cs,xs;return(xs=(cs=N.fields)==null?void 0:cs.find(ds=>ds.name===et))==null?void 0:xs.value},P=G("baseUrl")||"",Te=G("apiPath")||"/api",Ae=G("apiKey")||"",J=G("categories")||"",xe=G("animeCategories"),ze=G("minimumSeeders")||"1",ae=G("seedRatio"),$e=G("seedTime"),Qe=G("seasonPackSeedTime"),Yt=G("earlyReleaseLimit"),Ot=G("additionalParameters"),ot=G("multiLanguages"),Nt=G("rejectBlocklistedTorrentHashes"),St=G("downloadClientId"),Ks=G("tags"),Zs=["Torznab","Torrent","Nyaa","TorrentLeech","IPTorrents","FileList"].some(et=>N.implementation.toLowerCase().includes(et.toLowerCase()));return{id:N.id,name:N.name,implementation:N.implementation,protocol:Zs?"torrent":"usenet",enabled:N.enable,enableRss:N.enableRss??!0,enableAutomaticSearch:N.enableAutomaticSearch??!0,enableInteractiveSearch:N.enableInteractiveSearch??!0,priority:N.priority,baseUrl:P,apiPath:Te,apiKey:Ae,categories:J?J.split(",").map(et=>parseInt(et.trim(),10)):[],animeCategories:xe?xe.split(",").map(et=>parseInt(et.trim(),10)):void 0,minimumSeeders:parseInt(ze,10),seedRatio:ae?parseFloat(ae):void 0,seedTime:$e?parseInt($e,10):void 0,seasonPackSeedTime:Qe?parseInt(Qe,10):void 0,earlyReleaseLimit:Yt?parseInt(Yt,10):void 0,additionalParameters:Ot||void 0,multiLanguages:ot?ot.split(",").map(et=>et.trim()):void 0,rejectBlocklistedTorrentHashes:Nt?Nt==="true":!0,downloadClientId:St?parseInt(St,10):void 0,tags:Ks?Ks.split(",").map(et=>parseInt(et.trim(),10)):[]}}),[l]),[j,C]=u.useState(!1),[E,S]=u.useState(null),[D,U]=u.useState(null),[y,F]=u.useState(null),[te,z]=u.useState(null),[k,K]=u.useState(0),[ne,_]=u.useState(60),[we,Y]=u.useState(!0),[L,O]=u.useState(60),[be,I]=u.useState(!1),[se,de]=u.useState(!1),V=u.useRef(null);li(se),u.useEffect(()=>{je()},[]);const je=async()=>{try{const N=await js("/api/settings");if(N.ok){const G=await N.json(),P={retention:G.indexerRetention??0,rssSyncInterval:G.rssSyncInterval??60,preferIndexerFlags:G.preferIndexerFlags??!0,searchCacheDuration:G.searchCacheDuration??60};K(P.retention),_(P.rssSyncInterval),Y(P.preferIndexerFlags),O(P.searchCacheDuration),V.current=P,de(!1)}}catch(N){console.error("Failed to load indexer settings:",N)}};u.useEffect(()=>{if(!V.current)return;const G=JSON.stringify({retention:k,rssSyncInterval:ne,preferIndexerFlags:we,searchCacheDuration:L})!==JSON.stringify(V.current);de(G)},[k,ne,we,L]);const B=async()=>{I(!0);try{const N=await js("/api/settings");if(!N.ok)throw new Error("Failed to fetch current settings");const P={...await N.json(),indexerRetention:k,rssSyncInterval:Math.max(10,ne),preferIndexerFlags:we,searchCacheDuration:Math.max(10,L)};await nl("/api/settings",P),V.current={retention:k,rssSyncInterval:ne,preferIndexerFlags:we,searchCacheDuration:L},de(!1)}catch(N){console.error("Failed to save indexer settings:",N),pe.error("Save Failed",{description:"Failed to save settings. Please try again."})}finally{I(!1)}},[R,$]=u.useState({enabled:!0,enableRss:!0,enableAutomaticSearch:!0,enableInteractiveSearch:!0,priority:25,apiPath:"/api",categories:[],minimumSeeders:1,seedRatio:1,seedTime:0,rejectBlocklistedTorrentHashes:!0,tags:[]}),W=N=>{F(N),$({name:N.name,implementation:N.implementation,protocol:N.protocol,enabled:!0,priority:25,baseUrl:"",apiKey:"",categories:[],minimumSeeders:N.protocol==="torrent"?1:void 0,seedRatio:N.protocol==="torrent"?1:void 0,seedTime:N.protocol==="torrent"?0:void 0})},he=(N,G)=>{$(P=>({...P,[N]:G}))},Se=N=>{var P;const G=[{name:"baseUrl",value:N.baseUrl||""},{name:"apiPath",value:N.apiPath||"/api"},{name:"apiKey",value:N.apiKey||""},{name:"categories",value:((P=N.categories)==null?void 0:P.join(","))||""},{name:"minimumSeeders",value:String(N.minimumSeeders||1)}];return N.animeCategories&&N.animeCategories.length>0&&G.push({name:"animeCategories",value:N.animeCategories.join(",")}),N.seedRatio!==void 0&&G.push({name:"seedRatio",value:String(N.seedRatio)}),N.seedTime!==void 0&&G.push({name:"seedTime",value:String(N.seedTime)}),N.seasonPackSeedTime!==void 0&&G.push({name:"seasonPackSeedTime",value:String(N.seasonPackSeedTime)}),N.earlyReleaseLimit!==void 0&&G.push({name:"earlyReleaseLimit",value:String(N.earlyReleaseLimit)}),N.additionalParameters&&G.push({name:"additionalParameters",value:N.additionalParameters}),N.multiLanguages&&N.multiLanguages.length>0&&G.push({name:"multiLanguages",value:N.multiLanguages.join(",")}),N.rejectBlocklistedTorrentHashes!==void 0&&G.push({name:"rejectBlocklistedTorrentHashes",value:String(N.rejectBlocklistedTorrentHashes)}),N.downloadClientId!==void 0&&G.push({name:"downloadClientId",value:String(N.downloadClientId)}),N.tags&&N.tags.length>0&&G.push({name:"tags",value:N.tags.join(",")}),{id:N.id,name:N.name||"",implementation:N.implementation||"Torznab",enable:N.enabled??!0,enableRss:N.enableRss??!0,enableAutomaticSearch:N.enableAutomaticSearch??!0,enableInteractiveSearch:N.enableInteractiveSearch??!0,priority:N.priority||25,fields:G}},Me=async()=>{try{z(null);const N=Se(R);E?await h.mutateAsync(N):await d.mutateAsync(N),C(!1),F(null),S(null),$({enabled:!0,priority:25,categories:[],minimumSeeders:1,seedRatio:1,seedTime:0})}catch(N){console.error("Error saving indexer:",N),z(N instanceof Error?N.message:"Failed to save indexer")}},fe=N=>{S(N),$(N);const G=Rb.find(P=>P.implementation===N.implementation);F(G||null)},Re=async N=>{try{z(null),await f.mutateAsync(N),U(null)}catch(G){console.error("Error deleting indexer:",G),z(G instanceof Error?G.message:"Failed to delete indexer"),U(null)}},_e=N=>{g(G=>{const P=new Set(G);return P.has(N)?P.delete(N):P.add(N),P})},Ye=()=>{x.size===T.length?g(new Set):g(new Set(T.map(N=>N.id)))},Je=async()=>{try{z(null);const N=Array.from(x);await p.mutateAsync(N),g(new Set),w(!1),pe.success("Indexers Deleted",{description:`Successfully deleted ${N.length} indexer(s)`})}catch(N){console.error("Error bulk deleting indexers:",N),z(N instanceof Error?N.message:"Failed to delete indexers"),w(!1)}},[re,ke]=u.useState(null),[Fe,Ge]=u.useState(!1),Ve=async N=>{var G,P,Te;try{Ge(!0),ke(null);const Ae=Se(N),J=await qe.post("/indexer/test",Ae);ke({success:!0,message:((G=J.data)==null?void 0:G.message)||"Connection successful!"}),pe.success("Test Successful",{description:`Successfully connected to ${N.name||"indexer"}`})}catch(Ae){console.error("Test failed:",Ae);const J=((Te=(P=Ae.response)==null?void 0:P.data)==null?void 0:Te.message)||Ae.message||"Connection test failed!";ke({success:!1,message:J}),pe.error("Test Failed",{description:J})}finally{Ge(!1)}},q=()=>{C(!1),S(null),F(null),$({enabled:!0,priority:25,categories:[],minimumSeeders:1,seedRatio:1,seedTime:0})},ye=()=>{if(!y&&!E)return null;const N=y,G=R.protocol==="torrent",P=R.protocol==="usenet",Te=Ae=>(N==null?void 0:N.fields.includes(Ae))||!1;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-white",children:"Basic Settings"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Name *"}),e.jsx("input",{type:"text",value:R.name||"",onChange:Ae=>he("name",Ae.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",placeholder:"My Indexer"})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:R.enabled||!1,onChange:Ae=>he("enabled",Ae.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Enable this indexer"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-white",children:"Search Capabilities"}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:R.enableRss??!0,onChange:Ae=>he("enableRss",Ae.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Enable RSS"})]}),e.jsx("p",{className:"text-xs text-gray-500 ml-7 -mt-3",children:"Periodically query indexer for new releases"}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:R.enableAutomaticSearch??!0,onChange:Ae=>he("enableAutomaticSearch",Ae.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Enable Automatic Search"})]}),e.jsx("p",{className:"text-xs text-gray-500 ml-7 -mt-3",children:"Automatic searches via API will use this indexer"}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:R.enableInteractiveSearch??!0,onChange:Ae=>he("enableInteractiveSearch",Ae.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Enable Interactive Search"})]}),e.jsx("p",{className:"text-xs text-gray-500 ml-7 -mt-3",children:"Manual searches in the UI will use this indexer"})]}),Te("baseUrl")&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-white",children:"Connection"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"URL *"}),e.jsx("input",{type:"text",value:R.baseUrl||"",onChange:Ae=>he("baseUrl",Ae.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",placeholder:P?"https://indexer.com":"http://localhost:9117/api/v2.0/indexers/torrentleech/"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:P?"Newznab feed URL":"Torznab feed URL (from Jackett/Prowlarr)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"API Path"}),e.jsx("input",{type:"text",value:R.apiPath||"/api",onChange:Ae=>he("apiPath",Ae.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",placeholder:"/api"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"API path for the indexer (usually /api for Newznab/Torznab)"})]})]}),Te("apiKey")&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-white",children:"Authentication"}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["API Key ",E?"":"*"]}),e.jsx("input",{type:"password",value:R.apiKey||"",onChange:Ae=>he("apiKey",Ae.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",placeholder:E?"Leave blank to keep existing API key":"Enter your API key"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:E?"Leave blank to keep the existing API key, or enter a new one to update it":`API key from your ${R.implementation} account`})]})]}),Te("categories")&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-white",children:"Categories"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category IDs"}),e.jsx("input",{type:"text",value:(R.categories||[]).join(", "),onChange:Ae=>{const J=Ae.target.value.split(",").map(xe=>parseInt(xe.trim())).filter(xe=>!isNaN(xe));he("categories",J)},className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",placeholder:"5000, 5030, 5040 (combat sports categories)"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Comma-separated category IDs. Leave empty to search all categories."})]})]}),G&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-white",children:"Torrent Settings"}),Te("minimumSeeders")&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Minimum Seeders"}),e.jsx("input",{type:"number",value:R.minimumSeeders||0,onChange:Ae=>he("minimumSeeders",parseInt(Ae.target.value)),min:"0",className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum number of seeders required to grab a torrent"})]}),a&&Te("seedRatio")&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Seed Ratio"}),e.jsx("input",{type:"number",step:"0.1",value:R.seedRatio||0,onChange:Ae=>he("seedRatio",parseFloat(Ae.target.value)),min:"0",className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Seed ratio required before torrent is stopped. 0 = disabled"})]}),a&&Te("seedTime")&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Seed Time (minutes)"}),e.jsx("input",{type:"number",value:R.seedTime||0,onChange:Ae=>he("seedTime",parseInt(Ae.target.value)),min:"0",className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Seed time required before torrent is stopped. 0 = disabled"})]}),a&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Season-Pack Seed Time (minutes)"}),e.jsx("input",{type:"number",value:R.seasonPackSeedTime||0,onChange:Ae=>he("seasonPackSeedTime",parseInt(Ae.target.value)),min:"0",className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Seed time for season packs. 0 = use Seed Time setting"})]}),a&&e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:R.rejectBlocklistedTorrentHashes??!0,onChange:Ae=>he("rejectBlocklistedTorrentHashes",Ae.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Reject Blocklisted Torrent Hashes"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-white",children:"Priority"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Indexer Priority"}),e.jsx("input",{type:"number",value:R.priority!==void 0?R.priority:25,onChange:Ae=>he("priority",parseInt(Ae.target.value)||25),min:"1",max:"50",className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Priority when choosing between indexers (1-50, lower is higher priority)"})]})]}),a&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-white",children:"Advanced Options"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Early Release Limit"}),e.jsx("input",{type:"number",value:R.earlyReleaseLimit||0,onChange:Ae=>he("earlyReleaseLimit",parseInt(Ae.target.value)),min:"0",className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"How many days before an event can be grabbed. 0 = disabled"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Additional Parameters"}),e.jsx("input",{type:"text",value:R.additionalParameters||"",onChange:Ae=>he("additionalParameters",Ae.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",placeholder:"&extended=1"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Additional Newznab/Torznab parameters"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Multi Languages"}),e.jsx("input",{type:"text",value:(R.multiLanguages||[]).join(", "),onChange:Ae=>{const J=Ae.target.value.split(",").map(xe=>xe.trim()).filter(xe=>xe);he("multiLanguages",J)},className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",placeholder:"en, es, fr"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Comma-separated language codes for multi-language releases"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Download Client"}),e.jsx("input",{type:"number",value:R.downloadClientId||0,onChange:Ae=>he("downloadClientId",parseInt(Ae.target.value)),min:"0",className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",placeholder:"0 (use default)"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Download client ID to use for this indexer. 0 = use default"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tags"}),e.jsx("input",{type:"text",value:(R.tags||[]).join(", "),onChange:Ae=>{const J=Ae.target.value.split(",").map(xe=>parseInt(xe.trim())).filter(xe=>!isNaN(xe));he("tags",J)},className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",placeholder:"1, 2, 3"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Comma-separated tag IDs for filtering"})]})]})]})},De=()=>E?R.name&&R.name.trim().length>0:R.name&&R.name.trim().length>0&&R.baseUrl&&R.baseUrl.trim().length>0;return e.jsxs("div",{children:[e.jsx(ni,{title:"Indexers",subtitle:"Configure Usenet indexers and torrent trackers for searching combat sports events",onSave:B,isSaving:be,hasUnsavedChanges:se,saveButtonText:"Save Changes",children:e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer text-sm",children:[e.jsx("input",{type:"checkbox",checked:a,onChange:N=>r(N.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600 focus:ring-offset-gray-900"}),e.jsx("span",{className:"text-gray-300",children:"Show Advanced"})]})}),e.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[te&&e.jsxs("div",{className:"mb-6 bg-red-950/30 border border-red-900/50 rounded-lg p-4 flex items-start",children:[e.jsx(Es,{className:"w-6 h-6 text-red-400 mr-3 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-red-400 mb-1",children:"Error"}),e.jsx("p",{className:"text-sm text-gray-300",children:te})]}),e.jsx("button",{onClick:()=>z(null),className:"text-gray-400 hover:text-white ml-4",children:e.jsx(pt,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"mb-8 bg-blue-950/30 border border-blue-900/50 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(ks,{className:"w-6 h-6 text-blue-400 mr-3 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"About Indexers"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-400 mr-2",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:"Usenet Indexers:"})," Newznab-compatible sites that index Usenet posts"]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-400 mr-2",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:"Torrent Trackers:"})," Sites or applications (Jackett/Prowlarr) that track torrent files"]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-400 mr-2",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:"Priority:"})," Higher priority indexers are searched first (1-50)"]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-400 mr-2",children:""}),e.jsxs("span",{children:["Use ",e.jsx("strong",{children:"Prowlarr"})," or ",e.jsx("strong",{children:"Jackett"})," to manage multiple indexers through a single Torznab endpoint"]})]})]})]})]})}),e.jsxs("div",{className:"mb-8 bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("h3",{className:"text-xl font-semibold text-white",children:"Your Indexers"}),T.length>0&&e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer text-sm",children:[e.jsx("input",{type:"checkbox",checked:x.size===T.length&&T.length>0,onChange:Ye,className:"w-4 h-4 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsx("span",{className:"text-gray-400",children:"Select All"})]}),x.size>0&&e.jsxs("span",{className:"text-sm text-gray-400",children:["(",x.size," selected)"]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[x.size>0&&e.jsxs("button",{onClick:()=>w(!0),className:"flex items-center px-4 py-2 bg-red-900 hover:bg-red-800 text-white rounded-lg transition-colors",children:[e.jsx(vt,{className:"w-4 h-4 mr-2"}),"Delete Selected (",x.size,")"]}),e.jsxs("button",{onClick:()=>C(!0),className:"flex items-center px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:[e.jsx(ws,{className:"w-4 h-4 mr-2"}),"Add Indexer"]})]})]}),e.jsx("div",{className:"space-y-3",children:T.map(N=>e.jsx("div",{className:`group bg-black/30 border rounded-lg p-4 transition-all ${x.has(N.id)?"border-red-600 bg-red-950/20":"border-gray-800 hover:border-red-900/50"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"checkbox",checked:x.has(N.id),onChange:()=>_e(N.id),className:"w-5 h-5 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600 cursor-pointer"})}),e.jsx("div",{className:"mt-1",children:N.enabled?e.jsx(Ut,{className:"w-6 h-6 text-green-500"}):e.jsx(Es,{className:"w-6 h-6 text-gray-500"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h4",{className:"text-lg font-semibold text-white",children:N.name}),e.jsx("span",{className:`px-2 py-0.5 text-xs rounded ${N.protocol==="usenet"?"bg-blue-900/30 text-blue-400":"bg-green-900/30 text-green-400"}`,children:N.protocol.toUpperCase()}),e.jsxs("span",{className:"px-2 py-0.5 bg-gray-800 text-gray-400 text-xs rounded",children:["Priority: ",N.priority]})]}),e.jsxs("div",{className:"space-y-1 text-sm text-gray-400",children:[e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-500",children:"Implementation:"})," ",e.jsx("span",{className:"text-white",children:N.implementation})]}),N.baseUrl&&e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-500",children:"URL:"})," ",e.jsx("span",{className:"text-white",children:N.baseUrl})]}),N.categories&&N.categories.length>0&&e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-500",children:"Categories:"})," ",e.jsx("span",{className:"text-white",children:N.categories.join(", ")})]}),N.protocol==="torrent"&&e.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[N.minimumSeeders!==void 0&&e.jsxs("span",{className:"text-gray-500",children:["Min Seeders:"," ",e.jsx("span",{className:"text-white",children:N.minimumSeeders})]}),N.seedRatio!==void 0&&e.jsxs("span",{className:"text-gray-500",children:["Seed Ratio: ",e.jsx("span",{className:"text-white",children:N.seedRatio})]})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("button",{onClick:()=>Ve(N),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded transition-colors",title:"Test",children:e.jsx(Ut,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>{fe(N),C(!0)},className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded transition-colors",title:"Edit",children:e.jsx(Xa,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>U(N.id),className:"p-2 text-gray-400 hover:text-red-400 hover:bg-red-950/30 rounded transition-colors",title:"Delete",children:e.jsx(vt,{className:"w-5 h-5"})})]})]})},N.id))}),o&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-red-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Loading indexers..."})]}),!o&&T.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ks,{className:"w-16 h-16 text-gray-700 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 mb-2",children:"No indexers configured"}),e.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Add indexers to search for combat sports events or sync from Prowlarr"})]})]}),a&&e.jsxs("div",{className:"mb-8 bg-gradient-to-br from-gray-900 to-black border border-yellow-900/30 rounded-lg p-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-white mb-4",children:["Indexer Options",e.jsx("span",{className:"ml-2 px-2 py-0.5 bg-yellow-900/30 text-yellow-400 text-xs rounded",children:"Advanced"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Retention"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"number",value:k,onChange:N=>K(Number(N.target.value)),className:"w-32 px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",min:"0"}),e.jsx("span",{className:"text-gray-400",children:"days"})]}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Set to 0 to disable. Releases older than this will not be grabbed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"RSS Sync Interval"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"number",value:ne,onChange:N=>_(Number(N.target.value)),className:"w-32 px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",min:"10"}),e.jsx("span",{className:"text-gray-400",children:"minutes"})]}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"How often Sportarr will sync with indexers. Minimum 10 minutes."})]}),e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:we,onChange:N=>Y(N.target.checked),className:"mt-1 w-5 h-5 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-medium",children:"Prefer Indexer Flags"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Prefer releases with special indexer flags (Freeleech, Scene, etc.)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Search Cache Duration"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"number",value:L,onChange:N=>O(Number(N.target.value)),className:"w-32 px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",min:"10",max:"600"}),e.jsx("span",{className:"text-gray-400",children:"seconds"})]}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"How long to cache search results before making new API calls. Prevents rate limiting when searching multi-part events (e.g., UFC with Prelims/Main Card). Minimum 10 seconds."})]})]})]}),(j||E)&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/50 rounded-lg p-6 max-w-4xl w-full my-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:E?`Edit ${E.name}`:"Add Indexer"}),e.jsx("button",{onClick:q,className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded transition-colors",children:e.jsx(pt,{className:"w-6 h-6"})})]}),!y&&!E?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-gray-400 mb-6",children:"Select an indexer type to configure"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-h-96 overflow-y-auto",children:Rb.map(N=>e.jsxs("button",{onClick:()=>W(N),className:"flex items-start p-4 bg-black/30 border border-gray-800 hover:border-red-600 rounded-lg transition-all text-left group",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h4",{className:"text-white font-semibold",children:N.name}),e.jsx("span",{className:`px-2 py-0.5 text-xs rounded ${N.protocol==="usenet"?"bg-blue-900/30 text-blue-400":"bg-green-900/30 text-green-400"}`,children:N.protocol.toUpperCase()})]}),e.jsx("p",{className:"text-sm text-gray-400",children:N.description})]}),e.jsx(ws,{className:"w-5 h-5 text-gray-400 group-hover:text-red-400 transition-colors"})]},N.implementation))})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"max-h-[60vh] overflow-y-auto pr-2",children:ye()}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-800 flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:q,className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:()=>Ve(R),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Test"}),e.jsx("button",{onClick:Me,disabled:!De(),className:`px-4 py-2 rounded-lg transition-colors ${De()?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:"Save"})]})]})]})}),D!==null&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/50 rounded-lg p-6 max-w-md w-full",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Delete Indexer?"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Are you sure you want to delete this indexer? This action cannot be undone."}),e.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:()=>U(null),className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:()=>Re(D),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Delete"})]})]})}),b&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/50 rounded-lg p-6 max-w-md w-full",children:[e.jsxs("h3",{className:"text-2xl font-bold text-white mb-4",children:["Delete ",x.size," Indexer",x.size>1?"s":"","?"]}),e.jsx("p",{className:"text-gray-400 mb-4",children:"Are you sure you want to delete the following indexers? This action cannot be undone."}),e.jsx("div",{className:"bg-black/30 border border-gray-800 rounded-lg p-3 mb-6 max-h-40 overflow-y-auto",children:e.jsx("ul",{className:"space-y-1 text-sm text-gray-300",children:T.filter(N=>x.has(N.id)).map(N=>e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-red-400",children:""}),e.jsx("span",{children:N.name}),e.jsxs("span",{className:"text-gray-500 text-xs",children:["(",N.implementation,")"]})]},N.id))})}),e.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:()=>w(!1),className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:Je,disabled:p.isPending,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors disabled:opacity-50",children:p.isPending?"Deleting...":`Delete ${x.size} Indexer${x.size>1?"s":""}`})]})]})})]})]})}const Db=[{value:0,label:"RSS Feed",description:"Generic RSS feed with event listings"},{value:1,label:"Custom API",description:"Tapology, Sherdog, or custom API endpoint"},{value:2,label:"Calendar/iCal",description:"iCalendar feed (UFC, Bellator schedules)"},{value:3,label:"UFC Schedule",description:"Official UFC event schedule"},{value:4,label:"Bellator Schedule",description:"Official Bellator event schedule"},{value:5,label:"Custom Script",description:"Custom script/webhook for event discovery"}];function ZC({showAdvanced:a=!1}){const[r,l]=u.useState([]),[o,d]=u.useState([]),[h,f]=u.useState([]),[p,x]=u.useState([]),[g,b]=u.useState(!0),[w,T]=u.useState(null),[j,C]=u.useState(!1),[E,S]=u.useState(null),[D,U]=u.useState(null),[y,F]=u.useState({name:"",enabled:!0,listType:0,url:"",qualityProfileId:1,rootFolderPath:"",monitorEvents:!0,searchOnAdd:!1,tags:[],minimumDaysBeforeEvent:0});u.useEffect(()=>{te()},[]);const te=async()=>{try{const[O,be,I,se]=await Promise.all([fetch("/api/importlist").then(de=>de.ok?de.json():[]),fetch("/api/qualityprofile").then(de=>de.ok?de.json():[]),fetch("/api/rootfolder").then(de=>de.ok?de.json():[]),fetch("/api/tag").then(de=>de.ok?de.json():[])]);l(O),d(be),f(I),x(se)}catch(O){console.error("Failed to load data:",O)}finally{b(!1)}},z=async()=>{try{const O=w?`/api/importlist/${w.id}`:"/api/importlist";(await fetch(O,{method:w?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)})).ok&&(await te(),C(!1),T(null),we())}catch(O){console.error("Error saving import list:",O)}},k=async O=>{try{(await fetch(`/api/importlist/${O}`,{method:"DELETE"})).ok&&(await te(),S(null))}catch(be){console.error("Error deleting import list:",be)}},K=async O=>{U(O);try{(await fetch(`/api/importlist/${O}/sync`,{method:"POST"})).ok&&await te()}catch(be){console.error("Error syncing import list:",be)}finally{U(null)}},ne=()=>{T(null),we(),C(!0)},_=O=>{T(O),F({...O}),C(!0)},we=()=>{var O,be;F({name:"",enabled:!0,listType:0,url:"",qualityProfileId:((O=o[0])==null?void 0:O.id)||1,rootFolderPath:((be=h[0])==null?void 0:be.path)||"",monitorEvents:!0,searchOnAdd:!1,tags:[],minimumDaysBeforeEvent:0})},Y=O=>{F(be=>({...be,tags:be.tags.includes(O)?be.tags.filter(I=>I!==O):[...be.tags,O]}))},L=O=>{var be;return((be=Db.find(I=>I.value===O))==null?void 0:be.label)||"Unknown"};return g?e.jsx("div",{className:"max-w-6xl mx-auto text-center py-12",children:e.jsx("div",{className:"text-gray-400",children:"Loading import lists..."})}):e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Import Lists"}),e.jsx("p",{className:"text-gray-400",children:"Automatically discover and add events from external sources"})]}),e.jsxs("div",{className:"mb-8 bg-gradient-to-br from-purple-950/30 to-purple-900/20 border border-purple-900/50 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Recommended Sources for Combat Sports"}),e.jsxs("ul",{className:"text-sm text-gray-300 space-y-2",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-purple-400 mr-2",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:"TheSportsDB:"})," Good coverage of MMA/Boxing events with API support"]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-purple-400 mr-2",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:"Tapology:"})," Excellent for MMA (UFC, Bellator, ONE, PFL) - use Custom API"]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-purple-400 mr-2",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:"RSS Feeds:"})," Many combat sports sites publish RSS feeds with upcoming events"]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-purple-400 mr-2",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:"iCal/Calendar:"})," Official promotion schedules (UFC, Bellator publish these)"]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white",children:"Import Lists"}),e.jsxs("button",{onClick:ne,className:"flex items-center px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:[e.jsx(ws,{className:"w-4 h-4 mr-2"}),"Add Import List"]})]}),r.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-500 mb-4",children:"No import lists configured"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Add an import list to automatically discover events from external sources"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-800",children:[e.jsx("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"Name"}),e.jsx("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"Type"}),e.jsx("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"Last Sync"}),e.jsx("th",{className:"text-right py-3 px-4 text-gray-400 font-medium",children:"Actions"})]})}),e.jsx("tbody",{children:r.map(O=>e.jsxs("tr",{className:"border-b border-gray-800 hover:bg-gray-900/50 transition-colors",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-white font-medium",children:O.name}),!O.enabled&&e.jsx("span",{className:"ml-2 px-2 py-0.5 bg-gray-700 text-gray-400 text-xs rounded",children:"Disabled"})]})}),e.jsx("td",{className:"py-3 px-4 text-gray-300",children:L(O.listType)}),e.jsx("td",{className:"py-3 px-4",children:O.enabled?e.jsx("span",{className:"px-2 py-1 bg-green-900/30 text-green-400 text-xs rounded",children:"Enabled"}):e.jsx("span",{className:"px-2 py-1 bg-gray-700 text-gray-400 text-xs rounded",children:"Disabled"})}),e.jsx("td",{className:"py-3 px-4 text-sm text-gray-400",children:O.lastSync?new Date(O.lastSync).toLocaleDateString():"Never"}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>K(O.id),disabled:D===O.id,className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded transition-colors disabled:opacity-50",title:"Sync Now",children:e.jsx(Rt,{className:`w-5 h-5 ${D===O.id?"animate-spin":""}`})}),e.jsx("button",{onClick:()=>_(O),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded transition-colors",title:"Edit",children:e.jsx(Xa,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>S(O.id),className:"p-2 text-gray-400 hover:text-red-400 hover:bg-red-950/30 rounded transition-colors",title:"Delete",children:e.jsx(vt,{className:"w-5 h-5"})})]})})]},O.id))})]})})]}),j&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/50 rounded-lg p-6 max-w-2xl w-full my-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:w?"Edit Import List":"Add Import List"}),e.jsx("button",{onClick:()=>{C(!1),T(null)},className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded transition-colors",children:e.jsx(pt,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto pr-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Name *"}),e.jsx("input",{type:"text",value:y.name,onChange:O=>F({...y,name:O.target.value}),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",placeholder:"UFC Events from Tapology"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"List Type *"}),e.jsx("select",{value:y.listType,onChange:O=>F({...y,listType:parseInt(O.target.value)}),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",children:Db.map(O=>e.jsxs("option",{value:O.value,children:[O.label," - ",O.description]},O.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"URL *"}),e.jsx("input",{type:"text",value:y.url,onChange:O=>F({...y,url:O.target.value}),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600 font-mono text-sm",placeholder:"https://example.com/events.rss"})]}),a&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"API Key (Optional)"}),e.jsx("input",{type:"password",value:y.apiKey||"",onChange:O=>F({...y,apiKey:O.target.value}),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600 font-mono text-sm",placeholder:"API key if required"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Quality Profile *"}),e.jsx("select",{value:y.qualityProfileId,onChange:O=>F({...y,qualityProfileId:parseInt(O.target.value)}),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",children:o.map(O=>e.jsx("option",{value:O.id,children:O.name},O.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Root Folder *"}),e.jsx("select",{value:y.rootFolderPath,onChange:O=>F({...y,rootFolderPath:O.target.value}),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",children:h.map(O=>e.jsx("option",{value:O.path,children:O.path},O.id))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:y.enabled,onChange:O=>F({...y,enabled:O.target.checked}),className:"w-4 h-4 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Enable this import list"})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:y.monitorEvents,onChange:O=>F({...y,monitorEvents:O.target.checked}),className:"w-4 h-4 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Monitor discovered events"})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:y.searchOnAdd,onChange:O=>F({...y,searchOnAdd:O.target.checked}),className:"w-4 h-4 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Search for events on add"})]})]}),a&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Minimum Days Before Event"}),e.jsx("input",{type:"number",min:"0",value:y.minimumDaysBeforeEvent,onChange:O=>F({...y,minimumDaysBeforeEvent:parseInt(O.target.value)||0}),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only add events at least this many days in the future (0 = all future events)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Organization Filter (Optional)"}),e.jsx("input",{type:"text",value:y.organizationFilter||"",onChange:O=>F({...y,organizationFilter:O.target.value}),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",placeholder:"UFC, Bellator, ONE"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Comma-separated organizations to filter (empty = all)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tags (Optional)"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[p.map(O=>e.jsx("button",{onClick:()=>Y(O.id),className:`px-3 py-1 rounded text-sm transition-colors ${y.tags.includes(O.id)?"bg-red-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:O.label},O.id)),p.length===0&&e.jsx("p",{className:"text-sm text-gray-500",children:"No tags available"})]})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-800 flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{C(!1),T(null)},className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:z,disabled:!y.name||!y.url,className:"px-4 py-2 bg-red-600 hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg transition-colors",children:"Save"})]})]})}),E!==null&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/50 rounded-lg p-6 max-w-md w-full",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Delete Import List?"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Are you sure you want to delete this import list? This action cannot be undone."}),e.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:()=>S(null),className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:()=>k(E),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Delete"})]})]})})]})}const XC={qBittorrent:0,Transmission:1,Deluge:2,rTorrent:3,uTorrent:4,SABnzbd:5,NZBGet:6},Mb={0:"qBittorrent",1:"Transmission",2:"Deluge",3:"rTorrent",4:"uTorrent",5:"SABnzbd",6:"NZBGet"},vh=a=>{const r=a===5||a===6?"usenet":"torrent";return console.log(`[DEBUG] getProtocol: type=${a}, protocol=${r}, type===5: ${a===5}, type===6: ${a===6}`),r},Fb=[{name:"SABnzbd",implementation:"SABnzbd",protocol:"usenet",description:"Open source binary newsreader",defaultPort:8080,fields:["host","port","useSsl","urlBase","apiKey","category","recentPriority","olderPriority","removeCompletedDownloads","removeFailedDownloads"]},{name:"NZBGet",implementation:"NZBGet",protocol:"usenet",description:"Efficient Usenet downloader",defaultPort:6789,fields:["host","port","useSsl","urlBase","username","password","category","recentPriority","olderPriority","removeCompletedDownloads","removeFailedDownloads"]},{name:"qBittorrent",implementation:"qBittorrent",protocol:"torrent",description:"Free and reliable torrent client",defaultPort:8080,fields:["host","port","useSsl","urlBase","username","password","category","postImportCategory","recentPriority","olderPriority","initialState","sequentialOrder","firstAndLast","removeCompletedDownloads","removeFailedDownloads"]},{name:"Transmission",implementation:"Transmission",protocol:"torrent",description:"Fast and easy torrent client",defaultPort:9091,fields:["host","port","useSsl","urlBase","username","password","category","removeCompletedDownloads","removeFailedDownloads"]},{name:"Deluge",implementation:"Deluge",protocol:"torrent",description:"Lightweight torrent client",defaultPort:8112,fields:["host","port","useSsl","urlBase","password","category","postImportCategory","recentPriority","olderPriority","removeCompletedDownloads","removeFailedDownloads"]},{name:"rTorrent",implementation:"rTorrent",protocol:"torrent",description:"Command-line torrent client",defaultPort:8080,fields:["host","port","useSsl","urlBase","username","password","category","postImportCategory","removeCompletedDownloads","removeFailedDownloads"]},{name:"Vuze",implementation:"Vuze",protocol:"torrent",description:"Feature-rich torrent client",defaultPort:9091,fields:["host","port","useSsl","urlBase","username","password","category","postImportCategory","recentPriority","olderPriority","removeCompletedDownloads","removeFailedDownloads"]}];function JC({showAdvanced:a=!1}){const[r,l]=u.useState([]),[o,d]=u.useState(!1),[h,f]=u.useState(null),[p,x]=u.useState(null),[g,b]=u.useState(null),[w,T]=u.useState(!1),[j,C]=u.useState(null),[E,S]=u.useState([]),[D,U]=u.useState(!1),[y,F]=u.useState(null),[te,z]=u.useState(null),[k,K]=u.useState({host:"",remotePath:"",localPath:""});u.useEffect(()=>{ne(),_(),Te()},[]);const ne=async()=>{try{T(!0);const ae=await qe.get("/downloadclient");console.log("[DEBUG] Loaded download clients from API:",ae.data),ae.data.forEach($e=>{console.log(`[DEBUG] Client: ${$e.name}, Type: ${$e.type}, Protocol: ${vh($e.type)}, UrlBase: ${$e.urlBase}`)}),l(ae.data)}catch(ae){console.error("Failed to load download clients:",ae)}finally{T(!1)}},_=async()=>{try{const ae=await js("/api/settings");if(ae.ok){const $e=await ae.json(),Qe={enableCompletedDownloadHandling:$e.enableCompletedDownloadHandling??!0,removeCompletedDownloadsGlobal:$e.removeCompletedDownloads??!0,checkForFinishedDownloads:$e.checkForFinishedDownloadInterval??1,enableFailedDownloadHandling:$e.enableFailedDownloadHandling??!0,redownloadFailedEvents:$e.redownloadFailedDownloads??!0,removeFailedDownloadsGlobal:$e.removeFailedDownloads??!0,maxDownloadQueueSize:$e.maxDownloadQueueSize??-1,searchSleepDuration:$e.searchSleepDuration??900};L(Qe.enableCompletedDownloadHandling),be(Qe.removeCompletedDownloadsGlobal),se(Qe.checkForFinishedDownloads),V(Qe.enableFailedDownloadHandling),$(Qe.redownloadFailedEvents),B(Qe.removeFailedDownloadsGlobal),he(Qe.maxDownloadQueueSize),Me(Qe.searchSleepDuration),Je.current=Qe,Ye(!1)}}catch(ae){console.error("Failed to load settings:",ae)}},we=async()=>{Re(!0);try{const ae=await js("/api/settings");if(!ae.ok)throw new Error("Failed to fetch current settings");const Qe={...await ae.json(),enableCompletedDownloadHandling:Y,removeCompletedDownloads:O,checkForFinishedDownloadInterval:I,enableFailedDownloadHandling:de,redownloadFailedDownloads:R,removeFailedDownloads:je,maxDownloadQueueSize:W,searchSleepDuration:Se};await nl("/api/settings",Qe),Je.current={enableCompletedDownloadHandling:Y,removeCompletedDownloadsGlobal:O,checkForFinishedDownloads:I,enableFailedDownloadHandling:de,removeFailedDownloadsGlobal:je,redownloadFailedEvents:R,maxDownloadQueueSize:W,searchSleepDuration:Se},Ye(!1)}catch(ae){console.error("Failed to save settings:",ae),pe.error("Save Failed",{description:"Failed to save settings. Please try again."})}finally{Re(!1)}},[Y,L]=u.useState(!0),[O,be]=u.useState(!0),[I,se]=u.useState(1),[de,V]=u.useState(!0),[je,B]=u.useState(!0),[R,$]=u.useState(!0),[W,he]=u.useState(-1),[Se,Me]=u.useState(900),[fe,Re]=u.useState(!1),[_e,Ye]=u.useState(!1),Je=u.useRef(null);li(_e),u.useEffect(()=>{if(!Je.current)return;const $e=JSON.stringify({enableCompletedDownloadHandling:Y,removeCompletedDownloadsGlobal:O,checkForFinishedDownloads:I,enableFailedDownloadHandling:de,removeFailedDownloadsGlobal:je,redownloadFailedEvents:R,maxDownloadQueueSize:W,searchSleepDuration:Se})!==JSON.stringify(Je.current);Ye($e)},[Y,O,I,de,je,R,W,Se]);const[re,ke]=u.useState({enabled:!0,priority:1,useSsl:!1,disableSslCertificateValidation:!1,category:"sportarr",type:0,name:"",host:"localhost",port:8080}),Fe=ae=>{b(ae),C(null),ke({name:ae.name,type:XC[ae.implementation]??0,enabled:!0,priority:1,host:"localhost",port:ae.defaultPort,useSsl:!1,disableSslCertificateValidation:!1,username:"",password:"",apiKey:"",category:"sportarr"})},Ge=(ae,$e)=>{ke(Qe=>({...Qe,[ae]:$e}))},Ve=async()=>{if(!(!re.name||!re.host))try{T(!0),console.log("[DEBUG] Saving download client with data:",re),console.log("[DEBUG] UrlBase value being saved:",re.urlBase),h?await qe.put(`/downloadclient/${h.id}`,re):await qe.post("/downloadclient",re),await ne(),d(!1),f(null),b(null),C(null),ke({enabled:!0,priority:1,useSsl:!1,category:"sportarr",type:0,name:"",host:"localhost",port:8080})}catch(ae){console.error("Failed to save download client:",ae),pe.error("Save Failed",{description:"Failed to save download client. Please check the console for details."})}finally{T(!1)}},q=ae=>{console.log("[DEBUG] Editing client:",ae),console.log("[DEBUG] Client urlBase:",ae.urlBase),f(ae),ke(ae),console.log("[DEBUG] FormData after setFormData:",ae),C(null);const $e=Mb[ae.type],Qe=Fb.find(Yt=>Yt.implementation===$e);b(Qe||null),d(!0)},ye=async ae=>{try{T(!0),await qe.delete(`/downloadclient/${ae}`),await ne(),x(null)}catch($e){console.error("Failed to delete download client:",$e),pe.error("Delete Failed",{description:"Failed to delete download client. Please try again."})}finally{T(!1)}},[De,N]=u.useState(null),G=async(ae,$e=!1)=>{var Qe,Yt;try{T(!0),"id"in ae&&ae.id&&N(ae.id),C(null);const Ot=await qe.post("/downloadclient/test",ae),ot={success:Ot.data.success,message:Ot.data.message||"Connection successful!"};C(ot),$e&&(ot.success?pe.success("Connection Test Passed",{description:ot.message}):pe.error("Connection Test Failed",{description:ot.message}))}catch(Ot){console.error("Test failed:",Ot);const ot={success:!1,message:((Yt=(Qe=Ot.response)==null?void 0:Qe.data)==null?void 0:Yt.message)||"Connection test failed!"};C(ot),$e&&pe.error("Connection Test Failed",{description:ot.message})}finally{T(!1),N(null)}},P=()=>{d(!1),f(null),b(null),C(null),ke({enabled:!0,priority:1,useSsl:!1,category:"sportarr",type:0,name:"",host:"localhost",port:8080})},Te=async()=>{try{const ae=await qe.get("/remotepathmapping");S(ae.data)}catch(ae){console.error("Failed to load path mappings:",ae)}},Ae=()=>{F(null),K({host:"",remotePath:"",localPath:""}),U(!0)},J=ae=>{F(ae),K({host:ae.host,remotePath:ae.remotePath,localPath:ae.localPath}),U(!0)},xe=async()=>{try{T(!0),y?await qe.put(`/remotepathmapping/${y.id}`,k):await qe.post("/remotepathmapping",k),await Te(),U(!1),K({host:"",remotePath:"",localPath:""})}catch(ae){console.error("Failed to save path mapping:",ae),pe.error("Save Failed",{description:"Failed to save path mapping. Please try again."})}finally{T(!1)}},ze=async ae=>{try{await qe.delete(`/remotepathmapping/${ae}`),await Te(),z(null)}catch($e){console.error("Failed to delete path mapping:",$e),pe.error("Delete Failed",{description:"Failed to delete path mapping. Please try again."})}};return e.jsxs("div",{children:[e.jsx(ni,{title:"Download Clients",subtitle:"Configure download clients for Usenet and torrent downloads",onSave:we,isSaving:fe,hasUnsavedChanges:_e,saveButtonText:"Save Changes"}),e.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[e.jsx("div",{className:"mb-8 bg-blue-950/30 border border-blue-900/50 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(Qs,{className:"w-6 h-6 text-blue-400 mr-3 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"About Download Clients"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-400 mr-2",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:"Usenet Clients:"})," SABnzbd, NZBGet for downloading from Usenet"]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-400 mr-2",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:"Torrent Clients:"})," qBittorrent, Transmission, Deluge for torrents"]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-400 mr-2",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:"Priority:"})," Lower priority clients are used as fallback"]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-400 mr-2",children:""}),e.jsxs("span",{children:["Use ",e.jsx("strong",{children:"categories"})," to organize downloads and allow proper hardlinking"]})]})]})]})]})}),e.jsxs("div",{className:"mb-8 bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white",children:"Your Download Clients"}),e.jsxs("button",{onClick:()=>d(!0),className:"flex items-center px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:[e.jsx(ws,{className:"w-4 h-4 mr-2"}),"Add Download Client"]})]}),e.jsx("div",{className:"space-y-3",children:r.map(ae=>e.jsx("div",{className:"group bg-black/30 border border-gray-800 hover:border-red-900/50 rounded-lg p-4 transition-all",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[e.jsx("div",{className:"mt-1",children:ae.enabled?e.jsx(Ut,{className:"w-6 h-6 text-green-500"}):e.jsx(Es,{className:"w-6 h-6 text-gray-500"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h4",{className:"text-lg font-semibold text-white",children:ae.name}),e.jsx("span",{className:`px-2 py-0.5 text-xs rounded ${vh(ae.type)==="usenet"?"bg-blue-900/30 text-blue-400":"bg-green-900/30 text-green-400"}`,children:vh(ae.type).toUpperCase()}),e.jsxs("span",{className:"px-2 py-0.5 bg-gray-800 text-gray-400 text-xs rounded",children:["Priority: ",ae.priority]})]}),e.jsxs("div",{className:"space-y-1 text-sm text-gray-400",children:[e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-500",children:"Implementation:"})," ",e.jsx("span",{className:"text-white",children:Mb[ae.type]})]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-500",children:"Host:"})," ",e.jsxs("span",{className:"text-white",children:[ae.host,":",ae.port]})]}),ae.category&&e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-500",children:"Category:"})," ",e.jsx("span",{className:"text-white",children:ae.category})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("button",{onClick:()=>G(ae,!0),disabled:De===ae.id,className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Test Connection",children:De===ae.id?e.jsxs("svg",{className:"w-5 h-5 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):e.jsx(Ut,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>q(ae),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded transition-colors",title:"Edit",children:e.jsx(Xa,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>x(ae.id),className:"p-2 text-gray-400 hover:text-red-400 hover:bg-red-950/30 rounded transition-colors",title:"Delete",children:e.jsx(vt,{className:"w-5 h-5"})})]})]})},ae.id))}),r.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Qs,{className:"w-16 h-16 text-gray-700 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 mb-2",children:"No download clients configured"}),e.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Add at least one download client to download combat sports events"})]})]}),e.jsxs("div",{className:"mb-8 bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Completed Download Handling"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:Y,onChange:ae=>L(ae.target.checked),className:"mt-1 w-5 h-5 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-medium",children:"Enable"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Automatically import completed downloads from download clients"})]})]}),Y&&e.jsxs(e.Fragment,{children:[e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:O,onChange:ae=>be(ae.target.checked),className:"mt-1 w-5 h-5 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-medium",children:"Remove Completed Downloads"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Remove completed downloads from download client history"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Check For Finished Downloads Interval"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"number",value:I,onChange:ae=>se(Number(ae.target.value)),className:"w-32 px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",min:"1"}),e.jsx("span",{className:"text-gray-400",children:"minute(s)"})]}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"How often Sportarr will check download clients for completed downloads"})]})]})]})]}),e.jsxs("div",{className:"mb-8 bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Failed Download Handling"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:de,onChange:ae=>V(ae.target.checked),className:"mt-1 w-5 h-5 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-medium",children:"Enable"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Automatically handle failed downloads"})]})]}),de&&e.jsxs(e.Fragment,{children:[e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:R,onChange:ae=>$(ae.target.checked),className:"mt-1 w-5 h-5 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-medium",children:"Redownload"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Automatically search for and attempt to download a different release"})]})]}),e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:je,onChange:ae=>B(ae.target.checked),className:"mt-1 w-5 h-5 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-medium",children:"Remove Failed Downloads"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Remove failed downloads from download client history"})]})]})]})]})]}),e.jsxs("div",{className:"mb-8 bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Search Queue Management"}),e.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Control automatic searching behavior when your download queue is busy. Prevents overwhelming indexers and download clients."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Maximum Download Queue Size"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"number",value:W,onChange:ae=>he(Number(ae.target.value)),className:"w-32 px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",min:"-1"}),e.jsx("span",{className:"text-gray-400",children:"items"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Pause automatic searches when download queue exceeds this size. Set to -1 to disable (no limit)."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Search Sleep Duration"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"number",value:Se,onChange:ae=>Me(Number(ae.target.value)),className:"w-32 px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",min:"60"}),e.jsx("span",{className:"text-gray-400",children:"seconds"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Time between automatic search cycles. Default is 900 seconds (15 minutes)."})]})]})]}),e.jsxs("div",{className:"mb-8 bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-white",children:"Remote Path Mappings"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Map download client paths to Sportarr paths (required for Docker/remote clients)"})]}),e.jsxs("button",{onClick:Ae,className:"flex items-center px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors text-sm",children:[e.jsx(ws,{className:"w-4 h-4 mr-2"}),"Add Mapping"]})]}),E.length>0?e.jsx("div",{className:"space-y-3",children:E.map(ae=>e.jsx("div",{className:"bg-gray-900/50 border border-gray-800 rounded-lg p-4 hover:border-gray-700 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("div",{className:"flex-1 space-y-2",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Host:"}),e.jsx("p",{className:"text-white mt-1",children:ae.host})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Remote Path:"}),e.jsx("p",{className:"text-white mt-1 font-mono text-xs break-all",children:ae.remotePath})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Local Path:"}),e.jsx("p",{className:"text-white mt-1 font-mono text-xs break-all",children:ae.localPath})]})]})}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("button",{onClick:()=>J(ae),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded transition-colors",title:"Edit",children:e.jsx(Xa,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>z(ae.id),className:"p-2 text-gray-400 hover:text-red-400 hover:bg-red-950/30 rounded transition-colors",title:"Delete",children:e.jsx(vt,{className:"w-5 h-5"})})]})]})},ae.id))}):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("p",{children:"No remote path mappings configured"}),e.jsx("p",{className:"text-sm mt-2",children:"Only needed if download client is on a different system or in Docker"})]})]}),o&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/50 rounded-lg p-6 max-w-4xl w-full my-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:h?`Edit ${h.name}`:"Add Download Client"}),e.jsx("button",{onClick:P,className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded transition-colors",children:e.jsx(pt,{className:"w-6 h-6"})})]}),!g&&!h?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-gray-400 mb-6",children:"Select a download client type to configure"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-h-96 overflow-y-auto",children:Fb.map(ae=>e.jsxs("button",{onClick:()=>Fe(ae),className:"flex items-start p-4 bg-black/30 border border-gray-800 hover:border-red-600 rounded-lg transition-all text-left group",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h4",{className:"text-white font-semibold",children:ae.name}),e.jsx("span",{className:`px-2 py-0.5 text-xs rounded ${ae.protocol==="usenet"?"bg-blue-900/30 text-blue-400":"bg-green-900/30 text-green-400"}`,children:ae.protocol.toUpperCase()})]}),e.jsx("p",{className:"text-sm text-gray-400",children:ae.description})]}),e.jsx(ws,{className:"w-5 h-5 text-gray-400 group-hover:text-red-400 transition-colors"})]},ae.implementation))})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"max-h-[60vh] overflow-y-auto pr-2 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Name *"}),e.jsx("input",{type:"text",value:re.name||"",onChange:ae=>Ge("name",ae.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",placeholder:"My Download Client"})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:re.enabled||!1,onChange:ae=>Ge("enabled",ae.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Enable this download client"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-white",children:"Connection"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Host *"}),e.jsx("input",{type:"text",value:re.host||"",onChange:ae=>Ge("host",ae.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",placeholder:"localhost"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Port *"}),e.jsx("input",{type:"number",value:re.port||"",onChange:ae=>Ge("port",parseInt(ae.target.value)),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",placeholder:"8080"})]})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:re.useSsl||!1,onChange:ae=>Ge("useSsl",ae.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Use SSL"})]}),re.useSsl&&e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:re.disableSslCertificateValidation||!1,onChange:ae=>Ge("disableSslCertificateValidation",ae.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Disable SSL Certificate Validation"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Allows connections with self-signed certificates. Only enable this for local networks."})]})]}),(g==null?void 0:g.fields.includes("urlBase"))&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"URL Base"}),e.jsx("input",{type:"text",value:re.urlBase||"",onChange:ae=>Ge("urlBase",ae.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",placeholder:g.name==="SABnzbd"||g.name==="NZBGet"?"Leave empty for default (root)":g.name==="Transmission"?"/transmission":g.name==="Deluge"?"Leave empty for default (root)":g.name==="rTorrent"?"/rutorrent":g.name==="qBittorrent"?"Leave empty for default (root)":""}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[g.name==="SABnzbd"&&"URL base configured in SABnzbd. Default is root (leave empty). Use /sabnzbd only if configured in SABnzbd settings.",g.name==="NZBGet"&&"URL base for NZBGet web interface. Default is root (leave empty). Use /nzbget only if configured in NZBGet settings.",g.name==="qBittorrent"&&"URL path prefix for qBittorrent Web UI. Default is root (leave empty). Set only if configured in qBittorrent settings.",g.name==="Transmission"&&"RPC URL path for Transmission. Default is /transmission. Leave empty only if you changed it in Transmission settings.",g.name==="Deluge"&&"Base URL for Deluge web interface. Default is root (leave empty). Use /deluge only if configured in Deluge settings.",g.name==="rTorrent"&&"URL base for ruTorrent web interface. Default is /rutorrent. Leave empty only if you changed it in ruTorrent settings.",g.name==="Vuze"&&"URL base for Vuze web interface. Default is root (leave empty)."]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-white",children:"Authentication"}),(g==null?void 0:g.fields.includes("apiKey"))&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["API Key ",h?"":"*"]}),e.jsx("input",{type:"password",value:re.apiKey||"",onChange:ae=>Ge("apiKey",ae.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",placeholder:h?"Leave blank to keep existing API key":"Enter API key"}),h&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave blank to keep the existing API key, or enter a new one to update it"})]}),(g==null?void 0:g.fields.includes("username"))&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Username"}),e.jsx("input",{type:"text",value:re.username||"",onChange:ae=>Ge("username",ae.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",placeholder:"username"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),e.jsx("input",{type:"password",value:re.password||"",onChange:ae=>Ge("password",ae.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",placeholder:h?"Leave blank to keep existing":"password"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-white",children:"Category"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category"}),e.jsx("input",{type:"text",value:re.category||"",onChange:ae=>Ge("category",ae.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",placeholder:"sportarr"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Category for downloads (creates subdirectory in download client)"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-white",children:"Priority"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Client Priority"}),e.jsx("input",{type:"number",value:re.priority||1,onChange:ae=>Ge("priority",parseInt(ae.target.value)),min:"1",max:"50",className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Priority when choosing between download clients (1-50, lower is higher priority)"})]})]}),(g==null?void 0:g.fields.includes("sequentialOrder"))&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-white",children:"Download Options"}),e.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"These options are useful for debrid services (Decypharr, rdt-client) and for streaming while downloading."}),e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:re.sequentialDownload||!1,onChange:ae=>Ge("sequentialDownload",ae.target.checked),className:"mt-1 w-4 h-4 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-medium",children:"Sequential Download"}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Download pieces in order (first to last). Required for debrid services like Decypharr."})]})]}),e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:re.firstAndLastFirst||!1,onChange:ae=>Ge("firstAndLastFirst",ae.target.checked),className:"mt-1 w-4 h-4 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-medium",children:"First and Last Pieces First"}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Prioritize first and last pieces for quick video preview while downloading."})]})]})]})]}),j&&e.jsx("div",{className:`mt-4 p-4 rounded-lg border ${j.success?"bg-green-950/30 border-green-900/50":"bg-red-950/30 border-red-900/50"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[j.success?e.jsx(Ut,{className:"w-5 h-5 text-green-400"}):e.jsx(Es,{className:"w-5 h-5 text-red-400"}),e.jsx("span",{className:j.success?"text-green-300":"text-red-300",children:j.message})]})}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-800 flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:P,className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors",disabled:w,children:"Cancel"}),e.jsx("button",{onClick:()=>G(re),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:w,children:w?"Testing...":"Test"}),e.jsx("button",{onClick:Ve,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:w,children:w?"Saving...":"Save"})]})]})]})}),p!==null&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/50 rounded-lg p-6 max-w-md w-full",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Delete Download Client?"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Are you sure you want to delete this download client? This action cannot be undone."}),e.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:()=>x(null),className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:()=>ye(p),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Delete"})]})]})}),D&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/50 rounded-lg p-6 max-w-2xl w-full",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:y?"Edit Remote Path Mapping":"Add Remote Path Mapping"}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"bg-blue-950/30 border border-blue-900/50 rounded-lg p-4",children:[e.jsxs("p",{className:"text-sm text-blue-300",children:[e.jsx("strong",{children:"When to use:"})," If your download client is on a different machine or in Docker, the paths it reports may not match where Sportarr can access them. This mapping translates the download client's path to the path Sportarr should use."]}),e.jsxs("p",{className:"text-sm text-blue-300 mt-2",children:[e.jsx("strong",{children:"Example:"})," Download client reports ",e.jsx("code",{className:"bg-blue-900/30 px-1 rounded",children:"/downloads/complete/"}),"but Sportarr accesses it at ",e.jsx("code",{className:"bg-blue-900/30 px-1 rounded",children:"\\\\192.168.1.100\\downloads\\complete\\"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-white font-medium mb-2",children:["Host",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("input",{type:"text",value:k.host,onChange:ae=>K({...k,host:ae.target.value}),placeholder:"localhost, 192.168.1.100, or download-client-hostname",className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Download client host name or IP address (must match the download client's configured host)"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-white font-medium mb-2",children:["Remote Path",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("input",{type:"text",value:k.remotePath,onChange:ae=>K({...k,remotePath:ae.target.value}),placeholder:"/downloads/complete/sportarr/ or C:\\Downloads\\Complete\\Sportarr\\",className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600 font-mono text-sm"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Path as reported by the download client (use forward slashes for Linux/Docker paths)"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-white font-medium mb-2",children:["Local Path",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("input",{type:"text",value:k.localPath,onChange:ae=>K({...k,localPath:ae.target.value}),placeholder:"\\\\192.168.1.100\\downloads\\complete\\sportarr\\ or /mnt/downloads/complete/sportarr/",className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600 font-mono text-sm"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Path that Sportarr should use to access the same location"})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:()=>U(!1),className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:xe,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:!k.host||!k.remotePath||!k.localPath,children:"Save"})]})]})}),te!==null&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/50 rounded-lg p-6 max-w-md w-full",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Delete Path Mapping?"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Are you sure you want to delete this remote path mapping? This action cannot be undone."}),e.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:()=>z(null),className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:()=>ze(te),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Delete"})]})]})})]})]})}const Ob=[{name:"Discord",implementation:"Discord",description:"Send notifications via Discord webhook",icon:"",fields:["webhook","username","onGrab","onDownload","onUpgrade","onHealthIssue","onApplicationUpdate"]},{name:"Telegram",implementation:"Telegram",description:"Send notifications via Telegram bot",icon:"",fields:["token","chatId","onGrab","onDownload","onUpgrade","onHealthIssue","onApplicationUpdate"]},{name:"Email (SMTP)",implementation:"Email",description:"Send notifications via email",icon:"",fields:["server","port","useSsl","username","password","from","to","subject","onGrab","onDownload","onUpgrade","onHealthIssue","onApplicationUpdate"]},{name:"Webhook",implementation:"Webhook",description:"Send JSON POST to custom URL",icon:"",fields:["webhook","onGrab","onDownload","onUpgrade","onRename","onHealthIssue","onApplicationUpdate"]},{name:"Pushover",implementation:"Pushover",description:"Send push notifications via Pushover",icon:"",fields:["apiKey","username","onGrab","onDownload","onUpgrade","onHealthIssue","onApplicationUpdate"]},{name:"Slack",implementation:"Slack",description:"Send notifications to Slack channel",icon:"",fields:["webhook","username","channel","onGrab","onDownload","onUpgrade","onHealthIssue","onApplicationUpdate"]}];function WC({showAdvanced:a=!1}){const[r,l]=u.useState([]),[o,d]=u.useState(!0),[h,f]=u.useState(!1),[p,x]=u.useState(null),[g,b]=u.useState(null),[w,T]=u.useState(null);u.useEffect(()=>{j()},[]);const j=async()=>{try{const k=await js("/api/notification");if(k.ok){const ne=(await k.json()).map(_=>({..._,..._.configJson?JSON.parse(_.configJson):{}}));l(ne)}}catch(k){console.error("Failed to fetch notifications:",k)}finally{d(!1)}},[C,E]=u.useState({enabled:!0,onGrab:!0,onDownload:!0,onUpgrade:!1,onRename:!1,onHealthIssue:!0,onApplicationUpdate:!1,includeHealthWarnings:!1,useSsl:!0,port:587}),S=k=>{T(k),E({name:k.name,implementation:k.implementation,enabled:!0,onGrab:!0,onDownload:!0,onUpgrade:!1,onRename:!1,onHealthIssue:!0,onApplicationUpdate:!1,includeHealthWarnings:!1,useSsl:k.implementation==="Email",port:k.implementation==="Email"?587:void 0})},D=(k,K)=>{E(ne=>({...ne,[k]:K}))},U=async()=>{if(C.name)try{const{id:k,name:K,implementation:ne,enabled:_,...we}=C,L={name:K||"",implementation:ne||"",enabled:_??!0,configJson:JSON.stringify(we)};if(p)if((await nl(`/api/notification/${p.id}`,{...L,id:p.id})).ok)await j();else return;else if((await Jn("/api/notification",L)).ok)await j();else return;f(!1),x(null),T(null),E({enabled:!0,onGrab:!0,onDownload:!0,onUpgrade:!1,onRename:!1,onHealthIssue:!0,onApplicationUpdate:!1,includeHealthWarnings:!1})}catch(k){console.error("Failed to save notification:",k)}},y=k=>{x(k),E(k);const K=Ob.find(ne=>ne.implementation===k.implementation);T(K||null),f(!0)},F=async k=>{try{(await Ud(`/api/notification/${k}`)).ok&&(await j(),b(null))}catch(K){console.error("Failed to delete notification:",K)}},te=k=>{console.log(`Testing notification: ${k.name}`)},z=()=>{f(!1),x(null),T(null),E({enabled:!0,onGrab:!0,onDownload:!0,onUpgrade:!1,onRename:!1,onHealthIssue:!0,onApplicationUpdate:!1,includeHealthWarnings:!1})};return e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Connect (Notifications)"}),e.jsx("p",{className:"text-gray-400",children:"Configure notifications and connections to other services"})]}),e.jsx("div",{className:"mb-8 bg-blue-950/30 border border-blue-900/50 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(nh,{className:"w-6 h-6 text-blue-400 mr-3 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"About Notifications"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-400 mr-2",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:"On Grab:"})," Notification sent when an event is grabbed for download"]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-400 mr-2",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:"On Download:"})," Notification sent when an event finishes downloading"]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-400 mr-2",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:"On Upgrade:"})," Notification sent when a better quality version is downloaded"]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-400 mr-2",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:"On Health Issue:"})," Notification sent for system health warnings/errors"]})]})]})]})]})}),e.jsxs("div",{className:"mb-8 bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white",children:"Your Notifications"}),e.jsxs("button",{onClick:()=>f(!0),className:"flex items-center px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:[e.jsx(ws,{className:"w-4 h-4 mr-2"}),"Add Notification"]})]}),e.jsx("div",{className:"space-y-3",children:r.map(k=>e.jsx("div",{className:"group bg-black/30 border border-gray-800 hover:border-red-900/50 rounded-lg p-4 transition-all",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[e.jsx("div",{className:"mt-1",children:k.enabled?e.jsx(Ut,{className:"w-6 h-6 text-green-500"}):e.jsx(pt,{className:"w-6 h-6 text-gray-500"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h4",{className:"text-lg font-semibold text-white",children:k.name}),e.jsx("span",{className:"px-2 py-0.5 bg-purple-900/30 text-purple-400 text-xs rounded",children:k.implementation})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[k.onGrab&&e.jsx("span",{className:"px-2 py-1 bg-blue-900/30 text-blue-400 rounded",children:"On Grab"}),k.onDownload&&e.jsx("span",{className:"px-2 py-1 bg-green-900/30 text-green-400 rounded",children:"On Download"}),k.onUpgrade&&e.jsx("span",{className:"px-2 py-1 bg-yellow-900/30 text-yellow-400 rounded",children:"On Upgrade"}),k.onRename&&e.jsx("span",{className:"px-2 py-1 bg-purple-900/30 text-purple-400 rounded",children:"On Rename"}),k.onHealthIssue&&e.jsx("span",{className:"px-2 py-1 bg-red-900/30 text-red-400 rounded",children:"Health Issues"}),k.onApplicationUpdate&&e.jsx("span",{className:"px-2 py-1 bg-cyan-900/30 text-cyan-400 rounded",children:"App Updates"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("button",{onClick:()=>te(k),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded transition-colors",title:"Test",children:e.jsx(nh,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>y(k),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded transition-colors",title:"Edit",children:e.jsx(Xa,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>b(k.id),className:"p-2 text-gray-400 hover:text-red-400 hover:bg-red-950/30 rounded transition-colors",title:"Delete",children:e.jsx(vt,{className:"w-5 h-5"})})]})]})},k.id))}),r.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(nh,{className:"w-16 h-16 text-gray-700 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 mb-2",children:"No notifications configured"}),e.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Add notification connections to get alerts about downloads and system events"})]})]}),h&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/50 rounded-lg p-6 max-w-4xl w-full my-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:p?`Edit ${p.name}`:"Add Notification"}),e.jsx("button",{onClick:z,className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded transition-colors",children:e.jsx(pt,{className:"w-6 h-6"})})]}),!w&&!p?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-gray-400 mb-6",children:"Select a notification service to configure"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-h-96 overflow-y-auto",children:Ob.map(k=>e.jsxs("button",{onClick:()=>S(k),className:"flex items-start p-4 bg-black/30 border border-gray-800 hover:border-red-600 rounded-lg transition-all text-left group",children:[e.jsx("div",{className:"text-3xl mr-4",children:k.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-white font-semibold mb-1",children:k.name}),e.jsx("p",{className:"text-sm text-gray-400",children:k.description})]}),e.jsx(ws,{className:"w-5 h-5 text-gray-400 group-hover:text-red-400 transition-colors"})]},k.implementation))})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"max-h-[60vh] overflow-y-auto pr-2 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Name *"}),e.jsx("input",{type:"text",value:C.name||"",onChange:k=>D("name",k.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",placeholder:"My Notification"})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:C.enabled||!1,onChange:k=>D("enabled",k.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Enable this notification"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-white",children:"Connection"}),(w==null?void 0:w.fields.includes("webhook"))&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Webhook URL *"}),e.jsx("input",{type:"url",value:C.webhook||"",onChange:k=>D("webhook",k.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",placeholder:"https://discord.com/api/webhooks/..."})]}),(w==null?void 0:w.fields.includes("token"))&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Bot Token *"}),e.jsx("input",{type:"password",value:C.token||"",onChange:k=>D("token",k.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",placeholder:"Your bot token"})]}),(w==null?void 0:w.fields.includes("chatId"))&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Chat ID *"}),e.jsx("input",{type:"text",value:C.chatId||"",onChange:k=>D("chatId",k.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",placeholder:"123456789"})]}),(w==null?void 0:w.fields.includes("apiKey"))&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"API Key *"}),e.jsx("input",{type:"password",value:C.apiKey||"",onChange:k=>D("apiKey",k.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",placeholder:"Your API key"})]}),(w==null?void 0:w.fields.includes("server"))&&e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"SMTP Server *"}),e.jsx("input",{type:"text",value:C.server||"",onChange:k=>D("server",k.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",placeholder:"smtp.gmail.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Port *"}),e.jsx("input",{type:"number",value:C.port||"",onChange:k=>D("port",parseInt(k.target.value)),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",placeholder:"587"})]})]}),(w==null?void 0:w.fields.includes("from"))&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"From *"}),e.jsx("input",{type:"email",value:C.from||"",onChange:k=>D("from",k.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",placeholder:"sportarr@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"To *"}),e.jsx("input",{type:"email",value:C.to||"",onChange:k=>D("to",k.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",placeholder:"you@example.com"})]})]}),(w==null?void 0:w.fields.includes("channel"))&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Channel"}),e.jsx("input",{type:"text",value:C.channel||"",onChange:k=>D("channel",k.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",placeholder:"#general"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-white",children:"Notification Triggers"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer p-3 bg-black/30 rounded-lg hover:bg-black/50 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:C.onGrab||!1,onChange:k=>D("onGrab",k.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-300",children:"On Grab"})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer p-3 bg-black/30 rounded-lg hover:bg-black/50 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:C.onDownload||!1,onChange:k=>D("onDownload",k.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-300",children:"On Download"})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer p-3 bg-black/30 rounded-lg hover:bg-black/50 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:C.onUpgrade||!1,onChange:k=>D("onUpgrade",k.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-300",children:"On Upgrade"})]}),(w==null?void 0:w.fields.includes("onRename"))&&e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer p-3 bg-black/30 rounded-lg hover:bg-black/50 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:C.onRename||!1,onChange:k=>D("onRename",k.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-300",children:"On Rename"})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer p-3 bg-black/30 rounded-lg hover:bg-black/50 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:C.onHealthIssue||!1,onChange:k=>D("onHealthIssue",k.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-300",children:"On Health Issue"})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer p-3 bg-black/30 rounded-lg hover:bg-black/50 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:C.onApplicationUpdate||!1,onChange:k=>D("onApplicationUpdate",k.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-300",children:"On App Update"})]})]})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-800 flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:z,className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:()=>te(C),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Test"}),e.jsx("button",{onClick:U,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Save"})]})]})]})}),g!==null&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/50 rounded-lg p-6 max-w-md w-full",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Delete Notification?"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Are you sure you want to delete this notification connection? This action cannot be undone."}),e.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:()=>b(null),className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:()=>F(g),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Delete"})]})]})})]})}function ek({showAdvanced:a=!1}){Sa();const[r,l]=u.useState(!0),[o,d]=u.useState(!1),[h,f]=u.useState(!1),[p,x]=u.useState(!1),g=u.useRef(null);li(p);const[b,w]=u.useState({bindAddress:"*",port:7878,urlBase:"",instanceName:"Sportarr",launchBrowser:!1,enableSsl:!1,sslPort:9898,sslCertPath:"",sslCertPassword:""}),[T,j]=u.useState({authenticationMethod:"none",authenticationRequired:"disabledForLocalAddresses",username:"",password:"",apiKey:"d290f1ee-6c54-4b01-90e6-d701748f0851",certificateValidation:"enabled"}),[C,E]=u.useState({useProxy:!1,proxyType:"http",proxyHostname:"",proxyPort:8080,proxyUsername:"",proxyPassword:"",proxyBypassFilter:"",proxyBypassLocalAddresses:!0}),[S,D]=u.useState({logLevel:"info"}),[U,y]=u.useState({sendAnonymousUsageData:!1}),[F,te]=u.useState({backupFolder:"",backupInterval:7,backupRetention:28}),[z,k]=u.useState({branch:"main",updateAutomatically:!1,updateMechanism:"docker",updateScriptPath:""});u.useEffect(()=>{K()},[]),u.useEffect(()=>{if(!g.current)return;const L=JSON.stringify({host:b,security:T,proxy:C,logging:S,analytics:U,backup:F,update:z})!==JSON.stringify(g.current);x(L)},[b,T,C,S,U,F,z]);const K=async()=>{try{const Y=await js("/api/settings");if(Y.ok){const L=await Y.json(),O={host:L.hostSettings?JSON.parse(L.hostSettings):null,security:L.securitySettings?JSON.parse(L.securitySettings):null,proxy:L.proxySettings?JSON.parse(L.proxySettings):null,logging:L.loggingSettings?JSON.parse(L.loggingSettings):null,analytics:L.analyticsSettings?JSON.parse(L.analyticsSettings):null,backup:L.backupSettings?JSON.parse(L.backupSettings):null,update:L.updateSettings?JSON.parse(L.updateSettings):null};O.host&&w(O.host),O.security&&j(O.security),O.proxy&&E(O.proxy),O.logging&&D(O.logging),O.analytics&&y(O.analytics),O.backup&&te(O.backup),O.update&&k(O.update),g.current=O,x(!1)}}catch(Y){console.error("Failed to load settings:",Y)}finally{l(!1)}},ne=async()=>{d(!0);try{const Y=await js("/api/settings");if(!Y.ok)throw new Error("Failed to fetch current settings");const O={...await Y.json(),hostSettings:JSON.stringify(b),securitySettings:JSON.stringify(T),proxySettings:JSON.stringify(C),loggingSettings:JSON.stringify(S),analyticsSettings:JSON.stringify(U),backupSettings:JSON.stringify(F),updateSettings:JSON.stringify(z)};await nl("/api/settings",O),g.current={host:b,security:T,proxy:C,logging:S,analytics:U,backup:F,update:z},x(!1)}catch(Y){console.error("Failed to save settings:",Y),pe.error("Save Failed",{description:"Failed to save settings. Please try again."})}finally{d(!1)}},_=async()=>{try{if(!T.apiKey){console.error("No API key to copy");return}if(navigator.clipboard&&navigator.clipboard.writeText)try{await navigator.clipboard.writeText(T.apiKey),f(!0),setTimeout(()=>f(!1),2e3);return}catch(L){console.warn("Clipboard API failed, trying fallback:",L)}const Y=document.createElement("textarea");Y.value=T.apiKey,Y.style.position="fixed",Y.style.left="-999999px",Y.style.top="-999999px",document.body.appendChild(Y),Y.focus(),Y.select();try{document.execCommand("copy")?(f(!0),setTimeout(()=>f(!1),2e3)):console.error("Fallback copy command failed")}catch(L){console.error("Fallback copy failed:",L)}finally{document.body.removeChild(Y)}}catch(Y){console.error("Failed to copy API key:",Y)}},we=async()=>{if(confirm("Are you sure you want to regenerate the API key? All connected applications (Prowlarr, download clients, etc.) will need to be updated with the new key."))try{const Y=await Jn("/api/settings/apikey/regenerate",{});if(Y.ok){const L=await Y.json();j(O=>({...O,apiKey:L.apiKey})),pe.success("API Key Regenerated",{description:"Update all connected applications with the new key.",duration:1e4})}else pe.error("Regeneration Failed",{description:"Failed to regenerate API key. Please try again."})}catch(Y){console.error("Failed to regenerate API key:",Y),pe.error("Regeneration Failed",{description:Y instanceof Error?Y.message:"An unexpected error occurred."})}};return r?e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"General"}),e.jsx("p",{className:"text-gray-400",children:"General application settings"})]}),e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500",children:"Loading settings..."})})]}):e.jsxs("div",{children:[e.jsx(ni,{title:"General",subtitle:"General application settings",onSave:ne,isSaving:o,hasUnsavedChanges:p,saveButtonText:o?"Saving...":"Save Changes"}),e.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[e.jsxs("div",{className:"mb-8 bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(y0,{className:"w-6 h-6 text-red-400 mr-3"}),e.jsx("h3",{className:"text-xl font-semibold text-white",children:"Host"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Bind Address"}),e.jsx("input",{type:"text",value:b.bindAddress,onChange:Y=>w(L=>({...L,bindAddress:Y.target.value})),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",placeholder:"*"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"* = all interfaces, localhost = local only"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Port Number"}),e.jsx("input",{type:"number",value:b.port,onChange:Y=>w(L=>({...L,port:Number(Y.target.value)})),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Restart required to apply"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"URL Base"}),e.jsx("input",{type:"text",value:b.urlBase,onChange:Y=>w(L=>({...L,urlBase:Y.target.value})),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",placeholder:"/sportarr"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"For reverse proxy support, leave empty if not using a reverse proxy"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Instance Name"}),e.jsx("input",{type:"text",value:b.instanceName,onChange:Y=>w(L=>({...L,instanceName:Y.target.value})),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Instance name in browser tab and notifications"})]}),e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:b.launchBrowser,onChange:Y=>w(L=>({...L,launchBrowser:Y.target.checked})),className:"mt-1 w-5 h-5 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-medium",children:"Launch Browser on Startup"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Automatically open web browser when Sportarr starts (useful for desktop installations)"})]})]}),a&&e.jsxs(e.Fragment,{children:[e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:b.enableSsl,onChange:Y=>w(L=>({...L,enableSsl:Y.target.checked})),className:"mt-1 w-5 h-5 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-medium",children:"Enable SSL"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Requires restart. Use SSL to access Sportarr (https://)"}),e.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 bg-yellow-900/30 text-yellow-400 text-xs rounded",children:"Advanced"})]})]}),b.enableSsl&&e.jsxs("div",{className:"ml-8 space-y-4 p-4 bg-black/30 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"SSL Port"}),e.jsx("input",{type:"number",value:b.sslPort,onChange:Y=>w(L=>({...L,sslPort:Number(Y.target.value)})),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"SSL Certificate Path"}),e.jsx("input",{type:"text",value:b.sslCertPath,onChange:Y=>w(L=>({...L,sslCertPath:Y.target.value})),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",placeholder:"/path/to/cert.pfx"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"SSL Certificate Password"}),e.jsx("input",{type:"password",value:b.sslCertPassword,onChange:Y=>w(L=>({...L,sslCertPassword:Y.target.value})),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600"})]})]})]})]})]}),e.jsxs("div",{className:"mb-8 bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(Qh,{className:"w-6 h-6 text-red-400 mr-3"}),e.jsx("h3",{className:"text-xl font-semibold text-white",children:"Security"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-blue-900/20 border border-blue-900/30 rounded-lg",children:e.jsxs("p",{className:"text-blue-300 text-sm",children:[e.jsx("strong",{children:"Authentication is always required."})," Change your username and password below, then save. You'll need to login again with the new credentials."]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Username"}),e.jsx("input",{type:"text",value:T.username,onChange:Y=>j(L=>({...L,username:Y.target.value})),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",autoComplete:"username",placeholder:"Enter new username"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Current username will be replaced when you save"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Password"}),e.jsx("input",{type:"password",value:T.password,onChange:Y=>j(L=>({...L,password:Y.target.value})),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",autoComplete:"new-password",placeholder:"Enter new password (min 6 chars)"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave blank to keep current password"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"API Key"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"text",value:T.apiKey,readOnly:!0,className:"flex-1 px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none font-mono text-sm"}),e.jsx("button",{onClick:_,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors flex items-center space-x-2",title:"Copy API Key",children:h?e.jsxs(e.Fragment,{children:[e.jsx(Sr,{className:"w-5 h-5"}),e.jsx("span",{children:"Copied!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ky,{className:"w-5 h-5"}),e.jsx("span",{children:"Copy"})]})}),e.jsx("button",{onClick:we,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Regenerate"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Used by apps and scripts to access Sportarr API. After regenerating, update all connected applications (Prowlarr, download clients, etc.) with the new key."})]}),a&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Certificate Validation"}),e.jsxs("select",{value:T.certificateValidation,onChange:Y=>j(L=>({...L,certificateValidation:Y.target.value})),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",children:[e.jsx("option",{value:"enabled",children:"Enabled"}),e.jsx("option",{value:"disabledForLocalAddresses",children:"Disabled For Local Addresses"}),e.jsx("option",{value:"disabled",children:"Disabled"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Change how strict HTTPS certificate validation is"}),e.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 bg-yellow-900/30 text-yellow-400 text-xs rounded",children:"Advanced"})]})]})]}),a&&e.jsxs("div",{className:"mb-8 bg-gradient-to-br from-gray-900 to-black border border-yellow-900/30 rounded-lg p-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-white mb-4",children:["Proxy Settings",e.jsx("span",{className:"ml-2 px-2 py-0.5 bg-yellow-900/30 text-yellow-400 text-xs rounded",children:"Advanced"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:C.useProxy,onChange:Y=>E(L=>({...L,useProxy:Y.target.checked})),className:"mt-1 w-5 h-5 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-medium",children:"Use Proxy"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Route requests through a proxy server"})]})]}),C.useProxy&&e.jsxs("div",{className:"ml-8 space-y-4 p-4 bg-black/30 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Proxy Type"}),e.jsxs("select",{value:C.proxyType,onChange:Y=>E(L=>({...L,proxyType:Y.target.value})),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",children:[e.jsx("option",{value:"http",children:"HTTP(S)"}),e.jsx("option",{value:"socks4",children:"SOCKS4"}),e.jsx("option",{value:"socks5",children:"SOCKS5"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Hostname"}),e.jsx("input",{type:"text",value:C.proxyHostname,onChange:Y=>E(L=>({...L,proxyHostname:Y.target.value})),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",placeholder:"proxy.example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Port"}),e.jsx("input",{type:"number",value:C.proxyPort,onChange:Y=>E(L=>({...L,proxyPort:Number(Y.target.value)})),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Username"}),e.jsx("input",{type:"text",value:C.proxyUsername,onChange:Y=>E(L=>({...L,proxyUsername:Y.target.value})),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",placeholder:"Optional"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Password"}),e.jsx("input",{type:"password",value:C.proxyPassword,onChange:Y=>E(L=>({...L,proxyPassword:Y.target.value})),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",placeholder:"Optional"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Ignored Addresses"}),e.jsx("input",{type:"text",value:C.proxyBypassFilter,onChange:Y=>E(L=>({...L,proxyBypassFilter:Y.target.value})),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",placeholder:"localhost,127.0.0.1"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Comma separated list of addresses that bypass the proxy"})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:C.proxyBypassLocalAddresses,onChange:Y=>E(L=>({...L,proxyBypassLocalAddresses:Y.target.checked})),className:"w-4 h-4 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsx("span",{className:"text-sm text-gray-300",children:"Bypass Proxy for Local Addresses"})]})]})]})]}),e.jsxs("div",{className:"mb-8 bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Logging"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Log Level"}),e.jsxs("select",{value:S.logLevel,onChange:Y=>D(L=>({...L,logLevel:Y.target.value})),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",children:[e.jsx("option",{value:"trace",children:"Trace"}),e.jsx("option",{value:"debug",children:"Debug"}),e.jsx("option",{value:"info",children:"Info"}),e.jsx("option",{value:"warn",children:"Warn"}),e.jsx("option",{value:"error",children:"Error"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Trace/Debug logs should only be enabled when troubleshooting issues"})]})]}),e.jsxs("div",{className:"mb-8 bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(U5,{className:"w-6 h-6 text-red-400 mr-3"}),e.jsx("h3",{className:"text-xl font-semibold text-white",children:"Analytics"})]}),e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:U.sendAnonymousUsageData,onChange:Y=>y(L=>({...L,sendAnonymousUsageData:Y.target.checked})),className:"mt-1 w-5 h-5 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-medium",children:"Send Anonymous Usage Data"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Help improve Sportarr by sending anonymous usage statistics. No personal information is collected."})]})]})]}),e.jsxs("div",{className:"mb-8 bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(lS,{className:"w-6 h-6 text-red-400 mr-3"}),e.jsx("h3",{className:"text-xl font-semibold text-white",children:"Backups"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Backup Folder"}),e.jsx("input",{type:"text",value:F.backupFolder,onChange:Y=>te(L=>({...L,backupFolder:Y.target.value})),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",placeholder:"/config/backups"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Folder to store backup files (relative to AppData directory)"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Backup Interval"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"number",value:F.backupInterval,onChange:Y=>te(L=>({...L,backupInterval:Number(Y.target.value)})),className:"w-32 px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",min:"1"}),e.jsx("span",{className:"text-gray-400",children:"days"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Backup Retention"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"number",value:F.backupRetention,onChange:Y=>te(L=>({...L,backupRetention:Number(Y.target.value)})),className:"w-32 px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",min:"1"}),e.jsx("span",{className:"text-gray-400",children:"days"})]})]})]})]})]}),e.jsxs("div",{className:"mb-8 bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(uo,{className:"w-6 h-6 text-red-400 mr-3"}),e.jsx("h3",{className:"text-xl font-semibold text-white",children:"Media Server Agents"})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Download metadata agents for your media server. These agents fetch sports metadata (posters, banners, descriptions) from sportarr.net."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-black/30 rounded-lg border border-gray-800 flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-white font-medium",children:"Plex"}),e.jsx("span",{className:"text-xs bg-green-600/20 text-green-400 px-2 py-0.5 rounded",children:"Recommended"})]}),e.jsxs("p",{className:"text-gray-400 text-xs mb-2",children:[e.jsx("strong",{className:"text-gray-300",children:"Custom Metadata Provider"})," (Plex 1.43.0+)"]}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("code",{className:"flex-1 text-xs bg-gray-800 text-gray-300 px-2 py-1.5 rounded overflow-x-auto",children:"https://sportarr.net/plex"}),e.jsx("button",{type:"button",onClick:async()=>{try{await navigator.clipboard.writeText("https://sportarr.net/plex"),pe.success("Provider URL copied to clipboard")}catch{const Y=document.createElement("textarea");Y.value="https://sportarr.net/plex",document.body.appendChild(Y),Y.select(),document.execCommand("copy"),document.body.removeChild(Y),pe.success("Provider URL copied to clipboard")}},className:"p-1.5 bg-gray-700 hover:bg-gray-600 text-gray-300 rounded transition-colors",title:"Copy URL",children:e.jsx(Vy,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"text-gray-400 text-xs mb-3 space-y-1",children:[e.jsx("p",{children:e.jsx("strong",{className:"text-gray-300",children:"Setup:"})}),e.jsx("p",{children:"1. Settings  Metadata Agents  + Add Provider"}),e.jsx("p",{children:"2. Paste URL above  + Add Agent  Name it  Save"}),e.jsx("p",{children:"3. Restart Plex"}),e.jsx("p",{children:"4. Create TV Shows library with Sportarr agent"})]}),e.jsxs("details",{className:"text-xs",children:[e.jsx("summary",{className:"text-gray-500 cursor-pointer hover:text-gray-400 mb-2",children:"Legacy agent for older Plex versions"}),e.jsx("p",{className:"text-gray-500 mb-2",children:"For Plex versions before 1.43.0, download and install the legacy bundle agent."}),e.jsxs("a",{href:"/api/system/agents/plex/download",download:"Sportarr-Legacy.bundle.zip",className:"inline-flex items-center px-2 py-1 bg-gray-700 hover:bg-gray-600 text-gray-300 text-xs rounded transition-colors w-fit",children:[e.jsx(Qs,{className:"w-3 h-3 mr-1"}),"Download Legacy Agent"]})]})]}),e.jsxs("div",{className:"p-4 bg-black/30 rounded-lg border border-gray-800 flex flex-col",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("span",{className:"text-white font-medium",children:"Jellyfin"})}),e.jsx("p",{className:"text-gray-400 text-xs mb-3 flex-1",children:"Build the plugin or copy the DLL to your Jellyfin plugins directory. Create a Shows library and enable Sportarr metadata."}),e.jsxs("a",{href:"/api/system/agents/jellyfin/download",download:"Sportarr-Jellyfin.zip",className:"inline-flex items-center px-3 py-2 bg-purple-600 hover:bg-purple-700 text-white text-sm rounded-lg transition-colors w-fit",children:[e.jsx(Qs,{className:"w-4 h-4 mr-2"}),"Download Jellyfin Agent"]})]})]}),e.jsxs("p",{className:"text-gray-500 text-xs mt-4",children:["Docker users: Agents are also available at ",e.jsx("code",{className:"bg-gray-800 px-1 rounded",children:"/config/agents/"})," in your mounted config volume."]})]}),e.jsxs("div",{className:"mb-8 bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(Rt,{className:"w-6 h-6 text-red-400 mr-3"}),e.jsx("h3",{className:"text-xl font-semibold text-white",children:"Updates"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Branch"}),e.jsxs("select",{value:z.branch,onChange:Y=>k(L=>({...L,branch:Y.target.value})),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",children:[e.jsx("option",{value:"main",children:"Main (Stable)"}),e.jsx("option",{value:"develop",children:"Develop (Beta)"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Branch to receive updates from"})]}),e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:z.updateAutomatically,onChange:Y=>k(L=>({...L,updateAutomatically:Y.target.checked})),className:"mt-1 w-5 h-5 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-medium",children:"Automatic Updates"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Automatically download and install updates"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Mechanism"}),e.jsxs("select",{value:z.updateMechanism,onChange:Y=>k(L=>({...L,updateMechanism:Y.target.value})),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",children:[e.jsx("option",{value:"BuiltIn",children:"Built-in"}),e.jsx("option",{value:"Script",children:"Script"}),e.jsx("option",{value:"Docker",children:"Docker"}),e.jsx("option",{value:"Apt",children:"Apt"}),e.jsx("option",{value:"External",children:"External"})]})]}),z.updateMechanism==="Script"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Script Path"}),e.jsx("input",{type:"text",value:z.updateScriptPath,onChange:Y=>k(L=>({...L,updateScriptPath:Y.target.value})),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",placeholder:"/path/to/update/script.sh"})]})]})]})]})]})}function tk({showAdvanced:a=!1}){const[r,l]=u.useState(!0),[o,d]=u.useState(!1),[h,f]=u.useState(!1),p=u.useRef(null);li(h);const[x,g]=u.useState({firstDayOfWeek:"sunday",calendarWeekColumnHeader:"ddd M/D",shortDateFormat:"MMM D YYYY",longDateFormat:"dddd, MMMM D YYYY",timeFormat:"h:mm A",showRelativeDates:!0,theme:"auto",enableColorImpairedMode:!1,uiLanguage:"en",showUnknownLeagueItems:!1,showEventPath:!1});u.useEffect(()=>{b()},[]);const b=async()=>{try{const j=await js("/api/settings");if(j.ok){const C=await j.json();if(C.uiSettings){const E=JSON.parse(C.uiSettings);g(E),p.current=E,f(!1)}}}catch(j){console.error("Failed to load UI settings:",j)}finally{l(!1)}};u.useEffect(()=>{if(!p.current)return;const j=JSON.stringify(x)!==JSON.stringify(p.current);f(j)},[x]);const w=async()=>{d(!0);try{const j=await js("/api/settings");if(!j.ok)throw new Error("Failed to fetch current settings");const E={...await j.json(),uiSettings:JSON.stringify(x)};(await nl("/api/settings",E)).ok?(p.current=x,f(!1)):console.error("Failed to save UI settings")}catch(j){console.error("Failed to save UI settings:",j)}finally{d(!1)}},T=(j,C)=>{g(E=>({...E,[j]:C}))};return r?e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"UI"}),e.jsx("p",{className:"text-gray-400",children:"User interface preferences and customization"})]}),e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500",children:"Loading UI settings..."})})]}):e.jsxs("div",{children:[e.jsx(ni,{title:"UI",subtitle:"User interface preferences and customization",onSave:w,isSaving:o,hasUnsavedChanges:h,saveButtonText:"Save Changes"}),e.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[e.jsxs("div",{className:"mb-8 bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(Xn,{className:"w-6 h-6 text-red-400 mr-3"}),e.jsx("h3",{className:"text-xl font-semibold text-white",children:"Calendar"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"First Day of Week"}),e.jsxs("select",{value:x.firstDayOfWeek,onChange:j=>T("firstDayOfWeek",j.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",children:[e.jsx("option",{value:"sunday",children:"Sunday"}),e.jsx("option",{value:"monday",children:"Monday"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Week Column Header"}),e.jsx("input",{type:"text",value:x.calendarWeekColumnHeader,onChange:j=>T("calendarWeekColumnHeader",j.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format for calendar week column headers"}),e.jsx("div",{className:"mt-2 p-3 bg-blue-950/30 border border-blue-900/50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-300",children:[e.jsx("strong",{children:"Examples:"})," ddd M/D = Mon 1/1 | MMM D = Jan 1 | ddd D/M = Mon 1/1"]})})]})]})]}),e.jsxs("div",{className:"mb-8 bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(Rr,{className:"w-6 h-6 text-red-400 mr-3"}),e.jsx("h3",{className:"text-xl font-semibold text-white",children:"Dates"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Short Date Format"}),e.jsxs("select",{value:x.shortDateFormat,onChange:j=>T("shortDateFormat",j.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",children:[e.jsx("option",{value:"MMM D YYYY",children:"Dec 25 2024"}),e.jsx("option",{value:"DD MMM YYYY",children:"25 Dec 2024"}),e.jsx("option",{value:"MM/DD/YYYY",children:"12/25/2024"}),e.jsx("option",{value:"DD/MM/YYYY",children:"25/12/2024"}),e.jsx("option",{value:"YYYY-MM-DD",children:"2024-12-25"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Long Date Format"}),e.jsxs("select",{value:x.longDateFormat,onChange:j=>T("longDateFormat",j.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",children:[e.jsx("option",{value:"dddd, MMMM D YYYY",children:"Monday, December 25 2024"}),e.jsx("option",{value:"dddd, D MMMM YYYY",children:"Monday, 25 December 2024"}),e.jsx("option",{value:"MMMM D YYYY",children:"December 25 2024"}),e.jsx("option",{value:"D MMMM YYYY",children:"25 December 2024"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Time Format"}),e.jsxs("select",{value:x.timeFormat,onChange:j=>T("timeFormat",j.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",children:[e.jsx("option",{value:"h:mm A",children:"9:00 PM (12-hour)"}),e.jsx("option",{value:"HH:mm",children:"21:00 (24-hour)"})]})]}),e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:x.showRelativeDates,onChange:j=>T("showRelativeDates",j.target.checked),className:"mt-1 w-5 h-5 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-medium",children:"Show Relative Dates"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:'Show relative dates (e.g., "Today at 5:30 PM" instead of "Jan 5 2024 at 5:30 PM")'})]})]})]})]}),e.jsxs("div",{className:"mb-8 bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(kS,{className:"w-6 h-6 text-red-400 mr-3"}),e.jsx("h3",{className:"text-xl font-semibold text-white",children:"Style"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Theme"}),e.jsxs("select",{value:x.theme,onChange:j=>T("theme",j.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",children:[e.jsx("option",{value:"auto",children:"Auto (Follow System)"}),e.jsx("option",{value:"light",children:"Light"}),e.jsx("option",{value:"dark",children:"Dark"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Sportarr will match your system theme in auto mode"})]}),e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:x.enableColorImpairedMode,onChange:j=>T("enableColorImpairedMode",j.target.checked),className:"mt-1 w-5 h-5 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-medium",children:"Enable Color-Impaired Mode"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Altered color style to better differentiate status colors for color-impaired users"})]})]})]})]}),e.jsxs("div",{className:"mb-8 bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Language"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"UI Language"}),e.jsxs("select",{value:x.uiLanguage,onChange:j=>T("uiLanguage",j.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-600",children:[e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"es",children:"Espaol (Spanish)"}),e.jsx("option",{value:"pt",children:"Portugus (Portuguese)"}),e.jsx("option",{value:"ja",children:" (Japanese)"}),e.jsx("option",{value:"ko",children:" (Korean)"}),e.jsx("option",{value:"th",children:" (Thai)"}),e.jsx("option",{value:"ru",children:" (Russian)"}),e.jsx("option",{value:"de",children:"Deutsch (German)"}),e.jsx("option",{value:"fr",children:"Franais (French)"}),e.jsx("option",{value:"zh",children:" (Chinese)"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Language for the Sportarr user interface"})]})]}),a&&e.jsxs("div",{className:"mb-8 bg-gradient-to-br from-gray-900 to-black border border-yellow-900/30 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(Zy,{className:"w-6 h-6 text-yellow-400 mr-3"}),e.jsxs("h3",{className:"text-xl font-semibold text-white",children:["Display Options",e.jsx("span",{className:"ml-2 px-2 py-0.5 bg-yellow-900/30 text-yellow-400 text-xs rounded",children:"Advanced"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:x.showUnknownLeagueItems,onChange:j=>T("showUnknownLeagueItems",j.target.checked),className:"mt-1 w-5 h-5 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-medium",children:"Show Unknown League Items"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Display items from unrecognized sports leagues"})]})]}),e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:x.showEventPath,onChange:j=>T("showEventPath",j.target.checked),className:"mt-1 w-5 h-5 rounded border-gray-600 bg-gray-800 text-red-600 focus:ring-red-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-medium",children:"Show Event Path"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Show the path to event files in the UI"})]})]})]})]}),a&&e.jsxs("div",{className:"mb-8 bg-gradient-to-br from-gray-900 to-black border border-blue-900/30 rounded-lg p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Date/Time Format Tokens"}),e.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Reference for custom date and time format patterns"}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium mb-2",children:"Month"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("p",{className:"text-gray-300",children:[e.jsx("code",{className:"text-green-400",children:"MMMM"})," = December"]}),e.jsxs("p",{className:"text-gray-300",children:[e.jsx("code",{className:"text-green-400",children:"MMM"})," = Dec"]}),e.jsxs("p",{className:"text-gray-300",children:[e.jsx("code",{className:"text-green-400",children:"MM"})," = 12"]}),e.jsxs("p",{className:"text-gray-300",children:[e.jsx("code",{className:"text-green-400",children:"M"})," = 12"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium mb-2",children:"Day"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("p",{className:"text-gray-300",children:[e.jsx("code",{className:"text-green-400",children:"dddd"})," = Monday"]}),e.jsxs("p",{className:"text-gray-300",children:[e.jsx("code",{className:"text-green-400",children:"ddd"})," = Mon"]}),e.jsxs("p",{className:"text-gray-300",children:[e.jsx("code",{className:"text-green-400",children:"DD"})," = 25"]}),e.jsxs("p",{className:"text-gray-300",children:[e.jsx("code",{className:"text-green-400",children:"D"})," = 25"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium mb-2",children:"Year"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("p",{className:"text-gray-300",children:[e.jsx("code",{className:"text-green-400",children:"YYYY"})," = 2024"]}),e.jsxs("p",{className:"text-gray-300",children:[e.jsx("code",{className:"text-green-400",children:"YY"})," = 24"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium mb-2",children:"Time"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("p",{className:"text-gray-300",children:[e.jsx("code",{className:"text-green-400",children:"HH"})," = 21 (24-hour)"]}),e.jsxs("p",{className:"text-gray-300",children:[e.jsx("code",{className:"text-green-400",children:"H"})," = 21 (24-hour)"]}),e.jsxs("p",{className:"text-gray-300",children:[e.jsx("code",{className:"text-green-400",children:"h"})," = 9 (12-hour)"]}),e.jsxs("p",{className:"text-gray-300",children:[e.jsx("code",{className:"text-green-400",children:"mm"})," = 30 (minutes)"]}),e.jsxs("p",{className:"text-gray-300",children:[e.jsx("code",{className:"text-green-400",children:"A"})," = PM"]})]})]})]})]})]})]})}function sk({showAdvanced:a=!1}){var ne;const[r,l]=u.useState([]),[o,d]=u.useState(!0),[h,f]=u.useState(!1),[p,x]=u.useState(!1),[g,b]=u.useState(null),[w,T]=u.useState(null),[j,C]=u.useState(""),[E,S]=u.useState("#3b82f6"),D=[{name:"Blue",value:"#3b82f6"},{name:"Red",value:"#ef4444"},{name:"Green",value:"#10b981"},{name:"Yellow",value:"#f59e0b"},{name:"Purple",value:"#8b5cf6"},{name:"Pink",value:"#ec4899"},{name:"Indigo",value:"#6366f1"},{name:"Orange",value:"#f97316"},{name:"Teal",value:"#14b8a6"},{name:"Cyan",value:"#06b6d4"},{name:"Lime",value:"#84cc16"},{name:"Emerald",value:"#059669"}];u.useEffect(()=>{U()},[]);const U=async()=>{try{const _=await js("/api/tag");if(_.ok){const we=await _.json();l(we)}}catch(_){console.error("Failed to fetch tags:",_)}finally{d(!1)}},y=async()=>{if(j.trim()&&!r.some(_=>_.label.toLowerCase()===j.trim().toLowerCase()))try{const _=await Jn("/api/tag",{label:j.trim(),color:E});if(_.ok){const we=await _.json();l(Y=>[...Y,we]),f(!1),C(""),S("#3b82f6")}}catch(_){console.error("Failed to add tag:",_)}},F=async()=>{if(w&&j.trim()&&!r.some(_=>_.id!==w.id&&_.label.toLowerCase()===j.trim().toLowerCase()))try{const _=await nl(`/api/tag/${w.id}`,{id:w.id,label:j.trim(),color:E});if(_.ok){const we=await _.json();l(Y=>Y.map(L=>L.id===w.id?we:L)),x(!1),T(null),C(""),S("#3b82f6")}}catch(_){console.error("Failed to edit tag:",_)}},te=async _=>{try{(await Ud(`/api/tag/${_}`)).ok&&(l(Y=>Y.filter(L=>L.id!==_)),b(null))}catch(we){console.error("Failed to delete tag:",we)}},z=_=>{T(_),C(_.label),S(_.color),x(!0)},k=()=>{f(!1),C(""),S("#3b82f6")},K=()=>{x(!1),T(null),C(""),S("#3b82f6")};return o?e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Tags"}),e.jsx("p",{className:"text-gray-400",children:"Manage tags for organizing events, profiles, and indexers"})]}),e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500",children:"Loading tags..."})})]}):e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Tags"}),e.jsx("p",{className:"text-gray-400",children:"Manage tags for organizing events, profiles, and indexers"})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:[e.jsx(ws,{className:"w-5 h-5"}),"Add Tag"]})}),e.jsx("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg overflow-hidden",children:r.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(v0,{className:"w-16 h-16 text-gray-700 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 mb-2",children:"No tags configured"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Create tags to organize your events and settings"})]}):e.jsx("div",{className:"divide-y divide-gray-800",children:r.map(_=>e.jsxs("div",{className:"p-4 hover:bg-gray-800/50 transition-colors flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:_.color}}),e.jsx("span",{className:"text-white font-medium",children:_.label}),e.jsx("span",{className:"text-sm text-gray-500",style:{color:_.color},children:_.color})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>z(_),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",title:"Edit tag",children:e.jsx(Xa,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>b(_.id),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-gray-700 rounded transition-colors",title:"Delete tag",children:e.jsx(vt,{className:"w-4 h-4"})})]})]},_.id))})}),a&&r.length>0&&e.jsxs("div",{className:"mt-6 bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Tag Usage"}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Tags can be applied to:"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-400 text-sm space-y-1",children:[e.jsx("li",{children:"Events to categorize by promotion, organization, or event type"}),e.jsx("li",{children:"Quality Profiles to apply different quality settings to different tags"}),e.jsx("li",{children:"Custom Formats to restrict formats to specific content"}),e.jsx("li",{children:"Indexers to control which indexers are used for tagged content"}),e.jsx("li",{children:"Download Clients to route downloads to specific clients"}),e.jsx("li",{children:"Notifications to send alerts only for tagged content"})]})]}),h&&e.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white",children:"Add Tag"}),e.jsx("button",{onClick:k,className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(pt,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Label *"}),e.jsx("input",{type:"text",value:j,onChange:_=>C(_.target.value),placeholder:"e.g., UFC, Bellator, High Priority",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-red-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Color"}),e.jsx("div",{className:"grid grid-cols-6 gap-2 mb-3",children:D.map(_=>e.jsx("button",{onClick:()=>S(_.value),className:`w-10 h-10 rounded-lg transition-all ${E===_.value?"ring-2 ring-white ring-offset-2 ring-offset-gray-900":"hover:scale-110"}`,style:{backgroundColor:_.value},title:_.name},_.value))}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"color",value:E,onChange:_=>S(_.target.value),className:"w-12 h-10 bg-gray-800 border border-gray-700 rounded cursor-pointer"}),e.jsx("input",{type:"text",value:E,onChange:_=>S(_.target.value),className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-500"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-800/50 rounded-lg",children:[e.jsx("div",{className:"w-6 h-6 rounded-full flex-shrink-0",style:{backgroundColor:E}}),e.jsx("span",{className:"text-white font-medium",children:j||"Tag Preview"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{onClick:k,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:y,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Add Tag"})]})]})}),p&&w&&e.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white",children:"Edit Tag"}),e.jsx("button",{onClick:K,className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(pt,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Label *"}),e.jsx("input",{type:"text",value:j,onChange:_=>C(_.target.value),placeholder:"e.g., UFC, Bellator, High Priority",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-red-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Color"}),e.jsx("div",{className:"grid grid-cols-6 gap-2 mb-3",children:D.map(_=>e.jsx("button",{onClick:()=>S(_.value),className:`w-10 h-10 rounded-lg transition-all ${E===_.value?"ring-2 ring-white ring-offset-2 ring-offset-gray-900":"hover:scale-110"}`,style:{backgroundColor:_.value},title:_.name},_.value))}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"color",value:E,onChange:_=>S(_.target.value),className:"w-12 h-10 bg-gray-800 border border-gray-700 rounded cursor-pointer"}),e.jsx("input",{type:"text",value:E,onChange:_=>S(_.target.value),className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-red-500"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-800/50 rounded-lg",children:[e.jsx("div",{className:"w-6 h-6 rounded-full flex-shrink-0",style:{backgroundColor:E}}),e.jsx("span",{className:"text-white font-medium",children:j||"Tag Preview"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{onClick:K,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:F,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Save Changes"})]})]})}),g!==null&&e.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-red-900/30 rounded-lg max-w-md w-full p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Delete Tag"}),e.jsxs("p",{className:"text-gray-300 mb-6",children:['Are you sure you want to delete the tag "',e.jsx("span",{className:"font-semibold text-white",children:(ne=r.find(_=>_.id===g))==null?void 0:ne.label}),'"?']}),e.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"This will remove the tag from all items it's currently assigned to."}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>b(null),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:()=>te(g),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Delete"})]})]})})]})}function ak(){u.useEffect(()=>{const a=new Map,r=new MutationObserver(o=>{for(const d of o)if(d.type==="attributes"&&d.attributeName==="inert"){const h=d.target;h.hasAttribute("inert")?a.set(h,Date.now()):a.delete(h)}}),l=setInterval(()=>{const o=Date.now();document.querySelector('[role="dialog"]')!==null||document.querySelectorAll("[inert]").forEach(h=>{const f=a.get(h);(!f||o-f>500)&&(h.removeAttribute("inert"),a.delete(h))})},200);return r.observe(document.body,{attributes:!0,attributeFilter:["inert"],subtree:!0}),()=>{r.disconnect(),clearInterval(l)}},[])}const rk=new wN({defaultOptions:{queries:{staleTime:1e3*60*5,retry:1}}});function nk(){var a;return ak(),e.jsx(GS,{children:e.jsxs(NN,{client:rk,children:[e.jsxs(W1,{basename:((a=window.Sportarr)==null?void 0:a.urlBase)||"",children:[e.jsx(z2,{position:"top-right",theme:"dark",richColors:!0,closeButton:!0}),e.jsx(YS,{children:e.jsxs(A1,{children:[e.jsx(ft,{path:"/setup",element:e.jsx(HC,{})}),e.jsx(ft,{path:"/login",element:e.jsx($C,{})}),e.jsxs(ft,{path:"/",element:e.jsx(VS,{children:e.jsx(QS,{})}),children:[e.jsx(ft,{index:!0,element:e.jsx(lo,{to:"/leagues",replace:!0})}),e.jsx(ft,{path:"leagues",element:e.jsx(rC,{})}),e.jsx(ft,{path:"leagues/:id",element:e.jsx(mC,{})}),e.jsx(ft,{path:"add-league/search",element:e.jsx(gC,{})}),e.jsx(ft,{path:"add-event/search",element:e.jsx(fC,{})}),e.jsx(ft,{path:"library-import",element:e.jsx(RC,{})}),e.jsx(ft,{path:"calendar",element:e.jsx(yC,{})}),e.jsx(ft,{path:"activity",element:e.jsx(EC,{})}),e.jsx(ft,{path:"wanted",element:e.jsx(TC,{})}),e.jsx(ft,{path:"settings",element:e.jsx(lo,{to:"/settings/mediamanagement",replace:!0})}),e.jsx(ft,{path:"settings/mediamanagement",element:e.jsx(_C,{})}),e.jsx(ft,{path:"settings/profiles",element:e.jsx(IC,{})}),e.jsx(ft,{path:"settings/quality",element:e.jsx(QC,{})}),e.jsx(ft,{path:"settings/customformats",element:e.jsx(YC,{})}),e.jsx(ft,{path:"settings/trashguides",element:e.jsx(VC,{})}),e.jsx(ft,{path:"settings/indexers",element:e.jsx(KC,{})}),e.jsx(ft,{path:"settings/importlists",element:e.jsx(ZC,{})}),e.jsx(ft,{path:"settings/downloadclients",element:e.jsx(JC,{})}),e.jsx(ft,{path:"settings/notifications",element:e.jsx(WC,{})}),e.jsx(ft,{path:"settings/general",element:e.jsx(ek,{})}),e.jsx(ft,{path:"settings/ui",element:e.jsx(tk,{})}),e.jsx(ft,{path:"settings/tags",element:e.jsx(sk,{})}),e.jsx(ft,{path:"system",element:e.jsx(lo,{to:"/system/status",replace:!0})}),e.jsx(ft,{path:"system/status",element:e.jsx(DC,{})}),e.jsx(ft,{path:"system/health",element:e.jsx(OC,{})}),e.jsx(ft,{path:"system/tasks",element:e.jsx(PC,{})}),e.jsx(ft,{path:"system/backup",element:e.jsx(LC,{})}),e.jsx(ft,{path:"system/updates",element:e.jsx(zC,{})}),e.jsx(ft,{path:"system/events",element:e.jsx(UC,{})}),e.jsx(ft,{path:"system/logs",element:e.jsx(BC,{})}),e.jsx(ft,{path:"*",element:e.jsx(qC,{})})]})]})})]}),e.jsx(LN,{initialIsOpen:!1})]})})}async function lk(){var a;try{const r=`${((a=window.Sportarr)==null?void 0:a.urlBase)||""}/initialize.json?t=${Date.now()}`,l=await fetch(r);if(!l.ok)throw new Error(`Failed to fetch initialize.json: ${l.status}`);window.Sportarr=await l.json(),console.log("[INIT] Loaded config from backend:",window.Sportarr)}catch(r){console.error("Failed to initialize Sportarr config:",r),window.Sportarr={apiRoot:"",apiKey:"",urlBase:"",version:"unknown"}}Ww.createRoot(document.getElementById("root")).render(e.jsx(u.StrictMode,{children:e.jsx(nk,{})}))}lk();
